try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="7f92703d-25ba-486c-822e-6a1eab9c3b26",e._sentryDebugIdIdentifier="sentry-dbid-7f92703d-25ba-486c-822e-6a1eab9c3b26")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[82158],{14743:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>T});var a=t(80263),n=t(22891),r=t(31092),l=t(76196),c=t(3701),i=t(53239),d=t(37873),o=t(44168),x=t(53931),u=t(3413),h=t(48510),p=t(85039),f=t(30404),m=t(78039),g=t(78511),j=t(88044),y=t(64758),b=t(84152),N=t(29556),k=t(39108);let v=()=>{let{ref:e}=(0,n.g)(),s=(0,c.useRouter)(),[t,v]=(0,i.useState)(""),{data:w=[],error:A,isError:_,isLoading:B,isSuccess:S}=(0,u.j)({projectRef:e}),C=w.filter(e=>0===t.length||e.name.toLowerCase().includes(t.toLowerCase())),P=0===w.length,I=(t,a)=>{let n="/project/".concat(e,"/storage/analytics/buckets/").concat(encodeURIComponent(t));a.metaKey||a.ctrlKey?window.open("".concat(p.o2).concat(n),"_blank"):s.push(n)};return(0,a.jsxs)(d.gu,{isFullWidth:!0,"data-sentry-element":"ScaffoldSection","data-sentry-component":"AnalyticsBuckets","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)(b.$,{type:"analytics","data-sentry-element":"AlphaNotice","data-sentry-source-file":"index.tsx"}),B&&(0,a.jsx)(x.yV,{}),_&&(0,a.jsx)(o.A,{error:A,subject:"Failed to retrieve analytics buckets"}),S&&(0,a.jsx)(a.Fragment,{children:P?(0,a.jsx)(N.Z,{bucketType:"analytics"}):(0,a.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,a.jsxs)(d.Uw,{className:"py-0 flex flex-row items-center gap-x-2",children:[(0,a.jsx)(d.sZ,{children:"Buckets"}),C.length>0&&(0,a.jsxs)(f.m_,{children:[(0,a.jsx)(f.k$,{children:(0,a.jsxs)("span",{className:"bg-surface-200 rounded-full px-2 py-1 leading-none text-xs text-foreground-lighter tracking-widest",children:[C.length,"/2"]})}),(0,a.jsxs)(f.ZI,{side:"bottom",className:"w-64 text-center",children:["Each project can only have up to 2 buckets while analytics buckets are in alpha"," "]})]})]}),(0,a.jsxs)("div",{className:"flex flex-grow justify-between gap-x-2 items-center",children:[(0,a.jsx)(y.p,{size:"tiny",className:"flex-grow lg:flex-grow-0 w-52",placeholder:"Search for a bucket",value:t,onChange:e=>v(e.target.value),icon:(0,a.jsx)(r.A,{size:12})}),(0,a.jsx)(k.s,{buttonType:"primary",buttonClassName:"w-fit"})]}),B?(0,a.jsx)(x.yV,{}):(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(g.XI,{children:[(0,a.jsx)(g.A0,{children:(0,a.jsxs)(g.Hj,{children:[C.length>0&&(0,a.jsx)(g.nd,{className:"w-2 pr-1",children:(0,a.jsx)("span",{className:"sr-only",children:"Icon"})}),(0,a.jsx)(g.nd,{children:"Name"}),(0,a.jsx)(g.nd,{children:"Created at"}),(0,a.jsx)(g.nd,{children:(0,a.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,a.jsxs)(g.BF,{children:[0===C.length&&t.length>0&&(0,a.jsx)(g.Hj,{className:"[&>td]:hover:bg-inherit",children:(0,a.jsxs)(g.nA,{colSpan:3,children:[(0,a.jsx)("p",{className:"text-sm text-foreground",children:"No results found"}),(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:['Your search for "',t,'" did not return any results']})]})}),C.map(e=>(0,a.jsxs)(g.Hj,{className:"relative cursor-pointer h-16 inset-focus",onClick:s=>I(e.name,s),onKeyDown:s=>{("Enter"===s.key||" "===s.key)&&(s.preventDefault(),I(e.name,s))},tabIndex:0,children:[(0,a.jsx)(g.nA,{className:"w-2 pr-1",children:(0,a.jsx)(h.fW,{size:16,className:"text-foreground-muted"})}),(0,a.jsx)(g.nA,{children:(0,a.jsx)("p",{className:"whitespace-nowrap max-w-[512px] truncate",children:e.name})}),(0,a.jsx)(g.nA,{children:(0,a.jsx)("p",{className:"text-foreground-light",children:(0,a.jsx)(j.T,{utcTimestamp:e.created_at,className:"text-sm text-foreground-light"})})}),(0,a.jsx)(g.nA,{children:(0,a.jsx)("div",{className:"flex justify-end items-center h-full",children:(0,a.jsx)(l.A,{size:14,className:"text-foreground-muted/60"})})})]},e.name))]})]})})]})})]})};var w=t(20041),A=t(90718),_=t(10508),B=t(87829),S=t(27843),C=t(78960),P=t(84512);let I=()=>{let{ref:e}=(0,n.g)(),{data:s}=(0,P.s)(),t=(null==s?void 0:s.plan.id)!=="free";return(0,C.mM)({projectRef:e})?t?(0,a.jsx)(v,{}):(0,a.jsx)(A.H,{type:"analytics"}):(0,a.jsx)(w.g,{type:"analytics"})};I.getLayout=e=>(0,a.jsx)(_.A,{children:(0,a.jsx)(S.A,{title:"Storage",children:(0,a.jsx)(B.D,{children:e})})});let T=I},20041:(e,s,t)=>{"use strict";t.d(s,{g:()=>x});var a=t(80263),n=t(86510),r=t(52555),l=t.n(r),c=t(37873),i=t(48510),d=t(99779),o=t(61767);let x=e=>{let{type:s}=e;return(0,a.jsx)(c.gu,{isFullWidth:!0,"data-sentry-element":"ScaffoldSection","data-sentry-component":"BucketsComingSoon","data-sentry-source-file":"BucketsComingSoon.tsx",children:(0,a.jsxs)("aside",{className:"border border-dashed w-full bg-surface-100 rounded-lg px-4 py-10 flex flex-col gap-y-3 items-center text-center gap-1 text-balance",children:[(0,a.jsx)(i.fW,{size:24,strokeWidth:1.5,className:"text-foreground-muted","data-sentry-element":"Bucket","data-sentry-source-file":"BucketsComingSoon.tsx"}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)("h3",{children:"Coming soon"}),(0,a.jsx)("p",{className:"text-foreground-light text-sm",children:"analytics"===s?o.TD.analytics.valueProp:"vector"===s?o.TD.vectors.valueProp:void 0})]}),"analytics"===s&&(0,a.jsx)(d.$,{asChild:!0,type:"default",icon:(0,a.jsx)(n.A,{}),children:(0,a.jsx)(l(),{target:"_blank",rel:"noopener noreferrer",href:"https://forms.supabase.com/analytics-buckets",children:"Request access"})})]})})}},71500:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/storage/analytics",function(){return t(14743)}])},84152:(e,s,t)=>{"use strict";t.d(s,{$:()=>x});var a=t(80263),n=t(86510),r=t(52555),l=t.n(r),c=t(85039),i=t(21650),d=t(99779),o=t(44725);let x=e=>{let{type:s}=e;return(0,a.jsxs)(o.Z,{showIcon:!1,type:"tip",className:"relative mb-6 overflow-hidden","data-sentry-element":"Admonition","data-sentry-component":"AlphaNotice","data-sentry-source-file":"AlphaNotice.tsx",children:[(0,a.jsxs)("div",{className:"absolute -inset-16 z-0 opacity-50",children:[(0,a.jsx)("img",{src:"".concat(c.o2,"/img/reports/bg-grafana-dark.svg"),alt:"Supabase Grafana",className:"w-full h-full object-cover object-right hidden dark:block"}),(0,a.jsx)("img",{src:"".concat(c.o2,"/img/reports/bg-grafana-light.svg"),alt:"Supabase Grafana",className:"w-full h-full object-cover object-right dark:hidden"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-background-alternative to-transparent"})]}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center gap-y-2 md:gap-x-8 justify-between px-2 py-1",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-0.5",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-2 items-start",children:[(0,a.jsx)(i.E,{variant:"success",className:"-ml-0.5 uppercase","data-sentry-element":"Badge","data-sentry-source-file":"AlphaNotice.tsx",children:"New"}),(0,a.jsxs)("p",{className:"text-sm font-medium",children:["Introducing ",s," buckets"]})]}),(0,a.jsxs)("p",{className:"text-sm text-foreground-lighter text-balance",children:[(0,a.jsx)("span",{className:"capitalize",children:s})," buckets are now in private alpha. Expect rapid changes, limited features, and possible breaking updates. Please share feedback as we refine the experience and expand access."]})]}),(0,a.jsx)(d.$,{asChild:!0,type:"default",icon:(0,a.jsx)(n.A,{strokeWidth:1.5}),className:"mt-2","data-sentry-element":"Button","data-sentry-source-file":"AlphaNotice.tsx",children:(0,a.jsx)(l(),{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/orgs/supabase/discussions/40116","data-sentry-element":"Link","data-sentry-source-file":"AlphaNotice.tsx",children:"Share feedback"})})]})]})}},90718:(e,s,t)=>{"use strict";t.d(s,{H:()=>d});var a=t(80263),n=t(37873),r=t(86541),l=t(48510),c=t(84152),i=t(61767);let d=e=>{let{type:s}=e;return(0,a.jsxs)(n.gu,{isFullWidth:!0,"data-sentry-element":"ScaffoldSection","data-sentry-component":"BucketsUpgradePlan","data-sentry-source-file":"BucketsUpgradePlan.tsx",children:[(0,a.jsx)(c.$,{type:"analytics","data-sentry-element":"AlphaNotice","data-sentry-source-file":"BucketsUpgradePlan.tsx"}),(0,a.jsxs)("aside",{className:"border border-dashed w-full bg-surface-100 rounded-lg px-4 py-10 flex flex-col gap-y-4 items-center text-center gap-1 text-balance",children:[(0,a.jsx)(l.fW,{size:24,strokeWidth:1.5,className:"text-foreground-light","data-sentry-element":"Bucket","data-sentry-source-file":"BucketsUpgradePlan.tsx"}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-1 items-center text-center",children:[(0,a.jsx)("h3",{children:"analytics"===s?i.TD.analytics.valueProp:"vector"===s?i.TD.vectors.valueProp:void 0}),(0,a.jsxs)("p",{className:"text-foreground-light text-sm",children:["Upgrade to the Pro plan to use ",(0,a.jsx)("span",{className:"capitalize",children:s})," Buckets for your project"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-x-2",children:(0,a.jsx)(r.I,{type:"primary",plan:"Pro","data-sentry-element":"UpgradePlanButton","data-sentry-source-file":"BucketsUpgradePlan.tsx"})})]})]})}}},e=>{e.O(0,[60858,15599,16110,27764,36538,44033,33736,76984,72391,35035,40545,596,10508,48340,75187,29471,8750,27843,27924,17150,90636,46593,38792],()=>e(e.s=71500)),_N_E=e.O()}]);