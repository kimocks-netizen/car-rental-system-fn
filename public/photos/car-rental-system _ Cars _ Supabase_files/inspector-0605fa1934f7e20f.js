try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f172a9e4-eb21-4606-94a2-fbc09160b1c8",e._sentryDebugIdIdentifier="sentry-dbid-f172a9e4-eb21-4606-94a2-fbc09160b1c8")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93821],{4328:(e,t,s)=>{"use strict";s.d(t,{b:()=>a});let a={list:e=>["projects",e,"database-publications"]}},5448:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]])},17440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{InspectorPage:()=>tl,default:()=>tr});var a=s(80263),n=s(22891),l=s(53239),r=s(36261),o=s(34230),i=s(84512),c=s(9620),d=s(72112),x=s(39815),m=s(95069),u=s(23729),h=s(52919),p=s(80090),f=s(32981),g=s(76174),y=s(87494),j=s(10663),b=s(41273),v=s(85039),N=s(61548),w=s(99779),C=s(65887),k=s(27371),S=s(72608);let _=j.Ik({channel:j.Yj(),isPrivate:j.zM()}),R=e=>{let{config:t,onChangeConfig:s}=e,[o,c]=(0,l.useState)(!1),{ref:d}=(0,n.g)(),{data:x}=(0,i.s)(),{mutate:m}=(0,r.h)(),u=(0,y.mN)({mode:"onBlur",reValidateMode:"onBlur",resolver:(0,f.u)(_),defaultValues:{channel:"",isPrivate:!1}}),p=async()=>{var e;c(!1),m({action:"realtime_inspector_listen_channel_clicked",groups:{project:null!=d?d:"Unknown",organization:null!=(e=null==x?void 0:x.slug)?e:"Unknown"}});let a=t.token;(a.startsWith("sb_temp")||!n.pe)&&(a=(await (0,h.D)({projectRef:t.projectRef,expiry:3600})).api_key),s({...t,token:a,channelName:u.getValues("channel"),isChannelPrivate:u.getValues("isPrivate"),enabled:!0})};return(0,a.jsxs)(N.AM,{open:o,onOpenChange:e=>{!0===e&&u.setValue("channel",t.channelName),c(e)},"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"ChooseChannelPopover","data-sentry-source-file":"ChooseChannelPopover.tsx",children:[(0,a.jsx)(N.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"ChooseChannelPopover.tsx",children:(0,a.jsx)(w.$,{className:"rounded-r-none",type:"default",size:"tiny",iconRight:(0,a.jsx)(g.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"ChooseChannelPopover.tsx",children:(0,a.jsx)("p",{className:"max-w-[120px] truncate",title:t.channelName.length>0?t.channelName:"",children:t.channelName.length>0?"Channel: ".concat(t.channelName):"Join a channel"})})}),(0,a.jsx)(N.hl,{portal:!0,className:"p-0 w-[320px]",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"ChooseChannelPopover.tsx",children:(0,a.jsx)("div",{className:"p-4 flex flex-col text-sm",children:0===t.channelName.length?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(C.lV,{...u,children:(0,a.jsxs)("form",{id:"realtime-channel",onSubmit:u.handleSubmit(()=>p()),className:"flex flex-col gap-y-4",children:[(0,a.jsx)(C.zB,{name:"channel",control:u.control,render:e=>{let{field:t}=e;return(0,a.jsxs)(C.eI,{className:"flex flex-col gap-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsx)("label",{className:"text-foreground text-xs",children:"Name of channel"}),(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)(C.MJ,{children:(0,a.jsx)(k.p,{...t,autoComplete:"off",className:"rounded-r-none text-xs px-2.5 py-1 h-auto",placeholder:"Enter a channel name"})}),(0,a.jsx)(w.$,{type:"primary",className:"rounded-l-none",disabled:0===u.getValues().channel.length,onClick:()=>p(),children:"Listen to channel"})]})]}),(0,a.jsxs)(C.Rr,{className:"text-xs text-foreground-lighter",children:["The channel you initialize with the Supabase Realtime client. Learn more in"," ",(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",className:"underline hover:text-foreground transition",href:"".concat(v.aq,"/guides/realtime/concepts#channels"),children:"our docs"})]})]})}}),(0,a.jsx)(C.zB,{control:u.control,name:"isPrivate",render:e=>{let{field:t}=e;return(0,a.jsxs)(C.eI,{className:"",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(0,a.jsx)(C.MJ,{children:(0,a.jsx)(S.d,{checked:t.value,onCheckedChange:t.onChange,disabled:t.disabled})}),(0,a.jsx)(C.lR,{className:"text-xs",children:"Is channel private?"})]}),(0,a.jsx)(C.Rr,{className:"text-xs text-foreground-lighter mt-2",children:"If the channel is marked as private, it will use RLS policies to filter messages."})]})}},"isPrivate"),(0,a.jsx)(b.A,{abbrev:!1,className:"w-min",href:"".concat(v.aq,"/guides/realtime/authorization")})]})})}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsxs)("p",{className:"text-foreground text-xs",children:["Currently joined"," ",(0,a.jsx)("span",{className:t.isChannelPrivate?"text-brand":"text-warning",children:t.isChannelPrivate?"private":"public"})," ","channel:"]}),(0,a.jsx)("p",{className:"text-xs border border-scale-600  py-0.5 px-1 rounded-md bg-surface-200",children:t.channelName})]}),(0,a.jsx)("p",{className:"text-xs text-foreground-lighter mt-2",children:"If you leave this channel, all of the messages populated on this page will disappear"}),(0,a.jsx)(w.$,{type:"default",onClick:()=>s({...t,channelName:"",enabled:!1}),children:"Leave channel"})]})})})]})};var A=s(25975),M=s(52555),P=s.n(M),I=s(80100),T=s(21650),z=s(7981);let E=(0,l.createContext)({contextSize:"small",className:""}),B=function(e){let{className:t,size:s,type:n="Mail",color:l,strokeWidth:r,fill:o,stroke:i,background:c,src:d,icon:x,...m}=e,u=(0,z.A)("icon");return(0,a.jsx)(E.Consumer,{"data-sentry-element":"IconContext.Consumer","data-sentry-component":"IconBase","data-sentry-source-file":"IconBase.tsx",children:e=>{let{contextSize:n,className:h}=e,p={tiny:14,small:18,medium:20,large:20,xlarge:24,xxlarge:30,xxxlarge:42},f=p.large,g=21;n&&(g=n?"string"==typeof n?p[n]:n:f),s&&(g=s?"string"==typeof s?p[s]:s:f);let y=!l&&!o&&!i,j=["sbui-icon",t];h&&j.push(h);let b=d?(0,a.jsx)("div",{className:"relative",style:{width:g+"px",height:g+"px"},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",color:y?"currentColor":l,fill:y?"none":o||"none",stroke:y?"currentColor":i,className:(0,I.cn)(j),width:"100%",height:"100%",strokeWidth:null!=r?r:void 0,...m,children:d})}):(0,a.jsx)(x,{color:y?"currentColor":l,stroke:y?"currentColor":i,className:(0,I.cn)(j),strokeWidth:r,size:g,fill:y?"none":o||"none",...m,"data-sentry-element":"FeatherIcon","data-sentry-component":"IconComponent","data-sentry-source-file":"IconBase.tsx"});return c?(0,a.jsx)("div",{className:u.container,children:b}):b}})},L=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"currentColor",strokeLinejoin:"round",strokeMiterlimit:10,d:"m23.149 23.499 3.424 7.83a.5.5 0 0 0 .942-.074l.74-2.868a.5.5 0 0 1 .364-.36l3.039-.756a.5.5 0 0 0 .08-.943l-7.93-3.487a.5.5 0 0 0-.66.658Z","data-sentry-element":"path","data-sentry-source-file":"IconPresence.tsx"}),(0,a.jsx)("path",{stroke:"currentColor",strokeLinejoin:"round",strokeMiterlimit:10,d:"M24.544 32.746h-5.623a3 3 0 0 1-3-3V18.5a3 3 0 0 1 3-3h11.247a3 3 0 0 1 3 3v5.623",opacity:.45,"data-sentry-element":"path","data-sentry-source-file":"IconPresence.tsx"})]}),D=function(e){return(0,a.jsx)(B,{src:(0,a.jsx)(L,{}),viewBox:"12.5 12 24 24",...e,"data-sentry-element":"IconBase","data-sentry-component":"IconPresence","data-sentry-source-file":"IconPresence.tsx"})};var F=s(21527);let W=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{id:"Ellipse 146",d:"M17.3154 6.70312C18.6968 8.06227 19.5532 9.95249 19.5532 12.0426C19.5532 14.1326 18.6968 16.0229 17.3154 17.382M6.79102 6.70312C5.40966 8.06227 4.55322 9.95249 4.55322 12.0426C4.55322 14.1326 5.40966 16.0229 6.79102 17.382",stroke:"currentColor",strokeMiterlimit:"10",strokeLinejoin:"bevel",opacity:.45,"data-sentry-element":"path","data-sentry-source-file":"IconBroadcast.tsx"}),(0,a.jsx)("ellipse",{id:"Ellipse 144",cx:"12.0532",cy:"12.0428",rx:"3.00928",ry:"3.00666",stroke:"currentColor",strokeMiterlimit:"10",strokeLinejoin:"bevel","data-sentry-element":"ellipse","data-sentry-source-file":"IconBroadcast.tsx"}),(0,a.jsx)("path",{id:"Vector 96",d:"M12.0747 15.0488L12.0747 23.9996",stroke:"currentColor",strokeMiterlimit:"10",strokeLinejoin:"bevel","data-sentry-element":"path","data-sentry-source-file":"IconBroadcast.tsx"})]}),$=function(e){return(0,a.jsx)(B,{src:(0,a.jsx)(W,{}),viewBox:"0 0 24 24",...e,"data-sentry-element":"IconBase","data-sentry-component":"IconBroadcast","data-sentry-source-file":"IconBroadcast.tsx"})},O=()=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:25,height:24,fill:"none","data-sentry-element":"svg","data-sentry-component":"SvgComponent","data-sentry-source-file":"IconDatabaseChanges.tsx",children:[(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"bevel",strokeMiterlimit:10,d:"M20.307 12a7.807 7.807 0 0 1-7.807 7.808M4.693 12A7.807 7.807 0 0 1 12.5 4.193",opacity:.45,"data-sentry-element":"path","data-sentry-source-file":"IconDatabaseChanges.tsx"}),(0,a.jsx)("circle",{cx:17.512,cy:6.971,r:3.723,stroke:"currentColor",strokeLinejoin:"bevel",strokeMiterlimit:10,"data-sentry-element":"circle","data-sentry-source-file":"IconDatabaseChanges.tsx"}),(0,a.jsx)("path",{stroke:"currentColor",strokeLinejoin:"bevel",strokeMiterlimit:10,d:"m10.11 13.287 2.137 3.703-2.138 3.703H5.833L3.695 16.99l2.138-3.703h4.276Z","data-sentry-element":"path","data-sentry-source-file":"IconDatabaseChanges.tsx"})]}),H=function(e){return(0,a.jsx)(B,{src:(0,a.jsx)(O,{}),viewBox:"0 0 25 24",...e,"data-sentry-element":"IconBase","data-sentry-component":"IconDatabaseChanges","data-sentry-source-file":"IconDatabaseChanges.tsx"})};var U=s(80421),Y=s(68421),G=s(84438);let J=e=>{let{value:t,onChange:s}=e;return(0,a.jsxs)("div",{className:"flex flex-row gap-4 items-center","data-sentry-component":"FilterSchema","data-sentry-source-file":"FilterSchema.tsx",children:[(0,a.jsx)("p",{className:"w-[60px] flex justify-end text-sm",children:"WHERE"}),(0,a.jsx)(G.A,{disabled:!0,supportSelectAll:!0,size:"small",selectedSchemaName:t,onSelectSchema:s,className:"rounded-l-none [&>button>span>div]:py-0 w-64","data-sentry-element":"SchemaSelector","data-sentry-source-file":"FilterSchema.tsx"})]})};var V=s(29244),q=s(20033),X=s(97757),K=s(68011),Z=s(77796),Q=s.n(Z),ee=s(54831),et=s(64585),es=s(23892);let ea=e=>{let{className:t,size:s="tiny",showError:n=!0,selectedSchemaName:r,selectedTableName:o,onSelectTable:i}=e,[d,x]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),{data:h}=(0,c.YA)(),[p,f]=(0,l.useState)(""),{data:g,isLoading:y,isSuccess:j,isError:b,error:v,refetch:C}=(0,K.kD)({projectRef:null==h?void 0:h.ref,search:p,connectionString:null==h?void 0:h.connectionString,schemas:[r]});(0,l.useEffect)(()=>{!m&&j&&u(!0)},[m,j]),(0,l.useEffect)(()=>{d||""===p||f("")},[d,p]);let k=Q()(f),S=((null==g?void 0:g.pages[0].data.entities)?[...null==g?void 0:g.pages[0].data.entities]:[]).sort((e,t)=>e.name>t.name?0:-1);return(0,a.jsx)("div",{className:t,"data-sentry-component":"TableSelector","data-sentry-source-file":"TableSelector.tsx",children:(0,a.jsxs)(N.AM,{open:d,onOpenChange:x,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:[(0,a.jsx)(N.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:(0,a.jsx)(w.$,{size:s,type:"outline",disabled:y,className:"w-full [&>span]:w-full ".concat("small"===s?"py-1.5":""),icon:y?(0,a.jsx)(ee.A,{className:"animate-spin",size:12}):null,iconRight:(0,a.jsx)(et.A,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),"data-sentry-element":"Button","data-sentry-source-file":"TableSelector.tsx",children:m?(0,a.jsxs)("div",{className:"w-full flex space-x-3",children:[(0,a.jsx)("p",{className:"text-xs text-light",children:"table"}),(0,a.jsx)("p",{className:"text-xs",children:"*"===o?"All tables":o})]}):(0,a.jsx)("p",{className:"flex text-xs text-light",children:"Loading tables..."})})}),(0,a.jsx)(N.hl,{className:"p-0 w-64",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:(0,a.jsxs)(V.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:[(0,a.jsx)(V.G7,{placeholder:"Find table...",onValueChange:e=>k(e),"data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"TableSelector.tsx"}),(0,a.jsxs)(V.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:[y&&(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 px-3 py-2",children:[(0,a.jsx)(ee.A,{className:"animate-spin",size:12}),(0,a.jsx)("p",{className:"flex text-xs text-light",children:"Loading tables..."})]}),n&&b&&(0,a.jsxs)(q.Fc,{variant:"warning",className:"!px-3 !py-3 !border-0 rounded-none",children:[(0,a.jsx)(q.XL,{className:"text-xs text-amber-900",children:"Failed to load tables"}),(0,a.jsxs)(q.TN,{className:"text-xs mb-2",children:["Error: ",null==v?void 0:v.message]}),(0,a.jsx)(w.$,{type:"default",size:"tiny",onClick:()=>C(),children:"Reload tables"})]}),j&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(V.L$,{forceMount:!0,children:(0,a.jsxs)(X.FK,{className:(S||[]).length>7?"h-[210px]":"",children:[(0,a.jsx)(V.xL,{children:"No tables found"}),!p&&(0,a.jsxs)(V.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{i("*",void 0),x(!1)},onClick:()=>{i("*",void 0),x(!1)},children:[(0,a.jsx)("span",{children:"All tables"}),"*"===r&&(0,a.jsx)(es.A,{className:"text-brand",strokeWidth:2})]},"all-tables"),null==S?void 0:S.map(e=>(0,a.jsxs)(V.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{i(e.name,e.id),x(!1)},onClick:()=>{i(e.name,e.id),x(!1)},children:[(0,a.jsx)("span",{children:e.name}),r===e.name&&(0,a.jsx)(es.A,{className:"text-brand",strokeWidth:2})]},e.id))]})})})]})]})})]})})},en=e=>{let{value:t,schema:s,onChange:n}=e;return(0,a.jsxs)("div",{className:"flex flex-row gap-4 items-center","data-sentry-component":"FilterTable","data-sentry-source-file":"FilterTable.tsx",children:[(0,a.jsx)("p",{className:"w-[60px] flex justify-end text-sm",children:"AND"}),(0,a.jsx)(ea,{selectedSchemaName:s,selectedTableName:t,onSelectTable:n,className:"w-64",size:"small","data-sentry-element":"TableSelector","data-sentry-source-file":"FilterTable.tsx"})]})},el=e=>{let{config:t,onChangeConfig:s}=e,[o,c]=(0,l.useState)(!1),[d,x]=(0,l.useState)(!1),[m,u]=(0,l.useState)(t),{ref:h}=(0,n.g)(),{data:p}=(0,i.s)(),{mutate:f}=(0,r.h)();(0,l.useEffect)(()=>{u(t)},[t]);let g="*"!==t.table;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(N.AM,{open:o,onOpenChange:e=>{!0===e&&u(t),c(e)},"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)(N.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"index.tsx",children:(0,a.jsx)(w.$,{icon:(0,a.jsx)(A.A,{size:"16"}),type:g?"primary":"dashed",className:(0,I.cn)("rounded-full px-1.5 text-xs",g?"!py-0.5":"!py-1"),size:"small","data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mr-1",children:"Filtered by "}),(0,a.jsxs)(T.E,{variant:"brand",children:["table: ",t.table]})]}):(0,a.jsx)("span",{className:"mr-1",children:"Filter messages"})})}),(0,a.jsxs)(N.hl,{className:"p-0 w-[365px]",align:"start",portal:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)("div",{className:"border-b border-overlay text-xs px-4 py-3 text-foreground",children:"Listen to event types"}),(0,a.jsxs)("div",{className:"py-3 px-4 border-b border-overlay",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2.5 items-center",children:[(0,a.jsx)(D,{size:"xlarge",className:"bg-foreground rounded text-background-muted","data-sentry-element":"IconPresence","data-sentry-source-file":"index.tsx"}),(0,a.jsx)("label",{htmlFor:"toggle-presence",className:"text-sm",children:"Presence"})]}),(0,a.jsx)(F.A,{id:"toggle-presence",size:"tiny",checked:m.enablePresence,onChange:()=>u({...m,enablePresence:!m.enablePresence}),"data-sentry-element":"Toggle","data-sentry-source-file":"index.tsx"})]}),(0,a.jsx)("p",{className:"text-xs text-foreground-light pt-1",children:"Store and synchronize user state consistently across clients"})]}),(0,a.jsxs)("div",{className:"py-3 px-4 border-b border-overlay",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2.5 items-center",children:[(0,a.jsx)($,{size:"xlarge",className:"bg-foreground rounded text-background-muted","data-sentry-element":"IconBroadcast","data-sentry-source-file":"index.tsx"}),(0,a.jsx)("label",{htmlFor:"toggle-broadcast",className:"text-sm",children:"Broadcast"})]}),(0,a.jsx)(F.A,{id:"toggle-broadcast",size:"tiny",checked:m.enableBroadcast,onChange:()=>u({...m,enableBroadcast:!m.enableBroadcast}),"data-sentry-element":"Toggle","data-sentry-source-file":"index.tsx"})]}),(0,a.jsx)("p",{className:"text-xs  text-foreground-light pt-1",children:"Send any data to any client subscribed to the same channel"})]}),(0,a.jsxs)("div",{className:"py-3 px-4 border-b border-overlay",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2.5 items-center",children:[(0,a.jsx)(H,{size:"xlarge",className:(0,I.cn)("rounded text-background-muted",t.enableDbChanges?"bg-foreground":"bg-foreground-lighter"),"data-sentry-element":"IconDatabaseChanges","data-sentry-source-file":"index.tsx"}),(0,a.jsx)("label",{htmlFor:"toggle-db-changes",className:(0,I.cn)("text-sm",!t.enableDbChanges&&"text-foreground-lighter"),children:"Database changes"})]}),(0,a.jsx)(F.A,{id:"toggle-db-changes",size:"tiny",checked:m.enableDbChanges,disabled:!t.enableDbChanges,onChange:()=>u({...m,enableDbChanges:!m.enableDbChanges}),"data-sentry-element":"Toggle","data-sentry-source-file":"index.tsx"})]}),(0,a.jsx)("p",{className:"text-xs text-foreground-light pt-1",children:t.enableDbChanges?"Listen for Database inserts, updates, deletes and more":"Enable realtime publications to listen for database changes"})]}),m.enableDbChanges&&t.enableDbChanges&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"border-b border-overlay text-xs px-4 py-3 text-foreground",children:"Filter messages from database changes"}),(0,a.jsxs)("div",{className:"flex border-b border-overlay p-4 gap-y-2 flex-col",children:[(0,a.jsx)(J,{value:m.schema,onChange:e=>u({...m,schema:e,table:"*"})}),(0,a.jsx)(en,{value:m.table,schema:m.schema,onChange:e=>u({...m,table:e})})]}),(0,a.jsxs)("div",{className:"border-b border-overlay p-4 flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[(0,a.jsx)("p",{className:"w-[60px] flex justify-end text-sm",children:"AND"}),(0,a.jsx)(U.A,{size:"tiny",className:"flex-grow",placeholder:"body=eq.hey",value:m.filter,onChange:e=>u({...m,filter:e.target.value})})]}),(0,a.jsxs)("p",{className:"text-xs text-foreground-light pl-[80px]",children:["Learn more about realtime filtering in"," ",(0,a.jsx)(P(),{className:"underline",target:"_blank",rel:"noreferrer",href:"".concat(v.aq,"/guides/realtime/postgres-changes#available-filters"),children:"our docs"})]})]})]}),(0,a.jsxs)("div",{className:"px-4 py-2 gap-2 flex justify-end",children:[(0,a.jsx)(w.$,{type:"default",onClick:()=>c(!1),"data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:"Cancel"}),(0,a.jsx)(w.$,{onClick:()=>x(!0),"data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:"Apply"})]})]})]}),(0,a.jsx)(Y.A,{title:"Previously found messages will be lost",variant:"destructive",confirmLabel:"Confirm",size:"small",visible:d,onCancel:()=>x(!1),onConfirm:()=>{var e;f({action:"realtime_inspector_filters_applied",groups:{project:null!=h?h:"Unknown",organization:null!=(e=null==p?void 0:p.slug)?e:"Unknown"}}),s(m),x(!1),c(!1)},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"index.tsx",children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"The realtime inspector will clear currently collected messages and start listening for new messages matching the updated filters."})})]})};var er=s(73969),eo=s(25580),ei=s(39327),ec=s(76750),ed=s(94636),ex=s(99842),em=s(13693);let eu=e=>{let{config:t,onChangeConfig:s}=e,{ref:o}=(0,n.g)(),{data:c}=(0,i.s)(),d=(0,em.RY)(),{canReadAPIKeys:x}=(0,eo.u)(),{data:m}=(0,ec.I)({projectRef:t.projectRef,reveal:!0},{enabled:x}),{anonKey:u,publishableKey:p}=(0,ec.x)(m),{data:f}=(0,ed.y)({projectRef:t.projectRef},{enabled:v.pe}),g=null==f?void 0:f.jwt_secret,{mutate:y}=(0,r.h)(),j=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{if(j.current){var e;y({action:"realtime_inspector_database_role_updated",groups:{project:null!=o?o:"Unknown",organization:null!=(e=null==c?void 0:c.slug)?e:"Unknown"}})}j.current=!0},[d.role]),(0,l.useEffect)(()=>{(async()=>{let e,a=null;if(void 0!==t.projectRef&&void 0!==g&&void 0!==d.role&&"postgrest"===d.role.type){var n;e=null!=(n=null==p?void 0:p.api_key)?n:null==u?void 0:u.api_key,await (0,ex._p)(t.projectRef,g,d.role).then(e=>a=e).catch(e=>er.oR.error("Failed to get JWT for role: ".concat(e.message)))}else try{e=(await (0,h.D)({projectRef:t.projectRef,expiry:3600})).api_key}catch(t){e=null==p?void 0:p.api_key}e&&s({...t,token:e,bearer:a})})()},[d.role,u]),(0,a.jsx)(ei.g,{align:"start",variant:"connected-on-both","data-sentry-element":"RoleImpersonationPopover","data-sentry-component":"RealtimeTokensPopover","data-sentry-source-file":"RealtimeTokensPopover.tsx"})},eh=e=>{let{config:t,onChangeConfig:s}=e,{mutate:l}=(0,r.h)(),{ref:o}=(0,n.g)(),{data:c}=(0,i.s)(),{can:f}=(0,p.Qp)(d.aG.READ,"service_api_keys");return(0,a.jsxs)("div",{className:"flex flex-row h-14 gap-2.5 items-center px-4","data-sentry-component":"Header","data-sentry-source-file":"Header.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)(R,{config:t,onChangeConfig:s,"data-sentry-element":"ChooseChannelPopover","data-sentry-source-file":"Header.tsx"}),(0,a.jsx)(eu,{config:t,onChangeConfig:s,"data-sentry-element":"RealtimeTokensPopover","data-sentry-source-file":"Header.tsx"}),(0,a.jsx)(u.G,{size:"tiny",type:t.enabled?"warning":"primary",className:"rounded-l-none border-l-0",disabled:!f||0===t.channelName.length,icon:t.enabled?(0,a.jsx)(x.A,{size:"16"}):(0,a.jsx)(m.A,{size:"16"}),onClick:async()=>{if(!t.enabled&&(t.token.startsWith("sb_temp")||!n.pe)){let e=(await (0,h.D)({projectRef:t.projectRef,expiry:3600})).api_key;s({...t,token:e,enabled:!t.enabled})}else s({...t,enabled:!t.enabled});if(!t.enabled){var e;l({action:"realtime_inspector_listen_channel_clicked",groups:{project:null!=o?o:"Unknown",organization:null!=(e=null==c?void 0:c.slug)?e:"Unknown"}})}},tooltip:{content:{side:"bottom",text:f?0===t.channelName.length?"You need to join a channel first":void 0:"You need additional permissions to use the realtime inspector"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"Header.tsx",children:t.enabled?"Stop listening":"Start listening"})]}),(0,a.jsx)(el,{config:t,onChangeConfig:s,"data-sentry-element":"RealtimeFilterPopover","data-sentry-source-file":"Header.tsx"})]})};var ep=s(84305),ef=s.n(ep),eg=s(86510),ey=s(73886),ej=s(61698),eb=s(24560),ev=s(39624),eN=s(42659),ew=s(16488),eC=s(68152),ek=s(27519),eS=s(53434),e_=s.n(eS);let eR=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"flex h-full w-full items-center gap-4","data-sentry-component":"RowLayout","data-sentry-source-file":"MessagesFormatters.tsx",children:t})},eA=e=>{let{value:t,hideCopy:s=!1}=e;return(0,a.jsx)(eM,{label:"Timestamp",value:e_().unix(Number(t)/1e3).toISOString(),hideCopy:s,"data-sentry-element":"SelectionDetailedRow","data-sentry-component":"SelectionDetailedTimestampRow","data-sentry-source-file":"MessagesFormatters.tsx"})},eM=e=>{let{label:t,value:s,valueRender:n,hideCopy:l=!1}=e;return(0,a.jsxs)("div",{className:"grid grid-cols-12 group","data-sentry-component":"SelectionDetailedRow","data-sentry-source-file":"MessagesFormatters.tsx",children:[(0,a.jsx)("span",{className:"text-scale-900 text-sm col-span-4 whitespace-pre-wrap",children:t}),(0,a.jsx)("span",{className:"text-scale-1200 text-sm col-span-6 whitespace-pre-wrap break-all",children:null!=n?n:s}),!l&&(0,a.jsx)(ek.A,{text:s,className:"group-hover:opacity-100 opacity-0 my-auto transition col-span-2  h-4 w-4 px-0 py-0",type:"text",title:"Copy to clipboard"})]})},eP=()=>(0,a.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light [[data-theme*=dark]_&]:bg-panel-border-interior-dark","data-sentry-component":"LogsDivider","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"}),eI=e=>{let{log:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"px-8",children:[(0,a.jsx)("span",{className:"col-span-4 text-sm text-scale-900",children:"Message"}),(0,a.jsx)("p",{className:"text-wrap mt-2 overflow-x-auto whitespace-pre-wrap font-mono text-xs text-scale-1200",children:t.message})]}),(0,a.jsx)(eP,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"}),(0,a.jsx)("div",{className:"px-8 space-y-2",children:(0,a.jsx)(eA,{hideCopy:!0,value:t.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"})}),(0,a.jsx)(eP,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"}),(0,a.jsxs)("div",{className:"px-8",children:[(0,a.jsx)("h3",{className:"mb-4 text-sm text-foreground-lighter",children:"Payload"}),(0,a.jsx)("pre",{className:"syntax-highlight overflow-x-auto text-sm",children:(0,a.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:t.metadata?function(e){let t=JSON.stringify(e,null,2);return(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-scale-1200":"string text-brand-600":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"}).split("\n").map(e=>'<span class="line text-xs">'.concat(e,"</span>")).join("\n")}(t.metadata):""}})})]})]})},eT=e=>{let{log:t,onClose:s}=e,o=(0,l.useMemo)(()=>JSON.stringify(t,null,2),[t]),{ref:c}=(0,n.g)(),{data:d}=(0,i.s)(),{mutate:x}=(0,r.h)();return(0,a.jsxs)("div",{className:(0,I.cn)("relative flex h-full flex-grow flex-col border-l border-t-2 overflow-y-scroll bg-200"),"data-sentry-component":"MessageSelection","data-sentry-source-file":"MessageSelection.tsx",children:[(0,a.jsx)("div",{className:(0,I.cn)("absolute flex h-full w-full flex-col items-center justify-center gap-2 bg-200 text-center opacity-0 transition-all",t?"z-0 opacity-0":"z-10 opacity-100"),children:(0,a.jsxs)("div",{className:(0,I.cn)("flex w-full max-w-sm scale-95 flex-col items-center justify-center gap-6 text-center opacity-0 transition-all delay-300 duration-500",t?"mt-0 scale-95 opacity-0":"mt-8 scale-100 opacity-100"),children:[(0,a.jsxs)("div",{className:"relative flex h-4 w-32 items-center rounded border border-default px-2",children:[(0,a.jsx)("div",{className:"h-0.5 w-2/3 rounded-full bg-overlay-hover"}),(0,a.jsx)("div",{className:"absolute right-1 -bottom-4",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1","data-sentry-element":"svg","data-sentry-source-file":"MessageSelection.tsx",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122","data-sentry-element":"path","data-sentry-source-file":"MessageSelection.tsx"})})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h3",{className:"text-sm text-foreground",children:"Select a message"}),(0,a.jsx)("p",{className:"text-xs text-foreground-lighter",children:"Click on a message on the left to view details."})]})]})}),(0,a.jsxs)("div",{className:"relative h-px flex-grow",children:[(0,a.jsxs)("div",{className:"pt-4 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"px-4 flex flex-row justify-between items-center",children:[(0,a.jsx)("div",{className:"transition",children:(0,a.jsx)(ek.A,{text:o,type:"default",title:"Copy log to clipboard",onClick:()=>{var e;x({action:"realtime_inspector_copy_message_clicked",groups:{project:null!=c?c:"Unknown",organization:null!=(e=null==d?void 0:d.slug)?e:"Unknown"}})},"data-sentry-element":"CopyButton","data-sentry-source-file":"MessageSelection.tsx"})}),(0,a.jsx)(w.$,{type:"text",className:"cursor-pointer transition hover:text-scale-1200 h-8 w-8 px-0 py-0 flex items-center justify-center",onClick:s,"data-sentry-element":"Button","data-sentry-source-file":"MessageSelection.tsx",children:(0,a.jsx)(eC.A,{size:14,strokeWidth:2,className:"text-scale-900","data-sentry-element":"X","data-sentry-source-file":"MessageSelection.tsx"})})]}),(0,a.jsx)("div",{className:"h-px w-full bg-scale-600 rounded"})]}),(0,a.jsx)("div",{className:"flex flex-col space-y-6 py-4",children:t&&(0,a.jsx)(eI,{log:t})})]})]})},ez=()=>(0,a.jsxs)("div",{className:"border bg-studio border-border rounded-md justify-start items-center flex flex-col w-10/12 relative","data-sentry-component":"NoChannelEmptyState","data-sentry-source-file":"NoChannelEmptyState.tsx",children:[(0,a.jsx)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b rounded-t-md",children:(0,a.jsxs)("div",{className:"grow flex-col flex gap-y-1",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Join a channel to start listening to messages"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Channels are the building blocks of realtime where clients can bi-directionally send and receive messages in."})]})}),(0,a.jsxs)("div",{className:(0,I.cn)("w-full px-5 py-4 items-center gap-4 inline-flex"),children:[(0,a.jsxs)("div",{className:"grow flex-col flex",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Not sure what to do?"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Browse our documentation"})]}),(0,a.jsx)(b.A,{href:"".concat(v.aq,"/guides/realtime"),"data-sentry-element":"DocsButton","data-sentry-source-file":"NoChannelEmptyState.tsx"})]})]});var eE=s(60656);let eB={PRESENCE:(0,a.jsx)(D,{size:"xlarge"}),BROADCAST:(0,a.jsx)($,{size:"xlarge"}),POSTGRES:(0,a.jsx)(H,{size:"xlarge"}),SYSTEM:(0,a.jsx)(eE.A,{size:"20",strokeWidth:1})},eL=[{name:"timestamp-with-truncated-text",key:"main-column",renderHeaderCell:()=>null,renderCell:e=>{let t=e.row.message;return(0,a.jsxs)(eR,{children:[(0,a.jsx)("div",{className:(0,I.cn)("flex justify-center items-center min-w-[24px]",eD(e.row)?"text-warning":"text-green-900"),children:eB[t]}),(0,a.jsx)("span",{className:(0,I.cn)("font-mono",eD(e.row)?"!text-warning":""),children:new Date(e.row.timestamp).toISOString()}),(0,a.jsx)("span",{className:(0,I.cn)("truncate font-mono",eD(e.row)?"!text-warning":""),children:JSON.stringify(e.row.metadata)})]})}}],eD=e=>{var t;return"SYSTEM"===e.message&&(null==(t=e.metadata)?void 0:t.status)==="error"},eF=e=>{let{enabled:t,hasChannelSet:s,showSendMessage:l}=e,{ref:r}=(0,n.g)(),{can:o,isLoading:i}=(0,p.Qp)(d.aG.READ,"service_api_keys");return(0,a.jsx)("div",{className:"w-full max-w-md flex items-center flex-col","data-sentry-component":"NoResultAlert","data-sentry-source-file":"MessagesTable.tsx",children:i?(0,a.jsx)(ew.yV,{className:"w-80"}):o?s?(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)("p",{className:"text-foreground",children:"No Realtime messages found"}),(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Realtime message logs will be shown here"}),(0,a.jsxs)("div",{className:"mt-4 border bg-surface-100 border-border rounded-md justify-start items-center flex flex-col w-full",children:[(0,a.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b",children:[(0,a.jsx)($,{size:"xlarge",className:"text-background bg-foreground rounded w-6"}),(0,a.jsxs)("div",{className:"grow flex-col flex",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Create a Broadcast message"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Send a message in the channel"})]}),(0,a.jsx)(w.$,{type:"default",onClick:l,children:"Broadcast a message"})]}),(0,a.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b",children:[(0,a.jsx)(D,{size:"xlarge",className:"text-background bg-foreground rounded w-6"}),(0,a.jsxs)("div",{className:"grow flex-col flex",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Join from another browser tab"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Send messages between multiple clients"})]}),(0,a.jsx)(P(),{href:"/project/".concat(r,"/realtime/inspector"),target:"_blank",rel:"noreferrer",children:(0,a.jsx)(w.$,{type:"default",iconRight:(0,a.jsx)(eg.A,{}),children:"Open inspector"})})]}),(0,a.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b",children:[(0,a.jsx)(H,{size:"xlarge",className:"text-background bg-foreground rounded w-6"}),(0,a.jsxs)("div",{className:"grow flex-col flex",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Listen to a table for changes"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Tables must have realtime enabled"})]}),(0,a.jsx)(P(),{href:"/project/".concat(r,"/database/publications"),target:"_blank",rel:"noreferrer",children:(0,a.jsx)(w.$,{type:"default",iconRight:(0,a.jsx)(eg.A,{}),children:"Publications settings"})})]}),(0,a.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex rounded-b-md bg-studio",children:[(0,a.jsxs)("div",{className:"grow flex-col flex",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Not sure what to do?"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Browse our documentation"})]}),(0,a.jsx)(b.A,{href:"".concat(v.aq,"/guides/realtime")})]})]})]}):(0,a.jsx)(ez,{}):(0,a.jsx)(ev.A,{isFullPage:!0,resourceText:"use the realtime inspector"})})},eW=e=>{let{enabled:t,hasChannelSet:s,data:o=[],showSendMessage:c}=e,[d,x]=(0,l.useState)(null),m=JSON.stringify(o),{ref:u}=(0,n.g)(),{data:h}=(0,i.s)(),{mutate:p}=(0,r.h)();return((0,l.useEffect)(()=>{o&&(o.find(e=>e.id===(null==d?void 0:d.id))||x(null))},[m]),o)?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:"flex w-full flex-col",style:{maxHeight:"calc(100vh - 42px - 3rem)"},children:[(0,a.jsx)(eN.A,{active:t,"data-sentry-element":"ShimmerLine","data-sentry-source-file":"MessagesTable.tsx"}),(0,a.jsxs)("div",{className:(0,I.cn)("flex h-full flex-row",t?"border-brand-400":null),children:[(0,a.jsxs)("div",{className:"flex flex-grow flex-col",children:[t&&(0,a.jsxs)("div",{className:"w-full h-9 px-4 bg-surface-100 border-b items-center inline-flex justify-between text-foreground-light",children:[(0,a.jsxs)("div",{className:"inline-flex gap-2.5 text-xs",children:[(0,a.jsx)(ey.A,{size:"16",className:"animate-spin"}),(0,a.jsx)("div",{children:"Listening"}),(0,a.jsx)("div",{children:"â€¢"}),(0,a.jsx)("div",{children:o.length>0?o.length>=100?"Found a large number of messages, showing only the latest 100...":"Found ".concat(o.length," messages..."):"No message found yet..."})]}),(0,a.jsx)(w.$,{type:"default",onClick:c,icon:(0,a.jsx)(ej.A,{strokeWidth:1.5}),children:(0,a.jsx)("span",{children:"Broadcast a message"})})]}),(0,a.jsx)(eb.Ay,{className:"data-grid--simple-logs h-full border-b-0",rowHeight:40,headerRowHeight:0,columns:eL,rowClass:e=>(0,I.cn)(["font-mono tracking-tight",ef()(e,d)?"bg-scale-800 rdg-row--focused":"bg-200 hover:bg-scale-300 cursor-pointer",eD(e)&&"!bg-warning-300"]),rows:o,rowKeyGetter:e=>e.id,renderers:{renderRow(e,t){let{row:s}=t;return(0,a.jsx)(eb.fI,{...t,isRowSelected:!1,selectedCellIdx:void 0,onClick:()=>{var e;p({action:"realtime_inspector_message_clicked",groups:{project:null!=u?u:"Unknown",organization:null!=(e=null==h?void 0:h.slug)?e:"Unknown"}}),x(s)}},e)},noRowsFallback:(0,a.jsx)("div",{className:"mx-auto flex h-full w-full items-center justify-center space-y-12 py-4 transition-all delay-200 duration-500",children:(0,a.jsx)(eF,{enabled:t,hasChannelSet:s,showSendMessage:c})})},"data-sentry-element":"DataGrid","data-sentry-source-file":"MessagesTable.tsx"})]}),(0,a.jsx)("div",{className:"flex w-1/2 flex-col",children:(0,a.jsx)(eT,{onClose:()=>x(null),log:d,"data-sentry-element":"MessageSelection","data-sentry-source-file":"MessagesTable.tsx"})})]})]})}):null};var e$=s(15040),eO=s(6436),eH=s(6217);let eU={message:"Test message",payload:'{ "message": "Hello World" }'},eY=e=>{let{visible:t,onSelectCancel:s,onSelectConfirm:n}=e,[r,o]=(0,l.useState)(),[i,c]=(0,l.useState)(eU);return(0,l.useEffect)(()=>{t&&(o(void 0),c(eU))},[t]),(0,a.jsx)(eH.A,{size:"medium",alignFooter:"right",header:"Broadcast a message to all clients",visible:t,loading:!1,onCancel:s,onConfirm:()=>{let e=(0,eO.Bl)(i.payload);void 0===e?o("Please provide a valid JSON"):n({...i,payload:e})},"data-sentry-element":"Modal","data-sentry-component":"SendMessageModal","data-sentry-source-file":"SendMessageModal.tsx",children:(0,a.jsxs)(eH.A.Content,{className:"flex flex-col gap-y-4","data-sentry-element":"Modal.Content","data-sentry-source-file":"SendMessageModal.tsx",children:[(0,a.jsx)(U.A,{label:"Message name",size:"small",className:"flex-grow",value:i.message,onChange:e=>c({...i,message:e.target.value}),"data-sentry-element":"Input","data-sentry-source-file":"SendMessageModal.tsx"}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-scale-1100",children:"Message payload"}),(0,a.jsx)(e$.A,{id:"message-payload",language:"json",className:"!mb-0 h-32 overflow-hidden rounded border",onInputChange:e=>c({...i,payload:null!=e?e:"{}"}),options:{wordWrap:"off",contextmenu:!1},value:i.payload,"data-sentry-element":"CodeEditor","data-sentry-source-file":"SendMessageModal.tsx"}),void 0!==r&&(0,a.jsx)("p",{className:"text-sm text-red-900",children:r})]})]})})};var eG=s(63044),eJ=s(68289),eV=s(84513),eq=s.n(eV),eX=s(14506),eK=s.n(eX),eZ=s(87288),eQ=s.n(eZ),e0=s(27664),e1=s(36289);function e2(e,t){return"clear"===t.type?e1.Oj:eQ()(eK()([{id:(0,eO.gZ)(),timestamp:new Date().getTime(),message:t.payload.messageType,metadata:t.payload.metadata},...e],e=>-e.timestamp),100)}var e4=s(72432),e3=s(78039),e6=s(97507),e8=s(44096);let e5=()=>{let[e,t]=(0,l.useState)({x:20,y:20}),[s,n]=(0,l.useState)({x:180,y:80});return(0,l.useEffect)(()=>{let e=()=>{t({x:160*Math.random()+20,y:80*Math.random()+20}),n({x:160*Math.random()+20,y:80*Math.random()+20})},s=setTimeout(e,1e3),a=setInterval(e,3e3);return()=>{clearTimeout(s),clearInterval(a)}},[]),(0,a.jsxs)("div",{className:"relative w-48 h-32 mx-auto mb-8","data-sentry-component":"AnimatedCursors","data-sentry-source-file":"AnimatedCursors.tsx",children:[(0,a.jsx)(e6.P.div,{className:"absolute text-warning",animate:{x:e.x,y:e.y},transition:{duration:1.2,ease:"easeInOut"},style:{width:20,height:20},"data-sentry-element":"motion.div","data-sentry-source-file":"AnimatedCursors.tsx",children:(0,a.jsx)(e8.A,{size:20,"data-sentry-element":"MousePointer2","data-sentry-source-file":"AnimatedCursors.tsx"})}),(0,a.jsx)(e6.P.div,{className:"absolute text-brand",animate:{x:s.x,y:s.y},transition:{duration:1.2,ease:"easeInOut",delay:.2},style:{width:20,height:20},"data-sentry-element":"motion.div","data-sentry-source-file":"AnimatedCursors.tsx",children:(0,a.jsx)(e8.A,{size:20,"data-sentry-element":"MousePointer2","data-sentry-source-file":"AnimatedCursors.tsx"})})]})};var e9=s(95448),e7=s(69498),te=s(18664);let tt=e=>{let{projectRef:t}=e,s=(0,e9.xd)(),{openSidebar:n}=(0,te.rM)();return(0,a.jsx)("div",{className:"flex grow items-center justify-center p-12 border-t @container","data-sentry-component":"EmptyRealtime","data-sentry-source-file":"EmptyRealtime.tsx",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl flex flex-col items-center gap-0",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)(e5,{"data-sentry-element":"AnimatedCursors","data-sentry-source-file":"EmptyRealtime.tsx"}),(0,a.jsx)("h2",{className:"heading-section mb-1",children:"Create realtime experiences"}),(0,a.jsx)("p",{className:"text-foreground-light mb-6",children:"Send your first realtime message from your database, application code or edge function"}),(0,a.jsx)(w.$,{type:"default",icon:(0,a.jsx)(e4.M,{}),onClick:()=>{n(e7.c.AI_ASSISTANT),s.newChat({name:"Realtime",initialInput:"Help me set up a realtime experience for my project"})},"data-sentry-element":"Button","data-sentry-source-file":"EmptyRealtime.tsx",children:"Set up realtime for me"})]}),(0,a.jsxs)(e3.Zp,{className:"grid grid-cols-1 @xl:grid-cols-3 bg divide-x mb-8","data-sentry-element":"Card","data-sentry-source-file":"EmptyRealtime.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col h-full p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:(0,I.cn)("text-xs shrink-0 font-mono text-foreground-light w-7 h-7 bg border flex items-center justify-center rounded-md"),children:"1"}),(0,a.jsx)("h3",{className:"heading-default",children:"Broadcast messages"})]}),(0,a.jsx)("p",{className:"text-foreground-light text-sm mb-4 flex-1",children:"Send messages to a channel from your client application or database via triggers."}),(0,a.jsx)(w.$,{type:"default",className:"w-full","data-sentry-element":"Button","data-sentry-source-file":"EmptyRealtime.tsx",children:(0,a.jsx)(P(),{href:"/project/".concat(t,"/database/triggers"),"data-sentry-element":"Link","data-sentry-source-file":"EmptyRealtime.tsx",children:"Create a trigger"})})]}),(0,a.jsxs)("div",{className:"flex flex-col h-full p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:(0,I.cn)("text-xs shrink-0 font-mono text-foreground-light w-7 h-7 bg border flex items-center justify-center rounded-md"),children:"2"}),(0,a.jsx)("h3",{className:"heading-default",children:"Write policies"})]}),(0,a.jsx)("p",{className:"text-foreground-light text-sm mb-4 flex-1",children:"Set up Row Level Security policies to control who can see messages within a channel"}),(0,a.jsx)(w.$,{type:"default","data-sentry-element":"Button","data-sentry-source-file":"EmptyRealtime.tsx",children:(0,a.jsx)(P(),{href:"/project/".concat(t,"/realtime/policies"),"data-sentry-element":"Link","data-sentry-source-file":"EmptyRealtime.tsx",children:"Write a policy"})})]}),(0,a.jsxs)("div",{className:"flex flex-col h-full p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:(0,I.cn)("text-xs shrink-0 font-mono text-foreground-light w-7 h-7 bg border flex items-center justify-center rounded-md"),children:"3"}),(0,a.jsx)("h3",{className:"heading-default",children:"Subscribe to a channel"})]}),(0,a.jsx)("p",{className:"text-foreground-light text-sm mb-4 flex-1",children:"Receive realtime messages in your application by listening to a channel"}),(0,a.jsx)(w.$,{type:"default",asChild:!0,"data-sentry-element":"Button","data-sentry-source-file":"EmptyRealtime.tsx",children:(0,a.jsx)(P(),{href:"https://supabase.com/docs/guides/realtime/subscribing-to-database-changes#listening-on-client-side","data-sentry-element":"Link","data-sentry-source-file":"EmptyRealtime.tsx",children:"Read the guide"})})]})]})]})})},ts=()=>{var e;let{ref:t}=(0,n.g)(),{data:s}=(0,i.s)(),{data:d}=(0,c.YA)(),{data:x}=(0,o._)({projectRef:null==d?void 0:d.ref,connectionString:null==d?void 0:d.connectionString}),m=(null!=x?x:[]).find(e=>"supabase_realtime"===e.name),u=!!m&&((null!=(e=null==m?void 0:m.tables)?e:[]).length>0||(null==m?void 0:m.tables)===null),[h,p]=(0,l.useState)(!1),[f,g]=(0,l.useState)({enabled:!1,projectRef:t,channelName:"",logLevel:"info",token:"",schema:"public",table:"*",isChannelPrivate:!1,filter:void 0,bearer:null,enablePresence:!0,enableDbChanges:u,enableBroadcast:!0}),{mutate:y}=(0,r.h)(),{logData:j,sendMessage:b}=((e,t)=>{var s,a,n;let{enabled:r,channelName:o,projectRef:i,logLevel:c,token:d,schema:x,table:m,isChannelPrivate:u,filter:h,bearer:p,enablePresence:f,enableDbChanges:g,enableBroadcast:y}=e,{data:j}=(0,e0.G)({projectRef:i}),b=null!=(n=null==j||null==(s=j.app_config)?void 0:s.protocol)?n:"https",v=null==j||null==(a=j.app_config)?void 0:a.endpoint,N=j?"".concat(b,"://").concat(v):"https://".concat(i,".supabase.co"),w="".concat(N,"/realtime/v1").replace(/^http/i,"ws"),[C,k]=(0,l.useReducer)(e2,[]),S=(e,t)=>{k({type:"add",payload:{messageType:e,metadata:t}})},[_,R]=(0,l.useState)(),[A,M]=(0,l.useState)(),P=(0,em.RY)();return(0,l.useEffect)(()=>{if(!r)return;let e=eq()(eJ.HU,{params:{log_level:c}}),t={vsn:"2.0.0",headers:eJ.bn.headers,...e,params:{apikey:d,...e.params}},s=new eG.d1(w,t);return p&&s.setAuth(p),R(s),()=>{s.disconnect(),R(void 0)}},[r,p,N,c,d]),(0,l.useEffect)(()=>{if(!_)return;k({type:"clear"});let s=null==_?void 0:_.channel(o,{config:{broadcast:{self:!0},private:u}});if(s.on("system",{},e=>{S("SYSTEM",e)}),y&&s.on("broadcast",{event:"*"},e=>S("BROADCAST",e)),f&&s.on("presence",{event:"*"},e=>{S("PRESENCE",e)}),g){let e={event:"*",schema:x,table:m,filter:void 0};""!==h&&(e.filter=h),s.on("postgres_changes",e,e=>{let t=performance.now()+performance.timeOrigin,s=Date.parse(e.commit_timestamp);S("POSTGRES",{...e,latency:t-s})})}return s.subscribe(async(a,n)=>{if("SUBSCRIBED"===a){var l;let e=null==(l=P.role)?void 0:l.role;if(f){let t=(void 0===e?"service_role_":"anon"===e?"anon_role_":"authenticated"===e?"authenticated_role_":"user_name_")+Math.floor(100*Math.random());s.send({type:"presence",event:"TRACK",payload:{name:t,t:performance.now()}})}}else"CHANNEL_ERROR"===a&&((null==n?void 0:n.message)?er.oR.error("Failed to connect with the following error: ".concat(n.message)):er.oR.error("Failed to connect. Please check your RLS policies and try again."),s.unsubscribe(),M(void 0),t({...e,channelName:"",enabled:!1}))}),M(s),()=>{s.unsubscribe(),M(void 0)}},[_,o,y,g,f,h,N,x,m]),{logData:C,sendMessage:(0,l.useCallback)(async(e,t,s)=>{A?"error"===await A.send({type:"broadcast",event:e,payload:t})?er.oR.error("Failed to broadcast message"):(er.oR.success("Successfully broadcasted message"),s()):er.oR.error("Failed to broadcast message: channel has not been set")},[A])}})(f,g);return(0,l.useEffect)(()=>{g(e=>({...e,enableDbChanges:u}))},[u]),(0,a.jsxs)("div",{className:"flex flex-col grow h-full","data-sentry-component":"RealtimeInspector","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)(eh,{config:f,onChangeConfig:g,"data-sentry-element":"Header","data-sentry-source-file":"index.tsx"}),(0,a.jsx)("div",{className:"relative flex flex-col grow",children:(0,a.jsx)("div",{className:"flex grow",children:(null!=j?j:[]).length>0?(0,a.jsx)(eW,{hasChannelSet:f.channelName.length>0,enabled:f.enabled,data:j,showSendMessage:()=>p(!0)}):(0,a.jsx)(tt,{projectRef:t})})}),(0,a.jsx)(eY,{visible:h,onSelectCancel:()=>p(!1),onSelectConfirm:e=>{var a;y({action:"realtime_inspector_broadcast_sent",groups:{project:null!=t?t:"Unknown",organization:null!=(a=null==s?void 0:s.slug)?a:"Unknown"}}),b(e.message,e.payload,()=>p(!1))},"data-sentry-element":"SendMessageModal","data-sentry-source-file":"index.tsx"})]})};var ta=s(10508),tn=s(63297);let tl=()=>(0,a.jsx)(ts,{"data-sentry-element":"RealtimeInspector","data-sentry-component":"InspectorPage","data-sentry-source-file":"inspector.tsx"});tl.getLayout=e=>(0,a.jsx)(ta.A,{children:(0,a.jsx)(tn.A,{title:"Realtime Inspector",children:e})});let tr=tl},25392:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},25975:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},30335:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/realtime/inspector",function(){return s(17440)}])},34230:(e,t,s)=>{"use strict";s.d(t,{_:()=>i});var a=s(78510),n=s(67850),l=s(24523),r=s(4328);async function o(e,t){let{projectRef:s,connectionString:n}=e;if(!s)throw Error("projectRef is required");let r=new Headers;n&&r.set("x-connection-encrypted",n);let{data:o,error:i}=await (0,l.Jt)("/platform/pg-meta/{ref}/publications",{params:{header:{"x-connection-encrypted":n,"x-pg-application-name":a.r},path:{ref:s}},headers:r,signal:t});return i&&(0,l.H4)(i),o}let i=function(e){let{projectRef:t,connectionString:s}=e,{enabled:a=!0,...l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:r.b.list(t),queryFn:e=>{let{signal:a}=e;return o({projectRef:t,connectionString:s},a)},enabled:a&&void 0!==t,...l})}},39241:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]])},39327:(e,t,s)=>{"use strict";s.d(t,{g:()=>u});var a=s(80263),n=s(53239),l=s(61548),r=s(80100),o=s(23729),i=s(76174),c=s(13031),d=s(13693),x=s(95403),m=s(38531);let u=e=>{var t,s,c,m;let{portal:u=!0,serviceRoleLabel:f,variant:g="regular",align:y="end",disallowAuthenticatedOption:j=!1,disabled:b=!1,disabledTooltip:v}=e,N=(0,d.RY)(),[w,C]=(0,n.useState)(!1),k=null!=(m=null!=(c=null==(t=N.role)?void 0:t.role)?c:f)?m:"service role";return(0,a.jsxs)(l.AM,{open:w,onOpenChange:C,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"RoleImpersonationPopover","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:[(0,a.jsx)(l.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:(0,a.jsx)(o.G,{size:"tiny",type:"default",className:(0,r.cn)("h-[26px] pr-3 gap-0","connected-on-right"===g&&"rounded-r-none border-r-0","connected-on-left"===g&&"rounded-l-none border-l-0","connected-on-both"===g&&"rounded-none border-x-0"),disabled:b,tooltip:{content:{side:"bottom",text:v,className:"text-center w-72"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"text-foreground-muted",children:"Role"}),(0,a.jsx)("span",{children:k}),(null==(s=N.role)?void 0:s.type)==="postgrest"&&"authenticated"===N.role.role&&(0,a.jsxs)(a.Fragment,{children:["native"===N.role.userType&&N.role.user?(0,a.jsx)(h,{user:N.role.user}):"external"===N.role.userType&&N.role.externalAuth?(0,a.jsx)(p,{sub:N.role.externalAuth.sub}):null,(0,a.jsx)("span",{className:"text-xs text-foreground-lighter font-light",children:"aal2"===N.role.aal?"AAL2":"AAL1"})]}),(0,a.jsx)(i.A,{className:"text-muted",strokeWidth:1,size:12,"data-sentry-element":"ChevronDown","data-sentry-source-file":"RoleImpersonationPopover.tsx"})]})})}),(0,a.jsx)(l.hl,{portal:u,className:"p-0 w-[592px] overflow-hidden",side:"bottom",align:y,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:(0,a.jsx)(x.w,{serviceRoleLabel:f,disallowAuthenticatedOption:j,"data-sentry-element":"RoleImpersonationSelector","data-sentry-source-file":"RoleImpersonationPopover.tsx"})})]})},h=e=>{var t,s,n;let{user:l}=e,r=(0,m.TW)(l),o=(0,m.Mn)(l,null!=(n=null!=(s=null!=(t=l.email)?t:l.phone)?s:l.id)?n:"Unknown");return(0,a.jsxs)("div",{className:"flex gap-1 items-center pl-0.5 pr-1.5 h-[21px] bg-surface-200 rounded-full overflow-hidden","data-sentry-component":"UserRoleButtonSection","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:[r?(0,a.jsx)("img",{className:"rounded-full w-[18px] h-[18px]",src:r,alt:o}):(0,a.jsx)("div",{className:"rounded-full w-[18px] h-[18px] bg-surface-100 border flex items-center justify-center text-light",children:(0,a.jsx)(c.A,{size:12,strokeWidth:2})}),(0,a.jsx)("span",{className:"truncate max-w-[84px]",children:o})]})},p=e=>{let{sub:t}=e;return(0,a.jsxs)("div",{className:"flex gap-1 items-center pl-0.5 pr-1.5 h-[21px] bg-surface-200 rounded-full overflow-hidden","data-sentry-component":"ExternalAuthButtonSection","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:[(0,a.jsx)("div",{className:"rounded-full w-[18px] h-[18px] bg-surface-100 border flex items-center justify-center text-light",children:(0,a.jsx)(c.A,{size:12,strokeWidth:2,"data-sentry-element":"IconUser","data-sentry-source-file":"RoleImpersonationPopover.tsx"})}),(0,a.jsx)("span",{className:"truncate max-w-[84px]",children:t})]})}},39624:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(80263),n=s(12123);let l=e=>{let{resourceText:t,isFullPage:s=!1}=e,l=()=>(0,a.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200","data-sentry-component":"NoPermissionMessage","data-sentry-source-file":"NoPermission.tsx",children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(n.A,{size:20,"data-sentry-element":"AlertCircle","data-sentry-source-file":"NoPermission.tsx"})}),(0,a.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return s?(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsx)("div",{className:"w-[550px]",children:(0,a.jsx)(l,{})})}):(0,a.jsx)(l,{})}},39815:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]])},44096:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]])},68289:(e,t,s)=>{"use strict";t.HU=t.bn=t.Rn=void 0;let a=s(77100),n="";n="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node",t.Rn={"X-Client-Info":`supabase-js-${n}/${a.version}`},t.bn={headers:t.Rn},t.HU={}},77100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="2.83.0"},84438:(e,t,s)=>{"use strict";s.d(t,{A:()=>y});var a=s(80263),n=s(72112),l=s(32157),r=s(23892),o=s(90376),i=s(53239),c=s(32775),d=s(80090),x=s(9620),m=s(99779),u=s(73640),h=s(20033),p=s(61548),f=s(29244),g=s(97757);let y=e=>{let{className:t,disabled:s=!1,size:y="tiny",showError:j=!0,selectedSchemaName:b,supportSelectAll:v=!1,excludedSchemas:N=[],onSelectSchema:w,onSelectCreateSchema:C,portal:k=!0,align:S="start"}=e,[_,R]=(0,i.useState)(!1),{can:A}=(0,d.Qp)(n.aG.TENANT_SQL_ADMIN_WRITE,"schemas"),{data:M}=(0,x.YA)(),{data:P,isLoading:I,isSuccess:T,isError:z,error:E,refetch:B}=(0,c.w$)({projectRef:null==M?void 0:M.ref,connectionString:null==M?void 0:M.connectionString}),L=(P||[]).filter(e=>!N.includes(e.name)).sort((e,t)=>e.name.localeCompare(t.name));return(0,a.jsxs)("div",{className:t,"data-sentry-component":"SchemaSelector","data-sentry-source-file":"SchemaSelector.tsx",children:[I&&(0,a.jsx)(m.$,{type:"default",className:"w-full [&>span]:w-full",size:y,disabled:!0,children:(0,a.jsx)(u.E,{className:"w-full h-3 bg-foreground-muted"})},"schema-selector-skeleton"),j&&z&&(0,a.jsxs)(h.Fc,{variant:"warning",className:"!px-3 !py-3",children:[(0,a.jsx)(h.XL,{className:"text-xs text-amber-900",children:"Failed to load schemas"}),(0,a.jsxs)(h.TN,{className:"text-xs mb-2 break-words",children:["Error: ",null==E?void 0:E.message]}),(0,a.jsx)(m.$,{type:"default",size:"tiny",onClick:()=>B(),children:"Reload schemas"})]}),T&&(0,a.jsxs)(p.AM,{open:_,onOpenChange:R,modal:!1,children:[(0,a.jsx)(p.Wv,{asChild:!0,children:(0,a.jsx)(m.$,{size:y,disabled:s,type:"default","data-testid":"schema-selector",className:"w-full [&>span]:w-full !pr-1 space-x-1",iconRight:(0,a.jsx)(l.A,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:b?(0,a.jsxs)("div",{className:"w-full flex gap-1",children:[(0,a.jsx)("p",{className:"text-foreground-lighter",children:"schema"}),(0,a.jsx)("p",{className:"text-foreground",children:"*"===b?"All schemas":b})]}):(0,a.jsx)("div",{className:"w-full flex gap-1",children:(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Choose a schema..."})})})}),(0,a.jsx)(p.hl,{className:"p-0 min-w-[200px] pointer-events-auto",side:"bottom",align:S,portal:k,sameWidthAsTrigger:!0,children:(0,a.jsxs)(f.uB,{children:[(0,a.jsx)(f.G7,{placeholder:"Find schema..."}),(0,a.jsxs)(f.oI,{children:[(0,a.jsx)(f.xL,{children:"No schemas found"}),(0,a.jsx)(f.L$,{children:(0,a.jsxs)(g.FK,{className:(L||[]).length>7?"h-[210px]":"",children:[v&&(0,a.jsxs)(f.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{w("*"),R(!1)},onClick:()=>{w("*"),R(!1)},children:[(0,a.jsx)("span",{children:"All schemas"}),"*"===b&&(0,a.jsx)(r.A,{className:"text-brand",strokeWidth:2,size:16})]},"select-all"),null==L?void 0:L.map(e=>(0,a.jsxs)(f.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{w(e.name),R(!1)},onClick:()=>{w(e.name),R(!1)},children:[(0,a.jsx)("span",{children:e.name}),b===e.name&&(0,a.jsx)(r.A,{className:"text-brand",strokeWidth:2,size:16})]},e.id))]})}),void 0!==C&&A&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.fx,{}),(0,a.jsx)(f.L$,{children:(0,a.jsxs)(f.h_,{className:"cursor-pointer flex items-center gap-x-2 w-full",onSelect:()=>{C(),R(!1)},onClick:()=>{C(),R(!1)},children:[(0,a.jsx)(o.A,{size:12}),"Create a new schema"]})})]})]})]})})]})]})}},87288:(e,t,s)=>{var a=s(24813),n=s(80544);e.exports=function(e,t,s){return e&&e.length?a(e,0,(t=s||void 0===t?1:n(t))<0?0:t):[]}},95069:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])}},e=>{e.O(0,[60858,15599,16110,27764,36538,44033,86692,76984,72391,35035,40545,596,10508,48340,75187,29471,92544,95403,20132,90636,46593,38792],()=>e(e.s=30335)),_N_E=e.O()}]);