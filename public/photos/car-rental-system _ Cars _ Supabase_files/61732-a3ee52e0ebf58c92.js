try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b57411d3-046f-4d37-9b8b-90059588ac02",e._sentryDebugIdIdentifier="sentry-dbid-b57411d3-046f-4d37-9b8b-90059588ac02")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34842,61732],{4133:(e,t,a)=>{a.d(t,{X:()=>O});var n=a(80263),l=a(53239),r=a(53434),s=a.n(r),o=a(6436),i=a(796),d=a(35831),u=a(30519),c=a(72195),m=a(64720),p=a(86058),f=a(75419),g=a(90042),h=a(81285),x=a(8398),v=a(87906),y=a(36701),b=a(80100),w=a(14981),H=a(31092),S=a(74310),C=a(21162);let j=e=>{var t,a;let{chartHighlight:r,updateDateRange:o,actions:i,chartId:d}=e,{left:u,right:c,clearHighlight:m}=null!=r?r:{},[p,f]=(0,l.useState)(!!(null==r?void 0:r.popoverPosition));(0,l.useEffect)(()=>{f(!!(null==r?void 0:r.popoverPosition)&&u!==c)},[null==r?void 0:r.popoverPosition]);let g=u&&c&&m?{start:u,end:c,clear:m,chartId:d}:void 0,h=(0,l.useMemo)(()=>{if(!o||!g)return[];let e=10>s()(g.end).diff(s()(g.start),"minutes");return[{id:"zoom-in",label:"Zoom in",icon:(0,n.jsx)(H.A,{className:"text-foreground-lighter",size:12}),rightSlot:e?(0,n.jsx)("span",{className:"text-xs",children:"Min. 10 minutes"}):null,isDisabled:()=>e,onSelect:t=>{let{start:a,end:n,clear:l}=t;e||(o(a,n),l())}}]},[g,o]),x=(0,l.useMemo)(()=>[...h,...null!=i?i:[]],[h,i]);return(0,n.jsxs)(C.rI,{open:p,onOpenChange:f,"data-sentry-element":"DropdownMenu","data-sentry-component":"ChartHighlightActions","data-sentry-source-file":"ChartHighlightActions.tsx",children:[(0,n.jsx)(C.ty,{className:"w-auto p-0",style:{position:"absolute",left:(null==r||null==(t=r.popoverPosition)?void 0:t.x)+"px",top:(null==r||null==(a=r.popoverPosition)?void 0:a.y)+"px"},"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"ChartHighlightActions.tsx"}),(0,n.jsxs)(C.SQ,{className:"flex flex-col gap-1 p-1 w-fit text-left","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"ChartHighlightActions.tsx",children:[(0,n.jsxs)(C.lp,{className:"flex items-center justify-center text-foreground-light font-mono gap-x-2 text-xs","data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"ChartHighlightActions.tsx",children:[(0,n.jsx)("span",{children:s()(u).format("MMM D, H:mm")}),(0,n.jsx)(S.A,{size:10,"data-sentry-element":"ArrowRight","data-sentry-source-file":"ChartHighlightActions.tsx"}),(0,n.jsx)("span",{children:s()(c).format("MMM D, H:mm")})]}),(0,n.jsx)(C.mB,{className:"my-0","data-sentry-element":"DropdownMenuSeparator","data-sentry-source-file":"ChartHighlightActions.tsx"}),x.map(e=>{let t=!!g&&!!e.isDisabled&&e.isDisabled(g),a=null;a="function"==typeof e.label?g?e.label(g):null:e.label;let l=null;if("function"==typeof e.rightSlot)l=g?e.rightSlot(g):null;else{var r;l=null!=(r=e.rightSlot)?r:null}return(0,n.jsx)(C._2,{asChild:!0,disabled:t,className:(0,b.cn)("group"),children:(0,n.jsxs)("button",{disabled:t,onClick:()=>g&&e.onSelect({...g}),className:"w-full flex items-center gap-1.5",children:[e.icon,(0,n.jsx)("span",{className:"flex-grow text-left",children:a}),l]})},e.id)})]})]})};var N=a(30761),k=a(66e3),D=a(30404);let E=e=>{let{color:t}=e;return(0,n.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-sentry-element":"svg","data-sentry-component":"CustomIcon","data-sentry-source-file":"ComposedChart.utils.tsx",children:(0,n.jsx)("circle",{cx:"5",cy:"5",r:"3",fill:t,"data-sentry-element":"circle","data-sentry-source-file":"ComposedChart.utils.tsx"})})},_=e=>{let{color:t}=e;return(0,n.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-sentry-element":"svg","data-sentry-component":"MaxConnectionsIcon","data-sentry-source-file":"ComposedChart.utils.tsx",children:(0,n.jsx)("line",{x1:"2",y1:"6",x2:"12",y2:"6",stroke:null!=t?t:N.OK.REFERENCE_LINE,strokeWidth:"2",strokeDasharray:"2 2","data-sentry-element":"line","data-sentry-source-file":"ComposedChart.utils.tsx"})})},M=e=>null==e?void 0:e.find(e=>e.isMaxValue),A=(e,t)=>null==e?void 0:e.filter(e=>!(null==t?void 0:t.includes(e.dataKey))).reduce((e,t)=>e+t.value,0),T=e=>{let{active:t,payload:a,label:l,attributes:r,isPercentage:i,format:d,valuePrecision:u,showTotal:c,isActiveHoveredChart:m}=e;if(t&&a&&a.length){var p,f,g,h;let e=a[0].payload,l=(null==e?void 0:e.hasOwnProperty("timestamp"))?"timestamp":"period_start",x=a[0].payload[l],v=M(r),y=v&&(null==a?void 0:a.find(e=>e.dataKey===v.attribute)),w=null==y?void 0:y.value,H=!(null==a?void 0:a.some(e=>"ram_usage"===e.dataKey.toLowerCase()))&&(null==a?void 0:a.some(e=>e.dataKey.toLowerCase().includes("ram_"))),S=(null==a?void 0:a.some(e=>e.dataKey.toLowerCase().includes("disk_fs_")))||(null==a?void 0:a.some(e=>e.dataKey.toLowerCase().includes("pg_database_size"))),C=null==a?void 0:a.some(e=>e.dataKey.toLowerCase().includes("network_")),j=H||S||C,D=[...null!=(g=null==r||null==(p=r.filter(e=>e.omitFromTotal))?void 0:p.map(e=>e.attribute))?g:[],...null!=(h=null==r||null==(f=r.filter(e=>(null==e?void 0:e.provider)==="reference-line"))?void 0:f.map(e=>e.attribute))?h:[],...(null==v?void 0:v.attribute)?[v.attribute]:[]],T=s().tz.guess(),I=c&&A(a,D),L=e=>{let t,{entry:a}=e,l=null==r?void 0:r.find(e=>(null==e?void 0:e.attribute)===a.name),s=(a.value/w*100).toFixed(u),c=a.dataKey===(null==v?void 0:v.attribute);return(0,n.jsxs)("div",{className:"flex items-center w-full","data-sentry-component":"LabelItem","data-sentry-source-file":"ComposedChart.utils.tsx",children:[(t=a.color,c?(0,n.jsx)(_,{}):(0,n.jsx)(E,{color:t})),(0,n.jsx)("span",{className:"text-foreground-lighter ml-1 flex-grow cursor-default select-none",children:(null==l?void 0:l.label)||a.name}),(0,n.jsxs)("span",{className:"ml-3.5 flex items-end gap-1",children:[j?(0,o.z3)(C?Math.abs(a.value):a.value,u):(0,k.Eg)(a.value,u),i?"%":"","ms"===d?"ms":"",!!y&&!c&&!i&&(0,n.jsxs)("span",{className:"text-[11px] text-foreground-light mb-0.5",children:["(",s,"%)"]})]})]},a.name)};return(0,n.jsxs)("div",{className:(0,b.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg px-2.5 py-1.5 text-xs shadow-xl transition-opacity opacity-100",!m&&"opacity-0"),children:[(0,n.jsx)("p",{className:"text-foreground-light text-xs",children:T}),(0,n.jsx)("p",{className:"font-medium",children:s()(x).format(N.C_.FULL_SECONDS)}),(0,n.jsxs)("div",{className:"grid gap-0",children:[a.reverse().map((e,t)=>(0,n.jsx)(L,{entry:e},"".concat(e.name,"-").concat(t))),t&&c&&(0,n.jsxs)("div",{className:"flex md:flex-col gap-1 md:gap-0 text-foreground mt-1",children:[(0,n.jsx)("span",{className:"flex-grow text-foreground-lighter",children:"Total"}),(0,n.jsxs)("div",{className:"flex items-end gap-1",children:[(0,n.jsxs)("span",{className:"text-base",children:[j?(0,o.z3)(I,u):(0,k.Eg)(I,u),i?"%":"","ms"===d?"ms":""]}),v&&!i&&!isNaN(I/(null==y?void 0:y.value))&&isFinite(I/(null==y?void 0:y.value))&&(0,n.jsxs)("span",{className:"text-[11px] text-foreground-light mb-0.5",children:["(",(I/(null==y?void 0:y.value)*100).toFixed(1),"%)"]})]})]})]})]})}return null},I=e=>{let{payload:t,attributes:a,showMaxValue:r,onLabelHover:s,onToggleAttribute:o,hiddenAttributes:i}=e,d=null!=t?t:[],u=M(a),[c,m]=(0,l.useState)(null),p=()=>{m(null),null==s||s(null)},f=e=>{let{entry:t}=e,l=null==a?void 0:a.find(e=>e.attribute===t.name),d=t.name===(null==u?void 0:u.attribute),c=null==i?void 0:i.has(t.name),f=c?"gray":t.color,g=()=>{var e;return(0,n.jsxs)("div",{className:"flex items-center gap-1","data-sentry-component":"Label","data-sentry-source-file":"ComposedChart.utils.tsx",children:[(e=t.name,e===(null==u?void 0:u.attribute)==!0?(0,n.jsx)(_,{}):(0,n.jsx)(E,{color:f})),(0,n.jsx)("span",{className:(0,b.cn)("text-nowrap text-foreground-lighter",c&&"opacity-50"),children:(null==l?void 0:l.label)||t.name})]})};return!r&&d?null:(0,n.jsx)("button",{className:"flex md:flex-col gap-1 md:gap-0 w-fit text-foreground rounded-lg  hover:bg-background-overlay-hover",onMouseOver:()=>(e=>{m(e),null==s||s(e)})(t.name),onMouseOutCapture:p,onClick:e=>null==o?void 0:o(t.name,{exclusive:e.metaKey||e.ctrlKey}),"data-sentry-component":"LabelItem","data-sentry-source-file":"ComposedChart.utils.tsx",children:(null==l?void 0:l.tooltip)?(0,n.jsxs)(D.m_,{children:[(0,n.jsx)(D.k$,{className:"p-1.5",children:(0,n.jsx)(g,{})}),(0,n.jsx)(D.ZI,{sideOffset:6,side:"bottom",align:"center",className:"max-w-[250px]",children:l.tooltip})]}):(0,n.jsx)(g,{})},t.name)};return(0,n.jsx)("div",{className:"relative z-10 mx-auto flex flex-col items-center gap-1 text-xs w-full","data-sentry-component":"CustomLabel","data-sentry-source-file":"ComposedChart.utils.tsx",children:(0,n.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-2",children:(0,n.jsx)(D.Bc,{delayDuration:800,"data-sentry-element":"TooltipProvider","data-sentry-source-file":"ComposedChart.utils.tsx",children:null==d?void 0:d.map((e,t)=>(0,n.jsx)(f,{entry:e},"".concat(e.name,"-").concat(t)))})})})};var L=a(35862),F=a(74544);function O(e){var t,a,r,H,S,C;let{chartId:D,data:E,attributes:_,yAxisKey:M,xAxisKey:O,format:K,customDateFormat:P=N.C_.FULL,title:B,highlightedValue:z,highlightedLabel:R,displayDateInUtc:V,minimalHeader:U,valuePrecision:X,className:W="",size:Z="normal",emptyStateMessage:J,onBarClick:$,showLegend:q=!1,xAxisIsDate:G=!0,XAxisProps:Q,YAxisProps:Y,showGrid:ee=!1,showTooltip:et=!1,showTotal:ea=!0,showMaxValue:en=!1,chartHighlight:el,hideChartType:er,chartStyle:es,onChartStyleChange:eo,updateDateRange:ei,hideYAxis:ed,hideHighlightedValue:eu,hideHighlightedLabel:ec=!1,hideHighlightArea:em=!1,syncId:ep,docsUrl:ef,sql:eg,highlightActions:eh,titleTooltip:ex,showNewBadge:ev}=e,{resolvedTheme:ey}=(0,i.D)(),{hoveredIndex:eb,syncTooltip:ew,setHover:eH,clearHover:eS}=(0,F.Z)(ep||"default"),[eC,ej]=(0,l.useState)(null),[eN,ek]=(0,l.useState)(en),[eD,eE]=(0,l.useState)(null),[e_,eM]=(0,l.useState)(null),[eA,eT]=(0,l.useState)(!1),[eI,eL]=(0,l.useState)(new Set),eF=null==ey?void 0:ey.includes("dark");(0,l.useEffect)(()=>{(0,N.fE)(null!=eF&&eF)},[eF]);let{Container:eO}=(0,k.dQ)(Z),eK=e=>V?s()(e).utc():s()(e),eP=e=>"number"!=typeof e&&"string"!=typeof e?"":"number"==typeof e&&e>1e14?eK(e/1e3).format(P):eK(e).format(P),eB=Q||{interval:E.length-2,angle:0,tick:!1},ez=Y||{tickFormatter:e=>(0,k.Eg)(e,X),tick:!1,width:0},eR=_.find(e=>e.isMaxValue),eV={name:null==eR?void 0:eR.attribute,color:N.OK.REFERENCE_LINE},eU=_.filter(e=>(null==e?void 0:e.provider)==="reference-line"),eX=function(){if(!G){var e;return eD?null==(e=E[eD])?void 0:e[O]:R}return null!==eD&&E&&void 0!==E[eD]&&eP(E[eD][O])||R}(),eW=function(){var e,t,a,n;let l=_.find(e=>e.isMaxValue),r=_.filter(e=>(null==e?void 0:e.provider)==="reference-line"),s=[...null!=(t=null==_||null==(e=_.filter(e=>e.omitFromTotal))?void 0:e.map(e=>e.attribute))?t:[],...null!=(a=null==r?void 0:r.map(e=>e.attribute))?a:[],...(null==l?void 0:l.attribute)?[null==l?void 0:l.attribute]:[],...Array.from(eI)],o=E[E.length-1]?Object.entries(E[E.length-1]).map(e=>{let[t,a]=e;return{dataKey:t,value:a}}).filter(e=>"timestamp"!==e.dataKey&&"period_start"!==e.dataKey&&_.some(t=>t.attribute===e.dataKey&&!1!==t.enabled)):void 0;return null!==eD?ea?A(eC,s):null==(n=E[eD])?void 0:n[M]:ea&&o?A(o,s):z}(),eZ=(null==el?void 0:el.coordinates.left)&&(null==el?void 0:el.coordinates.right)&&(null==el?void 0:el.coordinates.left)!==(null==el?void 0:el.coordinates.right),eJ=E&&E[0]?null==(t=Object.entries(E[0]))?void 0:t.map(e=>{let[t,a]=e;return{name:t,value:a}}).filter(e=>"timestamp"!==e.name&&"period_start"!==e.name&&e.name!==(null==eR?void 0:eR.attribute)&&!eU.map(e=>e.attribute).includes(e.name)&&_.some(t=>t.attribute===e.name&&!1!==t.enabled)).map((e,t)=>{let a=_.find(t=>t.attribute===e.name);return{...e,color:(null==a?void 0:a.color)?(null==ey?void 0:ey.includes("dark"))?a.color.dark:a.color.light:N.E6[t%N.E6.length]}}):[],e$=eJ.filter(e=>{let t=_.find(t=>t.attribute===e.name);return!(null==t?void 0:t.isMaxValue)}).filter(e=>!eI.has(e.name)),eq="%"===K,eG=!(null==eJ?void 0:eJ.some(e=>"ram_usage"===e.name.toLowerCase()))&&(null==eJ?void 0:eJ.some(e=>e.name.toLowerCase().includes("ram_"))),eQ=null==eJ?void 0:eJ.some(e=>e.name.toLowerCase().includes("disk_space_")),eY=null==eJ?void 0:eJ.some(e=>e.name.toLowerCase().includes("pg_database_size")),e0=null==eJ?void 0:eJ.some(e=>e.name.toLowerCase().includes("network_")),e1=eG||eQ||eY||e0,e2=Math.max(0,...e$.map(e=>"number"==typeof e.value?e.value:0));return 0===E.length?(0,n.jsx)(L.A,{hideTotalPlaceholder:void 0===z,message:J,description:"It may take up to 24 hours for data to refresh",size:Z,className:W,attribute:B,format:K,titleTooltip:ex}):(0,n.jsxs)("div",{className:(0,b.cn)("flex flex-col gap-y-3",W),"data-sentry-component":"ComposedChart","data-sentry-source-file":"ComposedChart.tsx",children:[(0,n.jsx)(w._,{hideHighlightedValue:eu,title:B,showNewBadge:ev,format:K,hideHighlightedLabel:ec,hideHighlightArea:em,titleTooltip:ex,customDateFormat:P,highlightedValue:function(e){if("number"!=typeof e)return e;if(e1){let t=e0?Math.abs(e):e;return(0,o.z3)(t,X)}return(0,k.Eg)(e,X)}(eW),highlightedLabel:eX,minimalHeader:U,hideChartType:er,chartStyle:es,onChartStyleChange:eo,showMaxValue:eN,setShowMaxValue:eR?ek:void 0,docsUrl:ef,syncId:ep,data:E,xAxisKey:O,yAxisKey:M,xAxisIsDate:G,displayDateInUtc:V,valuePrecision:X,shouldFormatBytes:e1,isNetworkChart:e0,attributes:_,sql:eg,"data-sentry-element":"ChartHeader","data-sentry-source-file":"ComposedChart.tsx"}),(0,n.jsxs)(eO,{className:"relative z-10","data-sentry-element":"Container","data-sentry-source-file":"ComposedChart.tsx",children:[(0,n.jsxs)(d.X,{data:E,syncId:ep,style:{cursor:"crosshair"},onMouseMove:e=>{var t;eT(!0),e.activeTooltipIndex!==eD&&(eE(e.activeTooltipIndex),ej(e.activePayload)),eH(e.activeTooltipIndex);let a=null==(t=E[e.activeTooltipIndex])?void 0:t.timestamp;null==el||el.handleMouseMove({activeLabel:null==a?void 0:a.toString(),coordinates:e.activeLabel})},onMouseDown:e=>{var t;let a=null==(t=E[e.activeTooltipIndex])?void 0:t.timestamp;null==el||el.handleMouseDown({activeLabel:null==a?void 0:a.toString(),coordinates:e.activeLabel})},onMouseUp:null==el?void 0:el.handleMouseUp,onMouseLeave:e=>{eT(!1),eE(null),ej(null),eS()},onClick:e=>{var t,a;let n=null==e||null==(a=e.activePayload)||null==(t=a[0])?void 0:t.payload;$&&$(n,e)},"data-sentry-element":"RechartComposedChart","data-sentry-source-file":"ComposedChart.tsx",children:[ee&&(0,n.jsx)(u.d,{stroke:N.OK.AXIS}),(0,l.createElement)(c.h,{...ez,hide:ed,axisLine:{stroke:N.OK.AXIS},tickLine:{stroke:N.OK.AXIS},domain:eq&&!en?[0,e2]:["auto","auto"],key:M,"data-sentry-element":"YAxis","data-sentry-source-file":"ComposedChart.tsx"}),(0,l.createElement)(m.W,{...eB,axisLine:{stroke:N.OK.AXIS},tickLine:{stroke:N.OK.AXIS},tickMargin:8,minTickGap:3,key:O,"data-sentry-element":"XAxis","data-sentry-source-file":"ComposedChart.tsx"}),(0,n.jsx)(p.m,{content:e=>et&&!eZ?(0,n.jsx)(T,{...e,format:K,isPercentage:eq,label:eX,attributes:_,valuePrecision:X,showTotal:ea,isActiveHoveredChart:eA||!!ep&&ew&&null!==eb}):null,"data-sentry-element":"Tooltip","data-sentry-source-file":"ComposedChart.tsx"}),"bar"===es?e$.map(e=>{var t,a,l;return(0,n.jsx)(f.y,{dataKey:e.name,stackId:null!=(l=null==_||null==(t=_.find(t=>t.attribute===(null==e?void 0:e.name)))?void 0:t.stackId)?l:"1",fill:e.color,radius:.75,opacity:1,name:(null==_||null==(a=_.find(t=>t.attribute===(null==e?void 0:e.name)))?void 0:a.label)||(null==e?void 0:e.name),maxBarSize:24},e.name)}):e$.map((e,t)=>{var a,l,r;return(0,n.jsx)(g.G,{type:"step",dataKey:e.name,stackId:null!=(r=null==_||null==(a=_.find(t=>t.attribute===e.name))?void 0:a.stackId)?r:"1",fill:e.color,stroke:e.color,radius:20,animationDuration:375,fillOpacity:e_&&e_!==e.name?.075:e_===e.name?.3:.25,name:(null==_||null==(l=_.find(t=>t.attribute===e.name))?void 0:l.label)||e.name,dot:!1},e.name)}),eR&&eN&&(0,n.jsx)(h.N,{type:"stepAfter",dataKey:eR.attribute,stroke:N.OK.REFERENCE_LINE,strokeWidth:2,strokeDasharray:null!=(C=eR.strokeDasharray)?C:"3 3",dot:!1,name:eR.label},eR.attribute),eU.filter(e=>e.isReferenceLine).map(e=>{var t,a;return(0,n.jsx)(x.e,{y:e.value,strokeWidth:1,...e,color:null==(t=e.color)?void 0:t.dark,strokeDasharray:null!=(a=e.strokeDasharray)?a:"3 3",label:void 0,children:(0,n.jsx)(v.J,{value:e.label,position:"insideTopRight",fill:N.OK.REFERENCE_LINE_TEXT,className:"text-xs",style:{fill:N.OK.REFERENCE_LINE_TEXT}})},e.attribute)}),eZ&&(0,n.jsx)(y.T,{x1:null==el?void 0:el.coordinates.left,x2:null==el?void 0:el.coordinates.right,strokeOpacity:.5,stroke:eF?"#FFFFFF":"#0C3925",fill:eF?"#FFFFFF":"#0C3925",fillOpacity:.2})]}),(0,n.jsx)(j,{chartHighlight:el,updateDateRange:ei,actions:eh,chartId:D,"data-sentry-element":"ChartHighlightActions","data-sentry-source-file":"ComposedChart.tsx"})]}),E&&(0,n.jsxs)("div",{className:"text-foreground-lighter -mt-9 flex items-center justify-between text-xs",style:{marginLeft:null==Y?void 0:Y.width},children:[(0,n.jsx)("span",{children:G?eP(null==(a=E[0])?void 0:a[O]):null==(r=E[0])?void 0:r[O]}),(0,n.jsx)("span",{children:G?eP(null==(H=E[E.length-1])?void 0:H[O]):null==(S=E[E.length-1])?void 0:S[O]})]}),q&&(0,n.jsx)(I,{payload:[eV,...eJ],attributes:_,showMaxValue:eN,onLabelHover:eM,onToggleAttribute:(e,t)=>{eL(a=>{if(null==t?void 0:t.exclusive){let t=eJ.map(e=>e.name).filter(t=>t!==e);return t.every(e=>a.has(e))&&!a.has(e)?new Set:new Set(t)}let n=new Set(a);return n.has(e)?n.delete(e):n.add(e),n})},hiddenAttributes:eI})]})}},8089:(e,t,a)=>{a.d(t,{T:()=>c});var n=a(53239),l=a(53434),r=a.n(l),s=a(23850),o=a(23463),i=a(71492),d=a(75187);let u=e=>(0,s.Cp)({parse:t=>null!=t?t:e,serialize:e=>e||""}),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.s3.LAST_60_MINUTES,{plan:t,isLoading:a}=(0,i.c)(),[l,c]=(0,n.useState)(!1),m=(0,n.useMemo)(()=>o.xm.map(e=>({...e,disabled:!1})),[]),[p,f]=(0,s.ZA)("its",u("")),[g,h]=(0,s.ZA)("ite",u("")),[x,v]=(0,s.ZA)("isHelper",(0,s.Cp)({parse:e=>"true"===e,serialize:e=>String(e)})),[y,b]=(0,s.ZA)("helperText",u("")),w=(0,n.useCallback)(()=>{var a;let n;if("string"==typeof e?n=o.xm.find(t=>t.text===e):e&&"object"==typeof e&&"text"in e&&(n=e),n&&(null==(a=n.availableIn)?void 0:a.includes((null==t?void 0:t.id)||"free")))return{start:n.calcFrom(),end:n.calcTo(),helper:{isHelper:!0,text:n.text}};let l=o.xm.find(e=>{var a;return e.default&&(null==(a=e.availableIn)?void 0:a.includes((null==t?void 0:t.id)||"free"))});if(l)return{start:l.calcFrom(),end:l.calcTo(),helper:{isHelper:!0,text:l.text}};let s=o.xm.find(e=>{var a;return null==(a=e.availableIn)?void 0:a.includes((null==t?void 0:t.id)||"free")});return s?{start:s.calcFrom(),end:s.calcTo(),helper:{isHelper:!0,text:s.text}}:{start:r()().subtract(1,"hour").toISOString(),end:r()().toISOString(),helper:{isHelper:!1}}},[e,null==t?void 0:t.id]),H=(0,n.useMemo)(()=>{if(p){let e=r()(p),t=r()();if(e.isValid()&&e.isAfter(t.subtract(90,"day"))&&e.isBefore(t.add(1,"day")))return p}return w().start},[p,w]),S=(0,n.useMemo)(()=>{if(g){let e=r()(g),t=r()();if(e.isValid()&&e.isAfter(t.subtract(90,"day"))&&e.isBefore(t.add(1,"day")))return g}return w().end},[g,w]),C=(0,n.useMemo)(()=>p&&g?!!x:w().helper.isHelper,[p,g,x,w]),j=(0,n.useMemo)(()=>p&&g?y||void 0:w().helper.text,[p,g,y,w]),N=(0,n.useCallback)((e,t)=>{r()(t).diff(e,"day",!0);let a=r()(t).diff(e,"hour",!0),n={"1m":a<1.1,"5m":a<3.1,"10m":a<6.1,"30m":a<25};switch(!0){case n["1m"]:return"1m";case n["5m"]:return"5m";case n["10m"]:return"10m";case n["30m"]:return"30m";default:return"1h"}},[]),k=(0,n.useMemo)(()=>({period_start:{date:H,time_period:"1d"},period_end:{date:S,time_period:"today"},interval:N(H,S)}),[H,S,N]),D=(0,n.useCallback)((e,t)=>{f(e),h(t),v(!1),b("")},[f,h,v,b]),E=(0,n.useCallback)(e=>{f(e.period_start.date),h(e.period_end.date),v(!1),b("")},[f,h,v,b]);return{selectedDateRange:k,setSelectedDateRange:E,updateDateRange:D,datePickerValue:(0,n.useMemo)(()=>({from:H,to:S,isHelper:C,text:j}),[H,S,C,j]),datePickerHelpers:m,isOrgPlanLoading:a,orgPlan:t,showUpgradePrompt:l,setShowUpgradePrompt:c,handleDatePickerChange:e=>(0,d.eu)(e.from,null==t?void 0:t.id)?(c(!0),!0):(e.from&&e.to&&(f(e.from),h(e.to),v(e.isHelper||!1),b(e.text||"")),!1)}}},29727:(e,t,a)=>{a.d(t,{V:()=>d});var n=a(80263),l=a(23019),r=a(76196),s=a(47876),o=a(80100),i=a(55441);function d(e){var t,a;let{className:d,classNames:u,showOutsideDays:c=!0,...m}=e,p="range"===m.mode&&!!(null==(t=m.selected)?void 0:t.from)&&!!(null==(a=m.selected)?void 0:a.to),{months:f,month:g,month_caption:h,caption_label:x,button_previous:v,button_next:y,month_grid:b,weekdays:w,weekday:H,week:S,day:C,day_button:j,selected:N,today:k,outside:D,disabled:E,range_start:_,range_middle:M,range_end:A,hidden:T,...I}=null!=u?u:{};return(0,n.jsx)(s.h,{showOutsideDays:c,className:(0,o.cn)("p-3",d),classNames:{months:(0,o.cn)("relative flex flex-col sm:flex-row space-y-4 sm:[&>*:not(nav)+*]:ml-4 sm:space-y-0",f),month:(0,o.cn)("space-y-4",g),month_caption:(0,o.cn)("flex justify-center pt-1 relative items-center",h),caption_label:(0,o.cn)("text-sm font-medium",x),button_previous:(0,o.cn)((0,i.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100","z-[5]","aria-disabled:opacity-25 aria-disabled:hover:opacity-25 aria-disabled:cursor-not-allowed","absolute left-0 top-0",v),button_next:(0,o.cn)((0,i.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100","z-[5]","aria-disabled:opacity-25 aria-disabled:hover:opacity-25 aria-disabled:cursor-not-allowed","absolute right-0 top-0",y),month_grid:(0,o.cn)("w-full border-collapse space-y-1",b),weekdays:(0,o.cn)("flex",w),weekday:(0,o.cn)("text-foreground-muted rounded-md w-9 font-normal text-[0.8rem]",H),week:(0,o.cn)("flex w-full mt-2",S),day:(0,o.cn)("text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md","last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",C),day_button:(0,o.cn)((0,i.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100",j),selected:(0,o.cn)("bg-brand-500 text-foreground text-foreground",N),today:(0,o.cn)("bg-accent text-accent-foreground",k),outside:(0,o.cn)("text-foreground-muted opacity-50",D),disabled:(0,o.cn)("text-foreground-muted opacity-50",E),range_start:(0,o.cn)(p&&"bg-brand-500 rounded-r-none",_),range_middle:(0,o.cn)("aria-selected:bg-brand-400 rounded-none",M),range_end:(0,o.cn)(p&&"bg-brand-500 rounded-l-none",A),hidden:(0,o.cn)("invisible",T),...I},components:{Chevron:e=>{let{className:t,...a}=e;return"left"===e.orientation?(0,n.jsx)(l.A,{className:(0,o.cn)("h-4 w-4 pointer-events-none",t),...a}):(0,n.jsx)(r.A,{className:(0,o.cn)("h-4 w-4 pointer-events-none",t),...a})}},...m,"data-sentry-element":"DayPicker","data-sentry-component":"Calendar","data-sentry-source-file":"calendar.tsx"})}d.displayName="Calendar"},34179:(e,t,a)=>{a.d(t,{Cr:()=>m,yK:()=>p,B7:()=>c,pD:()=>u,e_:()=>g,cp:()=>f});var n=a(53434),l=a.n(n),r=a(51797),s=a(68224),o=a(75187),i=a(84353),d=a(90350);let u=e=>Object.fromEntries(new URLSearchParams(e)),c=(e,t)=>Object.entries(e).reduce((e,a)=>{let[n,{sql:l,queryType:o}]=a;return"db"===o?{...e,[n]:()=>(0,r.A)({sql:l})}:{...e,[n]:()=>(0,s.A)(t)}},{});function m(e){let t=new Set;return e.forEach(e=>{void 0!==e.status_code&&null!==e.status_code&&t.add(String(e.status_code))}),Array.from(t).sort()}function p(e){return e.map(e=>({attribute:e,label:"".concat(e," ").concat(function(e){if(!(e in d.h))return{code:e,name:"UNKNOWN",message:"Unknown status code",label:"Unknown"};let t=d.h[e],a=d.h["".concat(e,"_MESSAGE")],n=d.h["".concat(e,"_NAME")];return{code:e,name:n,label:t,message:a}}(parseInt(e,10)).label),color:i.j_[e]||i.j_.default}))}function f(e,t){return Object.values(e.reduce((e,a)=>{let n=(0,o.l8)(a.timestamp)?(0,o.RT)(a.timestamp):l().utc(a.timestamp).toISOString();e[n]||(e[n]={timestamp:n},t.forEach(t=>{e[n][t]=0}));let r=String(a.status_code);return r in e[n]&&(e[n][r]=a.count),e},{}))}function g(e,t,a){return Object.values(e.reduce((e,n)=>{let r=(0,o.l8)(n.timestamp)?(0,o.RT)(n.timestamp):l().utc(n.timestamp).toISOString();e[r]||(e[r]={timestamp:r},a.forEach(t=>{e[r][t]=0}));let s=String(n[t]);return s in e[r]&&(e[r][s]=n.count),e},{}))}},34842:(e,t,a)=>{a.d(t,{O:()=>w});var n=a(80263),l=a(53434),r=a.n(l),s=a(56718),o=a(43948),i=a(53239),d=a(21650),u=a(883),c=a(23812),m=a(23729),p=a(44814),f=a(38904),g=a(61548),h=a(99779),x=a(80100),v=a(29727),y=a(77727),b=a(49510);let w=e=>{let{onSubmit:t,helpers:a,value:l,buttonTriggerProps:w,popoverContentProps:H,hideWarnings:S,align:C="end"}=e,[j,N]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(!j){D(l.from?new Date(l.from):null);let e=l.to?new Date(l.to):new Date;_(e),A(new Date(e));let t=l.from?new Date(l.from):null,a=l.to?new Date(l.to):null;I({HH:(null==t?void 0:t.getHours().toString().padStart(2,"0"))||"00",mm:(null==t?void 0:t.getMinutes().toString().padStart(2,"0"))||"00",ss:(null==t?void 0:t.getSeconds().toString().padStart(2,"0"))||"00"});let n=new Date,r=n.getHours().toString().padStart(2,"0"),s=n.getMinutes().toString().padStart(2,"0"),o=n.getSeconds().toString().padStart(2,"0");F({HH:(null==a?void 0:a.getHours().toString().padStart(2,"0"))||r,mm:(null==a?void 0:a.getMinutes().toString().padStart(2,"0"))||s,ss:(null==a?void 0:a.getSeconds().toString().padStart(2,"0"))||o})}},[j,l]);let[k,D]=(0,i.useState)(l.from?new Date(l.from):null),[E,_]=(0,i.useState)(l.to?new Date(l.to):new Date),[M,A]=(0,i.useState)(()=>l.to?new Date(l.to):new Date),[T,I]=(0,i.useState)({HH:(null==k?void 0:k.getHours().toString())||"00",mm:(null==k?void 0:k.getMinutes().toString())||"00",ss:(null==k?void 0:k.getSeconds().toString())||"00"}),[L,F]=(0,i.useState)({HH:(null==E?void 0:E.getHours().toString())||"23",mm:(null==E?void 0:E.getMinutes().toString())||"59",ss:(null==E?void 0:E.getSeconds().toString())||"59"}),[O,K]=(0,i.useState)(!1),[P,B]=(0,i.useState)(!1);function z(){navigator.clipboard.readText().then(e=>{try{let t=JSON.parse(e);if(!t.from||!t.to)return void console.warn("Invalid date range format in clipboard");let a=new Date(t.from),n=new Date(t.to);if(isNaN(a.getTime())||isNaN(n.getTime()))return void console.warn("Invalid date values in clipboard");D(a),_(n),A(new Date(n)),I({HH:a.getHours().toString(),mm:a.getMinutes().toString(),ss:a.getSeconds().toString()}),F({HH:n.getHours().toString(),mm:n.getMinutes().toString(),ss:n.getSeconds().toString()}),B(!0)}catch(e){console.warn("Failed to parse clipboard content as date range:",e)}}).catch(e=>{console.warn("Failed to read clipboard:",e)})}(0,i.useEffect)(()=>{O&&setTimeout(()=>{K(!1)},2e3)},[O]);let R=(0,i.useCallback)(()=>{if(!k||!E)return;let e=new Date(k),t=new Date(E);e.setHours(+T.HH,+T.mm,+T.ss),t.setHours(+L.HH,+L.mm,+L.ss),(0,f.l)(JSON.stringify({from:e.toISOString(),to:t.toISOString()})),K(!0)},[k,E,T,L]);(0,i.useEffect)(()=>{P&&setTimeout(()=>{B(!1)},2e3)},[P]),(0,i.useEffect)(()=>(j&&(document.addEventListener("paste",z),document.addEventListener("copy",R)),()=>{document.removeEventListener("paste",z),document.removeEventListener("copy",R)}),[j,k,E,R]);let V=Math.abs(r()(k).diff(r()(E),"days"))>y.VM-1,{getEntitlementNumericValue:U}=(0,b.e)("log.retention_days"),X=U();return(0,n.jsxs)(g.AM,{open:j,onOpenChange:N,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"LogsDatePicker","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,n.jsx)(g.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"Logs.DatePickers.tsx",children:(0,n.jsx)(h.$,{type:"default",icon:(0,n.jsx)(s.A,{size:12}),...w,"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:l.isHelper?l.text:"".concat(r()(l.from).format("DD MMM, HH:mm")," - ").concat(r()(l.to||new Date).format("DD MMM, HH:mm"))})}),(0,n.jsxs)(g.hl,{className:"flex w-full p-0",side:"bottom",align:C,portal:!0,...H,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,n.jsx)(c.z6,{onValueChange:e=>{let n=a.find(t=>t.text===e);t&&n&&t({to:n.calcTo(),from:n.calcFrom(),isHelper:!0,text:n.text}),N(!1)},value:l.isHelper?l.text:"",className:"border-r p-2 flex flex-col gap-px","data-sentry-element":"RadioGroup","data-sentry-source-file":"Logs.DatePickers.tsx",children:a.map(e=>{var t;return(0,n.jsxs)(u.J,{className:(0,x.cn)("[&:has([data-state=checked])]:bg-background-overlay-hover [&:has([data-state=checked])]:text-foreground px-4 py-1.5 text-foreground-light flex items-center gap-2 hover:bg-background-overlay-hover hover:text-foreground transition-all rounded-sm text-xs w-full",{"cursor-not-allowed pointer-events-none opacity-50":e.disabled}),children:[(0,n.jsx)(c.CU,{hidden:!0,value:e.text,disabled:e.disabled,"aria-disabled":e.disabled},e.text),e.text,(e=>{var t;return!(!e||!(null==(t=e.availableIn)?void 0:t.length)||!X||Math.abs(r()().diff(r()(e.calcFrom()),"day"))<=X)})(e)?(0,n.jsx)(d.E,{size:"small",variant:"outline",className:"h-5 text-[10px] text-foreground-light capitalize",children:(null==(t=e.availableIn)?void 0:t[0])||""}):null]},e.text)})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex p-2 gap-2 items-center",children:[(0,n.jsxs)("div",{className:"flex flex-grow *:flex-grow gap-2 font-mono",children:[(0,n.jsx)(p.K,{type:"start",startTime:T,endTime:L,time:T,setTime:I,setStartTime:I,setEndTime:F,startDate:k,endDate:E,"data-sentry-element":"TimeSplitInput","data-sentry-source-file":"Logs.DatePickers.tsx"}),(0,n.jsx)(p.K,{type:"end",startTime:T,endTime:L,time:L,setTime:F,setStartTime:I,setEndTime:F,startDate:k,endDate:E,"data-sentry-element":"TimeSplitInput","data-sentry-source-file":"Logs.DatePickers.tsx"})]}),(0,n.jsx)("div",{className:"flex-shrink",children:(0,n.jsx)(m.G,{tooltip:{content:{text:"Clear time range"}},icon:(0,n.jsx)(o.A,{size:14}),type:"text",size:"tiny",className:"px-1.5",onClick:()=>{I({HH:"00",mm:"00",ss:"00"}),F({HH:"00",mm:"00",ss:"00"})},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"Logs.DatePickers.tsx"})})]}),(0,n.jsx)("div",{className:"p-2 border-t",children:(0,n.jsx)(v.V,{mode:"range",month:M,onMonthChange:e=>A(new Date(e)),selected:{from:null!=k?k:void 0,to:null!=E?E:void 0},onSelect:e=>{var t,a;!function(e){let[t,a]=e;D(t),_(a)}([null!=(t=null==e?void 0:e.from)?t:null,null!=(a=null==e?void 0:e.to)?a:null])},"data-sentry-element":"Calendar","data-sentry-source-file":"Logs.DatePickers.tsx"})}),V&&!S&&(0,n.jsxs)("div",{className:"text-xs px-3 py-1.5 border-y bg-warning-300 text-warning-foreground border-warning-500 text-warning",children:["Large ranges may result in memory errors for ",(0,n.jsx)("br",{})," big projects."]}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2 p-2 border-t",children:[k&&E?(0,n.jsx)(h.$,{type:"text",size:"tiny",onClick:R,className:(0,x.cn)({"text-brand-600":O||P}),children:O?"Copied!":P?"Pasted!":"Copy range"}):null,(0,n.jsx)(h.$,{type:"default",onClick:()=>{let e=new Date;A(e),D(new Date(e)),_(new Date(e))},"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:"Today"}),(0,n.jsx)(h.$,{onClick:function(){let e=k||new Date,a=E||new Date,n=new Date(e.setHours(+T.HH,+T.mm,+T.ss)),l=new Date(a.setHours(+L.HH,+L.mm,+L.ss));t({from:n.toISOString(),to:l.toISOString(),isHelper:!1}),N(!1)},"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:"Apply"})]})]})]})]})}},44814:(e,t,a)=>{a.d(t,{K:()=>d});var n=a(80263),l=a(87654),r=a(56718),s=a(53239),o=a(75187);let i=(0,a(80100).cn)("w-6 p-0 text-center text-xs text-foreground outline-none cursor-text","ring-0 focus:ring-0 ring-none border-none bg-transparent"),d=e=>{let{type:t,time:a,setTime:d,setStartTime:u,setEndTime:c,startTime:m,endTime:p,startDate:f,endDate:g}=e,[h,x]=(0,s.useState)(!1);function v(){1===a.HH.length&&(a.HH="0"+a.HH),1===a.mm.length&&(a.mm="0"+a.mm),1===a.ss.length&&(a.ss="0"+a.ss),a.HH||(a.HH="00"),a.mm||(a.mm="00"),a.ss||(a.ss="00");let e=!1,n=!1;(0,l.A)(new Date(f),"dd/mm/yyyy")==(0,l.A)(new Date(g),"dd/mm/yyyy")&&("start"===t&&(a.HH&&Number(a.HH)>Number(p.HH)&&(p.HH=a.HH,e=!0),a.HH&&Number(a.HH)>=Number(p.HH)&&a.mm&&Number(a.mm)>Number(p.mm)&&(p.mm=a.mm,e=!0),a.HH&&Number(a.HH)>=Number(p.HH)&&a.mm&&Number(a.mm)>=Number(p.mm)&&a.ss&&Number(a.ss)>Number(p.ss)&&(p.ss=a.ss,e=!0)),"end"===t&&(a.HH&&Number(a.HH)<Number(m.HH)&&(m.HH=a.HH,n=!0),a.HH&&Number(a.HH)<=Number(m.HH)&&a.mm&&Number(a.mm)<Number(m.mm)&&(m.mm=a.mm,n=!0),a.HH&&Number(a.HH)<=Number(m.HH)&&a.mm&&Number(a.mm)<=Number(m.mm)&&a.ss&&Number(a.ss)<Number(m.ss)&&(m.ss=a.ss,n=!0))),d({...a}),e&&c({...p}),n&&u({...m}),x(!1)}function y(e,t){let n={HH:a.HH,mm:a.mm,ss:a.ss};if(!(e.length>2)){switch(t){case"HH":if(e&&Number(e)>23)return;break;case"mm":case"ss":if(e&&Number(e)>59)return}n[t]=e,d({...n})}}let b=e=>{e.target.select(),x(!0),e.stopPropagation()},w=e=>{e.stopPropagation()},H=e=>{/^[0-9]$/.test(e.key)||["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter"].includes(e.key)||e.preventDefault(),e.stopPropagation()},S=e=>{e.stopPropagation()};function C(e){e.preventDefault(),e.stopPropagation(),navigator.clipboard.readText().then(e=>{let a=null;if(isNaN((a=new Date((0,o.l8)(e)?(0,o.RT)(e):Number(e))).getTime()))return void console.warn("Invalid date or timestamp in clipboard");a&&("start"===t&&a.setSeconds(a.getSeconds()-1),"end"===t&&a.setSeconds(a.getSeconds()+1),d({HH:a.getHours().toString().padStart(2,"0"),mm:a.getMinutes().toString().padStart(2,"0"),ss:a.getSeconds().toString().padStart(2,"0")}))})}return(0,s.useEffect)(()=>(document.addEventListener("paste",C),()=>document.removeEventListener("paste",C)),[f,g]),(0,n.jsxs)("div",{className:"\n        flex h-7 items-center justify-center\n        gap-0 rounded border border-strong bg-surface-100 text-xs text-foreground-light\n        ".concat(h&&" border-stronger outline outline-2 outline-border","\n        hover:border-stronger transition-colors\n    "),"data-sentry-component":"TimeSplitInput","data-sentry-source-file":"TimeSplitInput.tsx",children:[(0,n.jsx)("div",{className:"mr-1 text-foreground-lighter",children:(0,n.jsx)(r.A,{size:14,strokeWidth:1.5,"data-sentry-element":"Clock","data-sentry-source-file":"TimeSplitInput.tsx"})}),(0,n.jsx)("input",{type:"text",onBlur:()=>v(),onFocus:b,onClick:w,onKeyDown:H,onInput:S,pattern:"[0-23]*",placeholder:"00",onChange:e=>y(e.target.value,"HH"),"aria-label":"Hours",className:i,value:a.HH}),(0,n.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,n.jsx)("input",{type:"text",onBlur:()=>v(),onFocus:b,onClick:w,onKeyDown:H,onInput:S,pattern:"[0-59]*",placeholder:"00",onChange:e=>y(e.target.value,"mm"),"aria-label":"Minutes",className:i,value:a.mm}),(0,n.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,n.jsx)("input",{type:"text",onBlur:()=>v(),onFocus:b,onClick:w,onKeyDown:H,onInput:S,pattern:"[0-59]*",placeholder:"00",onChange:e=>y(e.target.value,"ss"),"aria-label":"Seconds",className:i,value:a.ss})]})}},49510:(e,t,a)=>{a.d(t,{e:()=>u});var n=a(67850),l=a(24523),r=a(19965);async function s(e,t){let{slug:a}=e;if(!a)throw Error("slug is required");let{data:n,error:r}=await (0,l.Jt)("/platform/organizations/{slug}/entitlements",{params:{path:{slug:a}},signal:t});return r&&(0,l.H4)(r),n}let o=function(e){let{slug:t}=e,{enabled:a=!0,...l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:[r.O.entitlements(t)],queryFn:e=>{let{signal:a}=e;return s({slug:t},a)},enabled:a&&void 0!==t,...l,staleTime:18e5})};var i=a(53239),d=a(84512);function u(e,t,a){var n;let l=!t&&(null==a?void 0:a.enabled)!==!1,{data:r,isLoading:s,isSuccess:u}=(0,d.s)({enabled:l}),c=t||(null==r?void 0:r.slug),m=(null==a?void 0:a.enabled)!==!1&&!!c,{data:p,isLoading:f,isSuccess:g}=o({slug:c},{enabled:m}),{entitlement:h}=(0,i.useMemo)(()=>{if(!c)return{entitlement:null};let t=null==p?void 0:p.entitlements.find(t=>t.feature.key===e);return{entitlement:null!=t?t:null}},[p,e,c]),x=l?s:f,v=l?u&&g:g;return{hasAccess:null!=(n=null==h?void 0:h.hasAccess)&&n,isLoading:x,isSuccess:v,getEntitlementNumericValue:()=>(function(e){let t=null==e?void 0:e.config;return t&&e.type&&"numeric"===e.type?t.value:void 0})(h),isEntitlementUnlimited:()=>(function(e){let t=null==e?void 0:e.config;return!!(t&&e.type&&"numeric"===e.type)&&t.unlimited})(h),getEntitlementSetValues:()=>(function(e){let t=null==e?void 0:e.config;return t&&e.type&&"set"===e.type?t.set:[]})(h)}}},84353:(e,t,a)=>{a.d(t,{Wy:()=>s,j_:()=>r,vF:()=>l}),a(39406);var n=a(24523);function l(e){switch(e){case"1m":case"5m":case"10m":case"30m":return"minute";case"1h":default:return"hour";case"1d":return"day"}}let r={400:{light:"#FFD54F",dark:"#FFF176"},401:{light:"#FF8A65",dark:"#FFAB91"},403:{light:"#FFB74D",dark:"#FFCC80"},404:{light:"#90A4AE",dark:"#B0BEC5"},409:{light:"#BA68C8",dark:"#CE93D8"},410:{light:"#A1887F",dark:"#BCAAA4"},422:{light:"#FF9800",dark:"#FFB74D"},429:{light:"#E65100",dark:"#F57C00"},500:{light:"#B71C1C",dark:"#D32F2F"},502:{light:"#9575CD",dark:"#B39DDB"},503:{light:"#0097A7",dark:"#4DD0E1"},504:{light:"#C0CA33",dark:"#D4E157"},default:{light:"#757575",dark:"#9E9E9E"}};async function s(e,t,a,l){let{data:r,error:s}=await (0,n.Jt)("/platform/projects/{ref}/analytics/endpoints/logs.all",{params:{path:{ref:e},query:{sql:t,iso_timestamp_start:a,iso_timestamp_end:l}}});if(s)throw s;return r}}}]);