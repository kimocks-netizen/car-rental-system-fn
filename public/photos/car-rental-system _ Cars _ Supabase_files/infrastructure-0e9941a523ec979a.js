try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="27ecfaee-fa71-4368-9db7-f45f6dbb26f4",e._sentryDebugIdIdentifier="sentry-dbid-27ecfaee-fa71-4368-9db7-f45f6dbb26f4")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23955],{9849:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/infrastructure",function(){return r(82417)}])},11927:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var s=r(80263),a=r(53434),n=r.n(a),i=r(47041),o=r(35831),l=r(30519),d=r(64720),c=r(72195),u=r(86058),h=r(75419),g=r(4860),m=r(80100),p=r(93426);let x=e=>{let{name:t,unit:r,value:a,isAfterToday:n,tooltipFormatter:i}=e,o="percentage"===r?Number(a).toFixed(2):Number(a);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light",children:t}),n?(0,s.jsx)("p",{className:"text-foreground-light text-lg",children:"No data yet"}):(0,s.jsx)("p",{className:"text-xl",children:void 0!==i?i(o):o})]})},f=e=>{var t;let{attribute:r,attributeMeta:a,sumValue:n,tooltipFormatter:i,unit:o}=e,l=Number(null!=(t=null==a?void 0:a.value)?t:0),d=(l/n*100).toFixed(1);return(0,s.jsxs)("div",{className:"flex items-center justify-between","data-sentry-component":"AttributeContent","data-sentry-source-file":"UsageChartTooltips.tsx",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 w-[175px]",children:[(0,s.jsx)("div",{className:(0,m.cn)("w-3 h-3 rounded-full border",p.hs[r.color].marker)}),(0,s.jsxs)("p",{className:"text-xs prose",children:[r.name," (",d,"%):"," "]})]}),(0,s.jsx)("p",{className:"text-xs tabular-nums",children:void 0!==i?i(l):"".concat(l).concat("hours"===o?" H":"")})]},r.name)},y=e=>{let{attributes:t,values:r,isAfterToday:a,tooltipFormatter:n,unit:i}=e,o=r.reduce((e,t)=>e+Number(t.value),0);return(0,s.jsx)(s.Fragment,{children:a?(0,s.jsx)("p",{className:"text-foreground-light text-lg",children:"No data yet"}):(0,s.jsx)("div",{className:"space-y-1 pb-1",children:t.flatMap(e=>{var t;let a=r.find(t=>t.dataKey===e.key);return 0===Number(null!=(t=null==a?void 0:a.value)?t:0)?[]:(0,s.jsx)(f,{attribute:e,attributeMeta:a,sumValue:o,tooltipFormatter:n,unit:i},e.name)})})})},_=e=>{let{data:t,name:r,attributes:a,unit:f,yLimit:_,yLeftMargin:j=10,yFormatter:b,yMin:v,tooltipFormatter:S}=e,O=[null!=v?v:0,Math.max(null!=v?v:0,null!=_?_:0)];return(0,s.jsx)("div",{className:"w-full h-[200px]","data-sentry-component":"UsageBarChart","data-sentry-source-file":"UsageBarChart.tsx",children:(0,s.jsx)(i.u,{width:"100%",height:200,"data-sentry-element":"ResponsiveContainer","data-sentry-source-file":"UsageBarChart.tsx",children:(0,s.jsxs)(o.X,{data:t,margin:{top:0,right:0,left:j,bottom:0},"data-sentry-element":"ComposedChart","data-sentry-source-file":"UsageBarChart.tsx",children:[(0,s.jsx)(l.d,{vertical:!1,strokeDasharray:"3 3",className:"stroke-border-stronger","data-sentry-element":"CartesianGrid","data-sentry-source-file":"UsageBarChart.tsx"}),(0,s.jsx)(d.W,{dataKey:"periodStartFormatted","data-sentry-element":"XAxis","data-sentry-source-file":"UsageBarChart.tsx"}),(0,s.jsx)(c.h,{width:40,axisLine:!1,tickLine:{stroke:"none"},domain:O,tickFormatter:b,"data-sentry-element":"YAxis","data-sentry-source-file":"UsageBarChart.tsx"}),(0,s.jsx)(u.m,{content:e=>{let{active:t,payload:i}=e;if(!t||!i||!i.length)return null;{let e=n()(i[0].payload.period_start),t=e.startOf("day").isAfter(n()().startOf("day"));return(0,s.jsxs)("div",{className:(0,m.cn)("border bg-surface-100 rounded-md px-2 py-2",a.length>1&&!t?"w-[250px]":"w-[170px]"),children:[a.length>1?(0,s.jsx)(y,{attributes:a,values:i,isAfterToday:t,tooltipFormatter:S,unit:f}):(0,s.jsx)(x,{name:r,unit:f,value:i[0].value,tooltipFormatter:S,isAfterToday:t}),(0,s.jsx)("p",{className:"text-xs text-foreground-light mt-1",children:e.format("DD MMM YYYY")})]})}},"data-sentry-element":"Tooltip","data-sentry-source-file":"UsageBarChart.tsx"}),null==a?void 0:a.map(e=>(0,s.jsx)(h.y,{dataKey:e.key,stackId:"a",children:t.map(t=>(0,s.jsx)(g.f,{className:p.hs[e.color].bar},"".concat(t.period_start)))},e.key))]})})})}},21416:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(80263),a=r(52555),n=r.n(a),i=r(24487),o=r(21650),l=r(99779);let d=e=>{let{name:t="",isActive:r,isExternal:a,icon:d,rightIcon:c,url:u="",target:h="_self",onClick:g,textClassName:m="",hoverText:p="",label:x}=e,f=(0,s.jsx)(i.Ay.Item,{icon:d,rounded:!0,active:r,onClick:g,children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,s.jsxs)("div",{title:p||("string"==typeof t?t:""),className:"flex space-between items-center gap-2 truncate w-full "+m,children:[(0,s.jsx)("span",{className:"truncate flex-1",children:t}),void 0!==x&&(0,s.jsx)(o.E,{variant:"warning",size:"tiny",children:x})]}),c&&(0,s.jsx)("div",{children:c})]})});return u?a?(0,s.jsx)(l.$,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:d,children:(0,s.jsx)(n(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,s.jsx)(n(),{href:u,className:"block",target:h,children:f}):f}},24487:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>h});var s=r(80263),a=r(53239),n=r(7981),i=r(80100);function o(e){let{children:t,className:r,tag:a="div",style:n}=e;return(0,s.jsx)("".concat(a),{style:n,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}o.Title=function(e){let{className:t,level:r=1,children:a,style:n}=e;return(0,s.jsx)("h".concat(r),{style:n,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:a})},o.Text=function(e){let{className:t,children:r,style:a,type:n,disabled:i,mark:o,code:l,keyboard:d,underline:c,strikethrough:u,strong:h,small:g}=e;return l?(0,s.jsx)("code",{style:a,children:r}):o?(0,s.jsx)("mark",{style:a,children:r}):d?(0,s.jsx)("kbd",{style:a,children:r}):h?(0,s.jsx)("strong",{style:a,children:r}):(0,s.jsx)("span",{style:a,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:r})},o.Link=function(e){let{children:t,target:r="_blank",href:a,className:n,onClick:i,style:o}=e;return(0,s.jsx)("a",{onClick:i,href:a,target:r,rel:"noopener noreferrer",style:o,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let l=(0,a.createContext)({type:"text"}),d=e=>{let{type:t}=e;return(0,s.jsx)(l.Provider,{value:{type:t},"data-sentry-element":"MenuContext.Provider","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},c=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:r,ulClassName:a,style:n,type:i="text"}=e;return(0,s.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:r,style:n,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)(d,{type:i,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)("ul",{className:a,children:t})})})}u.Item=function(e){let{children:t,icon:r,active:a,rounded:o,onClick:l,doNotCloseOverlay:d=!1,showActiveBar:u=!1,style:h}=e,g=(0,n.A)("menu"),{type:m}=c(),p=[g.item.base];p.push(g.item.variants[m].base),a?p.push(g.item.variants[m].active):p.push(g.item.variants[m].normal);let x=[g.item.content.base];a?x.push(g.item.content.active):x.push(g.item.content.normal);let f=[g.item.icon.base];return a?f.push(g.item.icon.active):f.push(g.item.icon.normal),(0,s.jsxs)("li",{role:"menuitem",className:(0,i.cn)("outline-none",p),style:h,onClick:l,"aria-current":a?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[r&&(0,s.jsx)("div",{className:"".concat(f.join(" ")," min-w-fit"),children:r}),(0,s.jsx)("span",{className:x.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:r,title:a}=e,i=(0,n.A)("menu"),{type:o}=c();return(0,s.jsxs)("div",{className:[i.group.base,i.group.variants[o]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[r&&(0,s.jsx)("span",{className:i.group.icon,children:r}),(0,s.jsx)("span",{className:i.group.content,children:a}),t]})},u.Misc=function(e){let{children:t}=e;return(0,s.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)(o.Text,{"data-sentry-element":"Typography.Text","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)("span",{children:t})})})};let h=u},43479:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var s=r(80263),a=r(80814),n=r(22891),i=r(93873),o=r(2657),l=r(84512),d=r(9620),c=r(9497),u=r(29471),h=r(25433);let g=(0,c.r)(e=>{let{title:t,children:r}=e,c=(0,a.useRouter)(),{ref:g}=(0,n.g)(),{data:m}=(0,d.YA)(),{data:p}=(0,l.s)(),x=c.pathname.includes("billing")?c.pathname.split("/")[5]:c.pathname.split("/")[4],{projectAuthAll:f,authenticationShowProviders:y,projectEdgeFunctionAll:_,projectStorageAll:j,billingInvoices:b,projectSettingsLegacyJwtKeys:v,projectSettingsLogDrains:S,billingAll:O}=(0,o.x)(["project_auth:all","authentication:show_providers","project_edge_function:all","project_storage:all","billing:invoices","project_settings:legacy_jwt_keys","project_settings:log_drains","billing:all"]),E=(0,h.M)(g,m,p,{auth:f,authProviders:y,edgeFunctions:_,storage:j,invoices:b,legacyJwtKeys:v,logDrains:S,billing:O});return(0,s.jsx)(u.k,{isBlocking:!1,title:t||"Settings",product:"Settings",productMenu:(0,s.jsx)(i.l,{page:x,menu:E}),"data-sentry-element":"ProjectLayout","data-sentry-component":"SettingsLayout","data-sentry-source-file":"SettingsLayout.tsx",children:r})})},64634:(e,t,r)=>{"use strict";r.d(t,{Fg:()=>l,K5:()=>i,Lb:()=>o,Ym:()=>u,pc:()=>d});var s=r(67850),a=r(24523),n=r(81121),i=function(e){return e.REST="egress_rest",e.AUTH="egress_auth",e.STORAGE="egress_storage",e.REALTIME="egress_realtime",e.FUNCTIONS="egress_functions",e.SUPAVISOR="egress_supavisor",e.LOGDRAIN="egress_logdrain",e}({}),o=function(e){return e.EGRESS="EGRESS",e.CACHED_EGRESS="CACHED_EGRESS",e.DATABASE_SIZE="DATABASE_SIZE",e.STORAGE_SIZE="STORAGE_SIZE",e.DISK_SIZE_GB_HOURS_GP3="DISK_SIZE_GB_HOURS_GP3",e.DISK_SIZE_GB_HOURS_IO2="DISK_SIZE_GB_HOURS_IO2",e.MONTHLY_ACTIVE_USERS="MONTHLY_ACTIVE_USERS",e.MONTHLY_ACTIVE_SSO_USERS="MONTHLY_ACTIVE_SSO_USERS",e.MONTHLY_ACTIVE_THIRD_PARTY_USERS="MONTHLY_ACTIVE_THIRD_PARTY_USERS",e.FUNCTION_INVOCATIONS="FUNCTION_INVOCATIONS",e.STORAGE_IMAGES_TRANSFORMED="STORAGE_IMAGES_TRANSFORMED",e.REALTIME_MESSAGE_COUNT="REALTIME_MESSAGE_COUNT",e.REALTIME_PEAK_CONNECTIONS="REALTIME_PEAK_CONNECTIONS",e.CUSTOM_DOMAIN="CUSTOM_DOMAIN",e.IPV4="IPV4",e.PITR_7="PITR_7",e.PITR_14="PITR_14",e.PITR_28="PITR_28",e.DISK_IOPS_GP3="DISK_IOPS_GP3",e.DISK_IOPS_IO2="DISK_IOPS_IO2",e.DISK_THROUGHPUT_GP3="DISK_THROUGHPUT_GP3",e.LOG_DRAIN="LOG_DRAIN",e.LOG_DRAIN_EVENTS="LOG_DRAIN_EVENTS",e.AUTH_MFA_PHONE="AUTH_MFA_PHONE",e.AUTH_MFA_WEB_AUTHN="AUTH_MFA_WEB_AUTHN",e}({}),l=function(e){return e.COMPUTE_HOURS_BRANCH="COMPUTE_HOURS_BRANCH",e.COMPUTE_HOURS_XS="COMPUTE_HOURS_XS",e.COMPUTE_HOURS_SM="COMPUTE_HOURS_SM",e.COMPUTE_HOURS_MD="COMPUTE_HOURS_MD",e.COMPUTE_HOURS_L="COMPUTE_HOURS_L",e.COMPUTE_HOURS_XL="COMPUTE_HOURS_XL",e.COMPUTE_HOURS_2XL="COMPUTE_HOURS_2XL",e.COMPUTE_HOURS_4XL="COMPUTE_HOURS_4XL",e.COMPUTE_HOURS_8XL="COMPUTE_HOURS_8XL",e.COMPUTE_HOURS_12XL="COMPUTE_HOURS_12XL",e.COMPUTE_HOURS_16XL="COMPUTE_HOURS_16XL",e.COMPUTE_HOURS_24XL="COMPUTE_HOURS_24XL",e.COMPUTE_HOURS_24XL_OPTIMIZED_CPU="COMPUTE_HOURS_24XL_OPTIMIZED_CPU",e.COMPUTE_HOURS_24XL_OPTIMIZED_MEMORY="COMPUTE_HOURS_24XL_OPTIMIZED_MEMORY",e.COMPUTE_HOURS_24XL_HIGH_MEMORY="COMPUTE_HOURS_24XL_HIGH_MEMORY",e.COMPUTE_HOURS_48XL="COMPUTE_HOURS_48XL",e.COMPUTE_HOURS_48XL_OPTIMIZED_CPU="COMPUTE_HOURS_48XL_OPTIMIZED_CPU",e.COMPUTE_HOURS_48XL_OPTIMIZED_MEMORY="COMPUTE_HOURS_48XL_OPTIMIZED_MEMORY",e.COMPUTE_HOURS_48XL_HIGH_MEMORY="COMPUTE_HOURS_48XL_HIGH_MEMORY",e}({});let d=e=>{switch(e){case"COMPUTE_HOURS_BRANCH":return"Branching";case"COMPUTE_HOURS_XS":return"Micro";case"COMPUTE_HOURS_SM":return"Small";case"COMPUTE_HOURS_MD":return"Medium";case"COMPUTE_HOURS_L":return"Large";case"COMPUTE_HOURS_XL":return"XL";case"COMPUTE_HOURS_2XL":return"2XL";case"COMPUTE_HOURS_4XL":return"4XL";case"COMPUTE_HOURS_8XL":return"8XL";case"COMPUTE_HOURS_12XL":return"12XL";case"COMPUTE_HOURS_16XL":return"16XL";case"COMPUTE_HOURS_24XL":return"24XL";case"COMPUTE_HOURS_24XL_OPTIMIZED_CPU":return"24XL - Optimized CPU";case"COMPUTE_HOURS_24XL_OPTIMIZED_MEMORY":return"24XL - Optimized Memory";case"COMPUTE_HOURS_24XL_HIGH_MEMORY":return"24XL - High Memory";case"COMPUTE_HOURS_48XL":return"48XL";case"COMPUTE_HOURS_48XL_OPTIMIZED_CPU":return"48XL - Optimized CPU";case"COMPUTE_HOURS_48XL_OPTIMIZED_MEMORY":return"48XL - Optimized Memory";case"COMPUTE_HOURS_48XL_HIGH_MEMORY":return"48XL - High Memory"}};async function c(e,t){let{orgSlug:r,startDate:s,endDate:n,projectRef:i}=e;if(!r)throw Error("Org slug is required");if(!s||!n)throw Error("Start date is required");let{data:o,error:l}=await (0,a.Jt)("/platform/organizations/{slug}/usage/daily",{params:{path:{slug:r},query:{start:s,end:n,projectRef:i}},signal:t});return l&&(0,a.H4)(l),o}let u=function(e){let{orgSlug:t,startDate:r,endDate:a,projectRef:i}=e,{enabled:o=!0,...l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.I)({queryKey:n.P.orgDailyStats(t,{startDate:r,endDate:a,projectRef:i}),queryFn:e=>{let{signal:s}=e;return c({orgSlug:t,startDate:r,endDate:a,projectRef:i},s)},enabled:o&&void 0!==t&&void 0!==r&&void 0!==a,staleTime:36e5,...l})}},82417:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eM});var s=r(80263),a=r(53434),n=r.n(a),i=r(77341),o=r.n(i),l=r(86510),d=r(28651),c=r(52555),u=r.n(c),h=r(53239),g=r(22891),m=r(86759),p=r(12123),x=r(20033),f=r(85039),y=r(99779);let _=e=>{let{isFreePlan:t,upgradeUrl:r,severity:a}=e;return"warning"===a?(0,s.jsxs)(x.Fc,{variant:"warning",children:[(0,s.jsx)(p.A,{}),(0,s.jsx)(x.XL,{children:"Your max CPU usage has exceeded 80%"}),(0,s.jsx)(x.TN,{children:"High CPU usage could result in slower queries, disruption of daily back up routines, and in rare cases, your instance may become unresponsive. If you need more resources, consider upgrading to a larger compute add-on."}),(0,s.jsxs)("div",{className:"mt-3 flex items-center space-x-2",children:[(0,s.jsx)(y.$,{asChild:!0,type:"default",children:(0,s.jsx)(u(),{href:"".concat(f.aq,"/guides/troubleshooting/high-cpu-usage"),children:"Learn more"})}),(0,s.jsx)(y.$,{asChild:!0,type:"warning",children:(0,s.jsx)(u(),{href:r,children:t?"Upgrade project":"Change compute add-on"})})]})]}):"critical"===a?(0,s.jsxs)(x.Fc,{variant:"destructive",children:[(0,s.jsx)(p.A,{}),(0,s.jsx)(x.XL,{children:"Your max CPU usage has reached 100%"}),(0,s.jsx)(x.TN,{children:"High CPU usage could result in slower queries, disruption of daily back up routines, and in rare cases, your instance may become unresponsive. If you need more resources, consider upgrading to a larger compute add-on."}),(0,s.jsxs)("div",{className:"mt-3 flex items-center space-x-2",children:[(0,s.jsx)(y.$,{asChild:!0,type:"default",children:(0,s.jsx)(u(),{href:"".concat(f.aq,"/guides/troubleshooting/high-cpu-usage"),children:"Learn more"})}),(0,s.jsx)(y.$,{asChild:!0,type:"danger",children:(0,s.jsx)(u(),{href:r,children:t?"Upgrade project":"Change compute add-on"})})]})]}):null};var j=r(44725);let b=e=>{let{isFreePlan:t,hasLatest:r,currentBillingCycleSelected:a,upgradeUrl:n,latestIoBudgetConsumption:i,highestIoBudgetConsumption:o}=e;return r&&i>=100?(0,s.jsx)(j.Z,{type:"destructive",title:"Your Disk IO Budget has been used up",description:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"mb-4",children:"Your workload has used up all your Disk IO Budget and is now running at the baseline performance. If you need consistent disk performance, consider upgrading to a larger compute add-on."}),(0,s.jsx)(y.$,{asChild:!0,type:"danger",children:(0,s.jsx)(u(),{href:n,children:t?"Upgrade project":"Change compute add-on"})})]})}):r&&i>=80?(0,s.jsx)(j.Z,{type:"destructive",title:"You are close to running out of Disk IO Budget",description:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"mb-4",children:["Your workload has consumed ",i,"% of your Disk IO Budget. If you use up all your Disk IO Budget, your instance will reverted to baseline performance. If you need consistent disk performance, consider upgrading to a larger compute add-on."]}),(0,s.jsx)(y.$,{asChild:!0,type:"danger",children:(0,s.jsx)(u(),{href:n,children:t?"Upgrade project":"Change compute add-on"})})]})}):a&&o>=100?(0,s.jsx)(j.Z,{type:"warning",title:"You ran out of IO Budget at least once",description:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"mb-4",children:"Your workload has used up all your Disk IO Budget and reverted to baseline performance at least once during this billing cycle. If you need consistent disk performance, consider upgrading to a larger compute add-on."}),(0,s.jsx)(y.$,{asChild:!0,type:"warning",children:(0,s.jsx)(u(),{href:n,children:t?"Upgrade project":"Change compute add-on"})})]})}):a&&o>=80?(0,s.jsx)(j.Z,{type:"warning",title:"You were close to using all your IO Budget at least once",description:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"mb-4",children:["Your workload has consumed ",o,"% of your Disk IO budget during this billing cycle. If you use up all your Disk IO Budget, your instance will reverted to baseline performance. If you need consistent disk performance, consider upgrading to a larger compute add-on."]}),(0,s.jsx)(y.$,{asChild:!0,type:"warning",children:(0,s.jsx)(u(),{href:n,children:t?"Upgrade project":"Change compute add-on"})})]})}):null},v=e=>{let{isFreePlan:t,upgradeUrl:r,severity:a}=e;return"warning"===a?(0,s.jsxs)(x.Fc,{variant:"warning",children:[(0,s.jsx)(p.A,{}),(0,s.jsx)(x.XL,{children:"Your memory usage has exceeded 80%"}),(0,s.jsx)(x.TN,{children:"High memory usage could result in overall degraded performance, and in rare cases, your instance may become unresponsive. If you need more resources, consider upgrading to a larger compute add-on."}),(0,s.jsxs)("div",{className:"mt-3 flex items-center space-x-2",children:[(0,s.jsx)(y.$,{asChild:!0,type:"default",children:(0,s.jsx)(u(),{href:"".concat(f.aq,"/guides/troubleshooting/exhaust-ram"),children:"Learn more"})}),(0,s.jsx)(y.$,{asChild:!0,type:"warning",children:(0,s.jsx)(u(),{href:r,children:t?"Upgrade project":"Change compute add-on"})})]})]}):"critical"===a?(0,s.jsxs)(x.Fc,{variant:"destructive",children:[(0,s.jsx)(p.A,{}),(0,s.jsx)(x.XL,{children:"Your memory usage has reached 100%"}),(0,s.jsx)(x.TN,{children:"High memory usage could result in overall degraded performance, and in rare cases, your instance may become unresponsive. If you need more resources, consider upgrading to a larger compute add-on."}),(0,s.jsxs)("div",{className:"mt-3 flex items-center space-x-2",children:[(0,s.jsx)(y.$,{asChild:!0,type:"default",children:(0,s.jsx)(u(),{href:"".concat(f.aq,"/guides/troubleshooting/high-cpu-usage"),children:"Learn more"})}),(0,s.jsx)(y.$,{asChild:!0,type:"danger",children:(0,s.jsx)(u(),{href:r,children:t?"Upgrade project":"Change compute add-on"})})]})]}):null};var S=r(11927),O=r(37873),E=r(34016),T=r(96521),U=r(41273),I=r(64778),N=r(53931),C=r(25115),A=r(96698),k=r(78937),M=r(55139),P=r(84512),w=r(9620),R=r(78633),L=r(72341);let D=[{key:"infra",name:"Infrastructure",description:"Usage statistics related to your server instance",attributes:[{anchor:"cpu",key:"max_cpu_usage",attributes:[{key:"max_cpu_usage",color:"white"}],name:"CPU",unit:"percentage",description:"Max CPU usage of your server.",chartDescription:"",links:[{name:"Compute Add-Ons",url:"".concat(f.aq,"/guides/platform/compute-add-ons")},{name:"High CPU Usage",url:"".concat(f.aq,"/guides/troubleshooting/high-cpu-usage")},{name:"Metrics",url:"".concat(f.aq,"/guides/platform/metrics")}]},{anchor:"ram",key:"ram_usage",attributes:[{key:"ram_usage",color:"white"}],name:"Memory",unit:"percentage",description:"Memory usage of your server.\nYou might observe elevated memory usage, even with little to no load. Besides Postgres, a wide range of services are running under the hood resulting in an elevated base memory usage.",chartDescription:"",links:[{name:"Compute Add-Ons",url:"".concat(f.aq,"/guides/platform/compute-add-ons")},{name:"High RAM Usage",url:"".concat(f.aq,"/guides/troubleshooting/exhaust-ram")},{name:"Metrics",url:"".concat(f.aq,"/guides/platform/metrics")}]},{anchor:"disk_io",key:"disk_io_consumption",attributes:[{key:"disk_io_consumption",color:"white"}],name:"Disk IO Bandwidth",unit:"percentage",links:[{name:"Disk Throughput and IOPS",url:"".concat(f.aq,"/guides/platform/compute-add-ons#disk-throughput-and-iops")},{name:"High Disk I/O",url:"".concat(f.aq,"/guides/troubleshooting/exhaust-disk-io")},{name:"Metrics",url:"".concat(f.aq,"/guides/platform/metrics")}],description:"The disk performance of your workload is determined by the Disk IO bandwidth.\nSmaller compute instances (below 4XL) can burst above their baseline disk throughput and IOPS for short periods of time. Beyond that, the performance reverts to the baseline.",chartDescription:""}]}];var H=r(27363);let B=["ci_micro","ci_small","ci_medium","ci_large","ci_xlarge","ci_2xlarge"],F=()=>{var e,t,r,a,i,c,p,x;let{ref:y}=(0,g.g)(),{data:F}=(0,w.YA)(),{data:X}=(0,P.s)(),G=(0,L.RE)(),[Y,q]=(0,h.useState)(),{data:z,isLoading:V}=(0,A.j5)({orgSlug:null==X?void 0:X.slug}),Z=(null==X||null==(e=X.plan)?void 0:e.id)==="free",{data:W}=(0,M.p)({ref:y}),K=null==W?void 0:W.find(e=>e.project===y),{data:$}=(0,k.Q)({projectRef:y}),J=null!=(a=null==$?void 0:$.selected_addons)?a:[],{setShowNewReplicaPanel:Q}=(0,H.H)(),{computeInstance:ee}=(0,m.EN)(J),et=void 0!==ee&&!B.includes(ee.variant.identifier),er=(null==ee?void 0:ee.variant.meta)?null==ee?void 0:ee.variant.meta:(null==F?void 0:F.infra_compute_size)==="nano"?f.kC:f.Mc,es=(0,h.useMemo)(()=>{if(!(null==Y?void 0:Y.period_start)||!(null==Y?void 0:Y.period_end)||!z)return!0;let{current_period_start:e,current_period_end:t}=z;return n()(Y.period_start.date).isSame(new Date(1e3*e))&&n()(Y.period_end.date).isSame(new Date(1e3*t))},[Y,z]),ea=void 0===X?"/":"free"===X.plan.id?"/org/".concat(null!=(i=null==X?void 0:X.slug)?i:"[slug]","/billing#subscription"):"/project/".concat(y,"/settings/addons"),en=D.find(e=>"infra"===e.key),ei=(0,h.useMemo)(()=>{var e,t,r,s;if((null==Y||null==(e=Y.period_start)?void 0:e.date)!=="Invalid Date")if(!(null==Y||null==(t=Y.period_start)?void 0:t.date))return;else return new Date(null!=(s=null==Y||null==(r=Y.period_start)?void 0:r.date)?s:0).toISOString().slice(0,-5)+"Z"},[Y]),eo=(0,h.useMemo)(()=>{var e,t,r,s;if((null==Y||null==(e=Y.period_end)?void 0:e.date)!=="Invalid Date"){if((null==Y||null==(t=Y.period_end)?void 0:t.date)&&n()(Y.period_end.date).isAfter(n()()))return n()().endOf("day").toISOString().slice(0,-5)+"Z";else if(null==Y||null==(r=Y.period_end)?void 0:r.date)return new Date(null!=(s=Y.period_end.date)?s:0).toISOString().slice(0,-5)+"Z"}},[Y]),el="1d",ed="DD MMM";ei&&eo&&48>=n()(eo).diff(ei,"hours")&&(el="1h",ed="h a");let{data:ec,isLoading:eu}=(0,C.qS)({projectRef:y,attribute:"max_cpu_usage",interval:el,startDate:ei,endDate:eo,dateFormat:ed,databaseIdentifier:G.selectedDatabaseId}),{data:eh,isLoading:eg}=(0,C.qS)({projectRef:y,attribute:"ram_usage",interval:el,startDate:ei,endDate:eo,dateFormat:ed,databaseIdentifier:G.selectedDatabaseId}),{data:em,isLoading:ep}=(0,C.qS)({projectRef:y,attribute:"disk_io_consumption",interval:el,startDate:ei,endDate:eo,dateFormat:ed,databaseIdentifier:G.selectedDatabaseId}),ex=n()(eo).isAfter(n()().startOf("day")),ef=ex&&(null==em||null==(r=em.data)||null==(t=r.slice(-1))?void 0:t[0])?Number(em.data.slice(-1)[0].disk_io_consumption):0,ey=((null==em?void 0:em.data)||[]).map(e=>{var t;return null!=(t=Number(e.disk_io_consumption))?t:0}).reduce((e,t)=>Math.max(e,t),0),e_={max_cpu_usage:{isLoading:eu,data:null!=(c=null==ec?void 0:ec.data)?c:[]},ram_usage:{isLoading:eg,data:null!=(p=null==eh?void 0:eh.data)?p:[]},disk_io_consumption:{isLoading:ep,data:null!=(x=null==em?void 0:em.data)?x:[]}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.eh,{id:"infrastructure-activity","data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"InfrastructureActivity.tsx",children:(0,s.jsx)("div",{className:"mx-auto flex flex-col gap-10 pt-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xl",children:"Infrastructure Activity"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Activity statistics related to your server instance"})]})})}),(0,s.jsx)(O.eh,{className:"sticky top-0 py-6 border-b bg-studio z-10","data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"InfrastructureActivity.tsx",children:(0,s.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,s.jsx)(E.A,{onCreateReplicaClick:()=>{Q(!0)},"data-sentry-element":"DatabaseSelector","data-sentry-source-file":"InfrastructureActivity.tsx"}),!V&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.U,{onChange:q,value:R.PJ[0].key,options:[...R.L3,...R.PJ],loading:V,currentBillingPeriodStart:null==z?void 0:z.current_period_start,currentBillingPeriodEnd:null==z?void 0:z.current_period_end}),(0,s.jsxs)("p",{className:"text-sm text-foreground-light",children:[n()(ei).format("DD MMM YYYY")," - ",n()(eo).format("DD MMM YYYY")]})]})]})}),null==en?void 0:en.attributes.map(e=>{var t,r,a,n,i,c,g,m,p;let x=null!=(g=null==(t=e_[e.key])?void 0:t.data)?g:[];return(0,s.jsxs)(h.Fragment,{children:[(0,s.jsx)(O.eh,{id:e.anchor,children:(0,s.jsxs)(O.gu,{children:[(0,s.jsx)(O.xp,{children:(0,s.jsxs)("div",{className:"sticky top-32 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("h4",{className:"text-base capitalize m-0",children:e.name})}),(0,s.jsx)("div",{className:"grid gap-4",children:e.description.split("\n").map((e,t)=>(0,s.jsx)("p",{className:"text-sm text-foreground-light pr-8 m-0",children:e},"desc-".concat(t)))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-foreground mb-2",children:"More information"}),e.links.map(e=>(0,s.jsx)("div",{children:(0,s.jsx)(u(),{href:e.url,target:"_blank",rel:"noreferrer",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,s.jsx)("p",{className:"text-sm m-0",children:e.name}),(0,s.jsx)(l.A,{size:16,strokeWidth:1.5})]})})},e.url))]})]})}),(0,s.jsxs)(O.Rf,{children:["disk_io_consumption"===e.key&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{upgradeUrl:ea,isFreePlan:Z,hasLatest:ex,currentBillingCycleSelected:es,latestIoBudgetConsumption:ef,highestIoBudgetConsumption:ey}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{children:"Disk IO Bandwidth"}),er.baseline_disk_io_mbs===er.max_disk_io_mbs?(0,s.jsxs)("p",{className:"text-sm text-foreground-light",children:["Your current compute has a baseline and maximum disk throughput of"," ",null==(r=er.max_disk_io_mbs)?void 0:r.toLocaleString()," Mbps."]}):(0,s.jsxs)("p",{className:"text-sm text-foreground-light",children:["Your current compute can burst above the baseline disk throughput of"," ",null==(a=er.baseline_disk_io_mbs)?void 0:a.toLocaleString()," ","Mbps for short periods of time."]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm mb-2",children:"Overview"}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-b py-1",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light",children:"Current compute instance"}),(0,s.jsx)("p",{className:"text-xs",children:null!=(p=null!=(m=null==ee||null==(n=ee.variant)?void 0:n.name)?m:o()(null==F?void 0:F.infra_compute_size))?p:"Micro"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-b py-1",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light",children:"Baseline IO Bandwidth"}),(0,s.jsxs)("p",{className:"text-xs",children:[null==(i=er.baseline_disk_io_mbs)?void 0:i.toLocaleString()," ","Mbps"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-b py-1",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light",children:"Maximum IO Bandwidth (burst limit)"}),(0,s.jsxs)("p",{className:"text-xs",children:[null==(c=er.max_disk_io_mbs)?void 0:c.toLocaleString()," Mbps"]})]}),er.max_disk_io_mbs!==(null==er?void 0:er.baseline_disk_io_mbs)&&(0,s.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light",children:"Daily burst time limit"}),(0,s.jsx)("p",{className:"text-xs",children:"30 mins"})]})]})]}),"max_cpu_usage"===e.key&&(0,s.jsx)(_,{isFreePlan:Z,upgradeUrl:ea,severity:null==K?void 0:K.cpu_exhaustion}),"ram_usage"===e.key&&(0,s.jsx)(v,{isFreePlan:Z,upgradeUrl:ea,severity:null==K?void 0:K.memory_and_swap_exhaustion}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"flex flex-row justify-between",children:"disk_io_consumption"===e.key?(0,s.jsxs)("p",{children:["Disk IO consumed per ","1d"===el?"day":"hour"]}):(0,s.jsxs)("p",{children:["Max"," ",(0,s.jsx)("span",{className:"ram_usage"===e.key?"lowercase":"",children:e.name})," ","utilization per ","1d"===el?"day":"hour"]})}),"ram_usage"===e.key&&(0,s.jsxs)("div",{className:"text-sm text-foreground-light",children:[(0,s.jsxs)("p",{children:["Your compute instance has ",er.memory_gb," GB of memory."]}),1===er.memory_gb&&(0,s.jsx)("p",{children:"As your project is running on the smallest compute instance, it is not unusual for your project to have a base memory usage of ~50%."})]}),"max_cpu_usage"===e.key&&(0,s.jsxs)("p",{className:"text-sm text-foreground-light",children:["Your compute instance has ",er.cpu_cores," CPU cores."]}),e.chartDescription.split("\n").map((e,t)=>(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:e},"para-".concat(t)))]}),"disk_io_consumption"===e.key&&et?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(j.Z,{type:"note",title:"Your compute instance of ".concat(ee.variant.name," comes with dedicated I/O resources"),description:"Your project thus does not rely on I/O balance or burst capacity as larger add-ons are designed for sustained, high performance with specific IOPS and throughput limits without needing to burst.",children:(0,s.jsx)(U.A,{abbrev:!1,href:"".concat(f.aq,"/guides/platform/compute-add-ons#disk-throughput-and-iops")})})}):e_[e.key].isLoading?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(N.Ay,{}),(0,s.jsx)(N.Ay,{className:"w-3/4"}),(0,s.jsx)(N.Ay,{className:"w-1/2"})]}):x.length?(0,s.jsx)(S.A,{name:"".concat(e.chartPrefix||""," ").concat(e.name),unit:e.unit,attributes:e.attributes,data:x,yFormatter:e=>"".concat(Math.round(Number(e)),"%"),tooltipFormatter:e=>"".concat(e,"%"),yLimit:100}):(0,s.jsx)(I.A,{children:(0,s.jsx)(I.A.Content,{children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,s.jsx)(d.A,{size:18,className:"text-foreground-light mb-2"}),(0,s.jsx)("p",{className:"text-sm",children:"No data in period"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"May take a few minutes to show"})]})})})]})]})}),(0,s.jsx)(O.cJ,{})]},e.key)})]})};var X=r(44168),G=r(67850),Y=r(24523),q=r(37115),z=r(98174),V=r(30659);async function Z(e,t){let{projectRef:r}=e;if(!r)throw Error("projectRef is required");let{data:s,error:a}=await (0,Y.Jt)("/v1/projects/{ref}/upgrade/eligibility",{params:{path:{ref:r}},signal:t});return a&&(0,Y.H4)(a),s}let W=function(e){let{projectRef:t}=e,{enabled:r=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{data:a}=(0,q.wT)({ref:t});return(0,G.I)({queryKey:V.n.upgradeEligibility(t),queryFn:e=>{let{signal:r}=e;return Z({projectRef:t},r)},enabled:r&&void 0!==a&&a.status===z.BU.ACTIVE_HEALTHY&&void 0!==t&&g.pe,...s})};var K=r(4359);async function $(e,t){let{projectRef:r}=e;if(!r)throw Error("projectRef is required");let{data:s,error:a}=await (0,Y.Jt)("/platform/projects/{ref}/service-versions",{params:{path:{ref:r}},signal:t});return a&&(0,Y.H4)(a),s}let J=function(e){let{projectRef:t}=e,{enabled:r=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,G.I)({queryKey:K.g.serviceVersions(t),queryFn:e=>{let{signal:r}=e;return $({projectRef:t},r)},enabled:r&&void 0!==t,...s})};var Q=r(63351),ee=r(2657),et=r(80421),er=r(30404),es=r(21650),ea=r(32981),en=r(60656),ei=r(80814),eo=r(87494),el=r(73969),ed=r(10663),ec=r(28667),eu=r(29445),eh=r(96639),eg=r(86549),em=r(80210);async function ep(e){let{ref:t,target_version:r,release_channel:s}=e,{data:a,error:n}=await (0,Y.bE)("/v1/projects/{ref}/upgrade",{params:{path:{ref:t}},body:{target_version:r.toString(),release_channel:s}});return n&&(0,Y.H4)(n),a}let ex=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,em.n)({mutationFn:e=>ep(e),async onSuccess(t,r,s){await (null==e?void 0:e(t,r,s))},async onError(e,r,s){void 0===t?el.oR.error("Failed to upgrade project: ".concat(e.message)):t(e,r,s)},...r})};var ef=r(6217),ey=r(65887),e_=r(66329),ej=r(44053);let eb=e=>{let{postgres_version:t,release_channel:r}=e;return"".concat(t,"|").concat(r)},ev=()=>{var e,t,r,a,n;let i=(0,ei.useRouter)(),{ref:o}=(0,g.g)(),{data:l}=(0,P.s)(),{setProjectStatus:d}=(0,q.l1)(),[c,m]=(0,h.useState)(!1),_=(0,g._P)("disableProjectUpgrade"),b=null!=(e=null==l?void 0:l.plan.id)?e:"free",{data:v}=(0,eg.Gc)({projectRef:o}),{includedDiskGB:S}=ec.Jh[b],O=S[null!=(t=null==v?void 0:v.attributes.type)?t:"gp3"],E=(null==v?void 0:v.attributes.size_gb)!==O,{data:T}=W({projectRef:o}),U=(null!=(r=null==T?void 0:T.current_app_version)?r:"").split("supabase-postgres-")[1],I=(null!=(a=null==T?void 0:T.latest_app_version)?a:"").split("supabase-postgres-")[1],N=(null==T?void 0:T.duration_estimate_hours)||1,C=(null==T?void 0:T.legacy_auth_custom_roles)||[],{mutate:A,isPending:k}=ex({onSuccess:(e,t)=>{d({ref:t.ref,status:f.BU.UPGRADING}),el.oR.success("Upgrading project"),i.push("/project/".concat(t.ref,"?upgradeInitiated=true&trackingId=").concat(e.tracking_id))}}),M=async e=>{if(!o)return el.oR.error("Project ref not found");let{postgresVersionSelection:t}=e,r=(0,eh.q)(t);return r?r.postgresEngine?void A({ref:o,target_version:r.postgresEngine,release_channel:r.releaseChannel}):el.oR.error("Missing target version"):el.oR.error("Invalid Postgres version")},w=ed.Ik({postgresVersionSelection:ed.Yj()}),R=(0,eo.mN)({resolver:(0,ea.u)(w),mode:"onChange",defaultValues:{postgresVersionSelection:""}});return(0,h.useEffect)(()=>{var e;let t=(null==T||null==(e=T.target_upgrade_versions)?void 0:e[0])?eb(T.target_upgrade_versions[0]):"";R.setValue("postgresVersionSelection",t)},[T,R]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(x.Fc,{title:"Your project can be upgraded to the latest version of Postgres","data-sentry-element":"Alert_Shadcn_","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:[(0,s.jsx)(x.XL,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:"Your project can be upgraded to the latest version of Postgres"}),(0,s.jsxs)(x.TN,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:[(0,s.jsxs)("p",{className:"mb-3",children:["The latest version of Postgres (",I,") is available for your project."]}),(0,s.jsxs)(er.m_,{"data-sentry-element":"Tooltip","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:[(0,s.jsx)(er.k$,{asChild:!0,"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:(0,s.jsx)(y.$,{size:"tiny",type:"primary",onClick:()=>m(!0),disabled:_,"data-sentry-element":"Button","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:"Upgrade project"})}),_&&(0,s.jsx)(er.ZI,{side:"bottom",align:"center",children:"Project upgrade is currently disabled"})]})]})]}),(0,s.jsx)(ef.A,{hideFooter:!0,size:"small",visible:c,onCancel:()=>m(!1),header:"Confirm to upgrade Postgres version","data-sentry-element":"Modal","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:(0,s.jsx)(ey.lV,{...R,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:(0,s.jsxs)("form",{onSubmit:R.handleSubmit(M),children:[(0,s.jsx)(j.Z,{type:"warning",className:"border-x-0 border-t-0 rounded-none",title:"Your project will be offline for up to ".concat(N," hour").concat(1===N?"":"s"),description:"It is advised to upgrade at a time when there will be minimal impact for your application.","data-sentry-element":"Admonition","data-sentry-source-file":"ProjectUpgradeAlert.tsx"}),(0,s.jsx)(ef.A.Content,{"data-sentry-element":"Modal.Content","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("p",{className:"text-sm",children:["All services will be offline and you will not be able to downgrade back to Postgres ",U,"."]}),E&&(0,s.jsx)(eu.o,{extLinks:!0,className:"text-foreground",content:"Your current disk size of ".concat(null==v?void 0:v.attributes.size_gb,"GB will also be\n                    [right-sized](").concat(f.aq,"/guides/platform/upgrading#disk-sizing) with the upgrade.")}),(null!=(n=null==T?void 0:T.potential_breaking_changes)?n:[]).length>0&&(0,s.jsxs)(x.Fc,{variant:"destructive",title:"Breaking changes",children:[(0,s.jsx)(p.A,{className:"h-4 w-4",strokeWidth:2}),(0,s.jsx)(x.XL,{children:"Breaking changes"}),(0,s.jsxs)(x.TN,{className:"flex flex-col gap-3",children:[(0,s.jsx)("p",{children:"Your project will be upgraded across major versions of Postgres. This may involve breaking changes."}),(0,s.jsx)("div",{children:(0,s.jsx)(y.$,{size:"tiny",type:"default",asChild:!0,children:(0,s.jsx)(u(),{href:"".concat(f.aq,"/guides/platform/migrating-and-upgrading-projects#caveats"),target:"_blank",rel:"noreferrer",children:"View docs"})})})]})]}),C.length>0&&(0,s.jsxs)(x.Fc,{variant:"warning",title:"Custom Postgres roles using md5 authentication have been detected",children:[(0,s.jsx)(en.A,{className:"h-4 w-4",strokeWidth:2}),(0,s.jsx)(x.XL,{children:"Custom Postgres roles will not work automatically after upgrade"}),(0,s.jsxs)(x.TN,{className:"flex flex-col gap-3",children:[(0,s.jsx)("p",{children:"You must run a series of commands after upgrading."}),(0,s.jsx)("p",{children:"This is because new Postgres versions use scram-sha-256 authentication by default and do not support md5, as it has been deprecated."}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-1",children:"Run the following commands after the upgrade:"}),(0,s.jsx)("div",{className:"flex items-baseline gap-2",children:(0,s.jsx)("code",{className:"text-xs",children:C.map(e=>(0,s.jsxs)("div",{className:"pb-1",children:["ALTER ROLE ",(0,s.jsx)("span",{className:"text-brand",children:e})," WITH PASSWORD '",(0,s.jsx)("span",{className:"text-brand",children:"newpassword"}),"';"]},e))})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(y.$,{size:"tiny",type:"default",asChild:!0,children:(0,s.jsx)(u(),{href:"".concat(f.aq,"/guides/platform/migrating-and-upgrading-projects#caveats"),target:"_blank",rel:"noreferrer",children:"View docs"})})})]})]}),(0,s.jsx)(ey.zB,{control:R.control,name:"postgresVersionSelection",render:e=>{var t;let{field:r}=e;return(0,s.jsx)(ej.M,{label:"Select the version of Postgres to upgrade to",children:(0,s.jsx)(ey.MJ,{children:(0,s.jsxs)(e_.l6,{value:r.value,onValueChange:r.onChange,children:[(0,s.jsx)(e_.bq,{children:(0,s.jsx)(e_.yv,{placeholder:"Select a Postgres version"})}),(0,s.jsx)(e_.gC,{children:(0,s.jsx)(e_.s3,{children:null==(t=(null==T?void 0:T.target_upgrade_versions)||[])?void 0:t.map(e=>{let t=e.app_version.split("supabase-postgres-")[1];return(0,s.jsx)(e_.eb,{value:eb(e),children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-foreground",children:t}),"ga"!==e.release_channel&&(0,s.jsx)(es.E,{variant:"warning",className:"mr-1 capitalize",children:e.release_channel})]})},eb(e))})})})]})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"ProjectUpgradeAlert.tsx"})]})}),(0,s.jsx)(ef.A.Separator,{"data-sentry-element":"Modal.Separator","data-sentry-source-file":"ProjectUpgradeAlert.tsx"}),(0,s.jsxs)(ef.A.Content,{className:"flex items-center space-x-2 justify-end","data-sentry-element":"Modal.Content","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:[(0,s.jsx)(y.$,{type:"default",onClick:()=>m(!1),disabled:k,"data-sentry-element":"Button","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:"Cancel"}),(0,s.jsx)(y.$,{htmlType:"submit",disabled:k,loading:k,"data-sentry-element":"Button","data-sentry-source-file":"ProjectUpgradeAlert.tsx",children:"Confirm upgrade"})]})]})})})]})};var eS=r(9762),eO=r(10723);let eE=e=>{let{latestPgVersion:t}=e;return(0,s.jsxs)(x.Fc,{"data-sentry-element":"Alert_Shadcn_","data-sentry-component":"ReadReplicasWarning","data-sentry-source-file":"UpgradeWarnings.tsx",children:[(0,s.jsx)(x.XL,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"UpgradeWarnings.tsx",children:"A new version of Postgres is available for your project"}),(0,s.jsxs)(x.TN,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"UpgradeWarnings.tsx",children:["You will need to remove all read replicas prior to upgrading your Postgres version to the latest available (",t,")."]})]})},eT=e=>{let{objectsToBeDropped:t}=e,{ref:r}=(0,g.g)();return(0,s.jsxs)(x.Fc,{title:"A newer version of Postgres is available for your project","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"ObjectsToBeDroppedWarning","data-sentry-source-file":"UpgradeWarnings.tsx",children:[(0,s.jsx)(x.XL,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"UpgradeWarnings.tsx",children:"A newer version of Postgres is available"}),(0,s.jsx)(x.TN,{className:"flex flex-col gap-3","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"UpgradeWarnings.tsx",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"mb-1",children:["The following objects are not supported and must be removed before upgrading."," ",(0,s.jsx)(eO.g,{className:"text-foreground-lighter hover:text-foreground transition-colors",href:"".concat(f.aq,"/guides/platform/upgrading#extensions"),target:"_blank",rel:"noopener noreferrer","data-sentry-element":"InlineLink","data-sentry-source-file":"UpgradeWarnings.tsx",children:"Learn more"})]}),(0,s.jsx)("ul",{className:"pl-4 pb-3",children:t.map(e=>(0,s.jsx)("li",{className:"list-disc",children:e},e))}),(0,s.jsx)(y.$,{className:"w-fit",size:"tiny",type:"default",asChild:!0,"data-sentry-element":"Button","data-sentry-source-file":"UpgradeWarnings.tsx",children:(0,s.jsx)(u(),{href:"/project/".concat(r,"/database/functions"),"data-sentry-element":"Link","data-sentry-source-file":"UpgradeWarnings.tsx",children:"Manage functions"})})]})})]})},eU=e=>{let{unsupportedExtensions:t}=e,{ref:r}=(0,g.g)();return(0,s.jsxs)(x.Fc,{title:"A newer version of Postgres is available","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"UnsupportedExtensionsWarning","data-sentry-source-file":"UpgradeWarnings.tsx",children:[(0,s.jsx)(x.XL,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"UpgradeWarnings.tsx",children:"A newer version of Postgres is available"}),(0,s.jsx)(x.TN,{className:"flex flex-col gap-3","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"UpgradeWarnings.tsx",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"mb-1",children:["The following extensions are not supported in newer versions of Postgres and must be removed before upgrading."," ",(0,s.jsx)(eO.g,{className:"text-foreground-lighter hover:text-foreground transition-colors",href:"".concat(f.aq,"/guides/platform/upgrading#upgrading-to-postgres-17"),target:"_blank",rel:"noopener noreferrer","data-sentry-element":"InlineLink","data-sentry-source-file":"UpgradeWarnings.tsx",children:"Learn more"})]}),(0,s.jsx)("ul",{className:"border-t border-border-muted flex flex-col divide-y divide-border-muted",children:t.map(e=>(0,s.jsxs)("li",{className:"py-3 last:pb-0 flex flex-row justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:e}),(0,s.jsx)(es.E,{variant:"warning",size:"small",className:"flex-shrink-0",children:"Deprecated"})]}),(0,s.jsx)(y.$,{size:"tiny",type:"default",asChild:!0,children:(0,s.jsx)(u(),{href:"/project/".concat(r,"/database/extensions?filter=").concat(e),children:"Manage"})})]},e))})]})})]})},eI=e=>{let{objects:t}=e;return(0,s.jsxs)(x.Fc,{title:"A newer version of Postgres is available for your project","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"UserDefinedObjectsInInternalSchemasWarning","data-sentry-source-file":"UpgradeWarnings.tsx",children:[(0,s.jsx)(x.XL,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"UpgradeWarnings.tsx",children:"A newer version of Postgres is available"}),(0,s.jsxs)(x.TN,{className:"flex flex-col gap-3","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"UpgradeWarnings.tsx",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-1",children:"The following objects must be removed from the auth/realtime/storage schemas before upgrading:"}),(0,s.jsx)("ul",{className:"pl-4",children:t.map(e=>(0,s.jsx)("li",{className:"list-disc",children:e},e))})]}),(0,s.jsx)("p",{children:"These schemas are Supabase-managed and creating custom objects in them is no longer supported. Check the changelog to see how to move them to your own schemas."}),(0,s.jsx)("div",{children:(0,s.jsx)(y.$,{size:"tiny",type:"default",asChild:!0,"data-sentry-element":"Button","data-sentry-source-file":"UpgradeWarnings.tsx",children:(0,s.jsx)("a",{href:"https://github.com/orgs/supabase/discussions/34270",target:"_blank",rel:"noreferrer",children:"View changelog"})})})]})]})},eN=()=>{var e,t,r,a;let{ref:n}=(0,g.g)(),{data:i}=(0,w.YA)(),{projectAuthAll:o,projectSettingsDatabaseUpgrades:l}=(0,ee.x)(["project_auth:all","project_settings:database_upgrades"]),{data:d,error:c,isLoading:u,isError:h,isSuccess:m}=W({projectRef:n}),{data:p,error:f,isLoading:y,isError:_,isSuccess:j}=J({projectRef:n}),{data:b}=(0,Q.Vh)({projectRef:n}),{current_app_version:v,current_app_version_release_channel:S,latest_app_version:E}=d||{},T=v===E,U=null==(e=(null!=v?v:"").split("supabase-postgres-")[1])?void 0:e.replace("-orioledb",""),I=S&&!["ga","withdrawn"].includes(S)?S:void 0,C=(0,w.W0)(),A=(null!=E?E:"").split("supabase-postgres-")[1],k=(null==i?void 0:i.status)==="INACTIVE",M=(null!=b?b:[]).length>1,P=(null!=(t=null==d?void 0:d.objects_to_be_dropped)?t:[]).length>0,R=((null==d?void 0:d.unsupported_extensions)||[]).length>0,L=((null==d?void 0:d.user_defined_objects_in_internal_schemas)||[]).length>0;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.cJ,{"data-sentry-element":"ScaffoldDivider","data-sentry-source-file":"InfrastructureInfo.tsx"}),(null==i?void 0:i.cloud_provider)!=="FLY"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eS.q,{}),(0,s.jsx)(O.cJ,{})]}),(0,s.jsx)(O.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"InfrastructureInfo.tsx",children:(0,s.jsxs)(O.gu,{"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"InfrastructureInfo.tsx",children:[(0,s.jsxs)(O.xp,{"data-sentry-element":"ScaffoldSectionDetail","data-sentry-source-file":"InfrastructureInfo.tsx",children:[(0,s.jsx)("h4",{className:"text-base capitalize m-0",children:"Service Versions"}),(0,s.jsx)("p",{className:"text-foreground-light text-sm pr-8 mt-1",children:"Service versions and upgrade eligibility for your provisioned instance."})]}),(0,s.jsx)(O.Rf,{"data-sentry-element":"ScaffoldSectionContent","data-sentry-source-file":"InfrastructureInfo.tsx",children:k?(0,s.jsxs)(x.Fc,{children:[(0,s.jsx)(x.XL,{children:"Service versions cannot be retrieved while project is paused"}),(0,s.jsx)(x.TN,{children:"Restoring the project will update Postgres to the newest version"})]}):(0,s.jsxs)(s.Fragment,{children:[u&&(0,s.jsx)(N.yV,{}),h&&(0,s.jsx)(X.A,{error:c,subject:"Failed to retrieve Postgres version"}),m&&(0,s.jsxs)(s.Fragment,{children:[y&&(0,s.jsx)(N.yV,{}),_&&(0,s.jsx)(X.A,{error:f,subject:"Failed to retrieve versions"}),j&&(0,s.jsxs)(s.Fragment,{children:[o&&(0,s.jsx)(et.A,{readOnly:!0,disabled:!0,label:"Auth version",value:null!=(r=null==p?void 0:p.gotrue)?r:""}),(0,s.jsx)(et.A,{readOnly:!0,disabled:!0,label:"PostgREST version",value:null!=(a=null==p?void 0:p.postgrest)?a:""}),(0,s.jsx)(et.A,{readOnly:!0,disabled:!0,value:U||(null==p?void 0:p["supabase-postgres"])||"",label:"Postgres version",actions:[I&&(0,s.jsxs)(er.m_,{children:[(0,s.jsx)(er.k$,{children:(0,s.jsx)(es.E,{variant:"warning",className:"mr-1 capitalize",children:I})}),(0,s.jsxs)(er.ZI,{side:"bottom",className:"w-44 text-center",children:["This project uses a ",I," database version release"]})]}),C&&(0,s.jsxs)(er.m_,{children:[(0,s.jsx)(er.k$,{children:(0,s.jsx)(es.E,{variant:"default",className:"mr-1",children:"OrioleDB"})}),(0,s.jsx)(er.ZI,{side:"bottom",className:"w-44 text-center",children:"This project uses OrioleDB"})]}),T&&(0,s.jsxs)(er.m_,{children:[(0,s.jsx)(er.k$,{children:(0,s.jsx)(es.E,{variant:"brand",className:"mr-1",children:"Latest"})}),(0,s.jsx)(er.ZI,{side:"bottom",className:"w-52 text-center",children:"Project is on the latest version of Postgres that Supabase supports"})]})]})]}),l&&d.eligible?M?(0,s.jsx)(eE,{latestPgVersion:A}):(0,s.jsx)(ev,{}):null,l&&!d.eligible?P?(0,s.jsx)(eT,{objectsToBeDropped:d.objects_to_be_dropped}):R?(0,s.jsx)(eU,{unsupportedExtensions:d.unsupported_extensions}):L?(0,s.jsx)(eI,{objects:d.user_defined_objects_in_internal_schemas}):null:null]})]})})]})})]})};var eC=r(10508),eA=r(43479);let ek=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"infrastructure.tsx",children:(0,s.jsxs)(O.Uw,{"data-sentry-element":"ScaffoldHeader","data-sentry-source-file":"infrastructure.tsx",children:[(0,s.jsx)(O.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"infrastructure.tsx",children:"Infrastructure"}),(0,s.jsx)(O.dX,{"data-sentry-element":"ScaffoldDescription","data-sentry-source-file":"infrastructure.tsx",children:"General information regarding your server instance"})]})}),(0,s.jsx)(eN,{"data-sentry-element":"InfrastructureInfo","data-sentry-source-file":"infrastructure.tsx"}),(0,s.jsx)(O.cJ,{"data-sentry-element":"ScaffoldDivider","data-sentry-source-file":"infrastructure.tsx"}),(0,s.jsx)(F,{"data-sentry-element":"InfrastructureActivity","data-sentry-source-file":"infrastructure.tsx"})]});ek.getLayout=e=>(0,s.jsx)(eC.A,{children:(0,s.jsx)(eA.A,{title:"Infrastructure",children:e})});let eM=ek},93426:(e,t,r)=>{"use strict";r.d(t,{hs:()=>l,rj:()=>d});var s=r(80263),a=r(58375),n=r(64634),i=r(85039),o=r(44725);let l={white:{bar:"fill-foreground",marker:"bg-foreground"},green:{bar:"fill-green-800",marker:"bg-green-800"},"dark-green":{bar:"fill-green-1000",marker:"bg-green-1000"},blue:{bar:"fill-blue-900",marker:"bg-blue-900"},yellow:{bar:"fill-yellow-800",marker:"bg-yellow-800"},"dark-yellow":{bar:"fill-yellow-1000",marker:"bg-yellow-1000"},orange:{bar:"fill-orange-800",marker:"bg-orange-800"},"dark-orange":{bar:"fill-orange-1000",marker:"bg-orange-1100"},teal:{bar:"fill-teal-600",marker:"bg-teal-700"},red:{bar:"fill-red-800",marker:"bg-red-800"},"dark-red":{bar:"fill-red-1000",marker:"bg-red-1000"},purple:{bar:"fill-purple-900",marker:"bg-purple-900"}},d=e=>[{key:"egress",name:"Egress",description:"Amount of data transmitted over all network connections",attributes:[{anchor:"egress",key:n.Lb.EGRESS,attributes:[{key:n.K5.AUTH,name:"Auth Egress",color:"yellow"},{key:n.K5.REST,name:"PostgREST Egress",color:"green"},{key:n.K5.STORAGE,name:"Storage Egress",color:"blue"},{key:n.K5.REALTIME,name:"Realtime Egress",color:"orange"},{key:n.K5.FUNCTIONS,name:"Functions Egress",color:"purple"},{key:n.K5.SUPAVISOR,name:"Shared Pooler Egress",color:"red"},{key:n.K5.LOGDRAIN,name:"Logdrain Egress",color:"teal"}],name:"Egress",unit:"bytes",description:"Contains any outgoing traffic including Database, Storage, Realtime, Auth, API, Edge Functions, Pooler and Log Drains.\nBilling is based on the total sum of uncached egress in GB throughout your billing period.\nEgress via cache hits is billed separately.",chartDescription:"The breakdown of different egress types is inclusive of cached egress, even though it is billed separately. The data refreshes every hour.",links:[{name:"Documentation",url:"".concat(i.aq,"/guides/platform/manage-your-usage/egress")}]},{anchor:"cachedEgress",key:n.Lb.CACHED_EGRESS,attributes:[{key:n.Lb.CACHED_EGRESS.toLowerCase(),color:"white"}],name:"Cached Egress",unit:"bytes",description:"Contains any outgoing traffic that is served from a cache hit. Includes API, Storage and Edge Functions.\nBilling is based on the total sum of cached egress in GB throughout your billing period.",chartDescription:"The data refreshes every hour.",links:[{name:"Documentation",url:"".concat(i.aq,"/guides/platform/manage-your-usage/egress")}]}]},{key:"sizeCount",name:"Database & Storage Size",description:"Amount of resources your project is consuming",attributes:[(null==e?void 0:e.plan.id)==="free"?{anchor:"dbSize",key:n.Lb.DATABASE_SIZE,attributes:[{key:n.Lb.DATABASE_SIZE.toLowerCase(),color:"white"}],name:"Database size",chartPrefix:"Average",unit:"bytes",description:"Database size refers to the actual amount of space used by all your database objects, as reported by Postgres.",links:[{name:"Documentation",url:"".concat(i.aq,"/guides/platform/database-size")}],chartDescription:"The data refreshes every hour.",additionalInfo:t=>{var r,i,l,d;let c=null==t?void 0:t.usages.find(e=>e.metric===n.Lb.DATABASE_SIZE),u="number"!=typeof c?(null!=(i=null==c?void 0:c.usage)?i:0)/(null!=(l=null==c?void 0:c.pricing_free_units)?l:0):0,h=c&&(null!=(d=null==c?void 0:c.pricing_free_units)?d:0)>0,g=h&&u>=a.x,m=h&&u>=1,p=null==c?void 0:c.capped,x=(null==e||null==(r=e.plan)?void 0:r.name)==="Free";return(0,s.jsx)("div",{children:(g||m)&&p&&(0,s.jsx)(o.Z,{type:m?"danger":"warning",title:m?"Exceeding database size limit":"Nearing database size limit",children:(0,s.jsx)("div",{className:"flex w-full items-center flex-col justify-center space-y-2 md:flex-row md:justify-between",children:(0,s.jsxs)("div",{children:["When you reach your database size limit, your project can go into read-only mode."," ",x?"Please upgrade your Plan.":"Disable your spend cap to scale seamlessly, and pay for over-usage beyond your Plan's quota."]})})})})}}:{anchor:"diskSize",key:"diskSize",attributes:[],name:"Disk size",chartPrefix:"Average",unit:"bytes",description:"Each Supabase project comes with a dedicated disk. Each project gets 8 GB of disk for free. Billing is based on the provisioned disk size. Disk automatically scales up when you get close to it's size.\nEach hour your project is using more than 8 GB of GP3 disk, it incurs the overages in GB-Hrs, i.e. a 16 GB disk incurs 8 GB-Hrs every hour. Extra disk size costs $0.125/GB/month ($0.000171/GB-Hr).",links:[{name:"Documentation",url:"".concat(i.aq,"/guides/platform/manage-your-usage/disk-size")},{name:"Disk Management",url:"".concat(i.aq,"/guides/platform/database-size#disk-management")}],chartDescription:""},{anchor:"storageSize",key:n.Lb.STORAGE_SIZE,attributes:[{key:n.Lb.STORAGE_SIZE.toLowerCase(),color:"white"}],name:"Storage Size",chartPrefix:"Average",unit:"bytes",description:"Sum of all objects in your storage buckets.\nBilling is prorated down to the hour and will be displayed GB-Hrs.",chartDescription:"The data refreshes every hour.",links:[{name:"Storage",url:"".concat(i.aq,"/guides/storage")}]}]},{key:"activity",name:"Activity",description:"Usage statistics that reflect the activity of your project",attributes:[{anchor:"mau",key:n.Lb.MONTHLY_ACTIVE_USERS,attributes:[{key:n.Lb.MONTHLY_ACTIVE_USERS.toLowerCase(),color:"white"}],name:"Monthly Active Users",chartPrefix:"Cumulative",chartSuffix:"in billing period",unit:"absolute",description:"Users who log in or refresh their token count towards MAU.\nBilling is based on the sum of distinct users requesting your API throughout the billing period. Resets every billing cycle.",chartDescription:"The data is refreshed over a period of 24 hours and resets at the beginning of every billing period.\nThe data points are relative to the beginning of your billing period and will reset with your billing period.",links:[{name:"Auth",url:"".concat(i.aq,"/guides/auth")}]},{anchor:"mauSso",key:n.Lb.MONTHLY_ACTIVE_SSO_USERS,attributes:[{key:n.Lb.MONTHLY_ACTIVE_SSO_USERS.toLowerCase(),color:"white"}],name:"Monthly Active SSO Users",chartPrefix:"Cumulative",chartSuffix:"in billing period",unit:"absolute",description:"SSO users who log in or refresh their token count towards SSO MAU.\nBilling is based on the sum of distinct Single Sign-On users requesting your API throughout the billing period. Resets every billing cycle.",chartDescription:"The data refreshes over a period of 24 hours and resets at the beginning of every billing period.\nThe data points are relative to the beginning of your billing period and will reset with your billing period.",links:[{name:"SSO with SAML 2.0",url:"".concat(i.aq,"/guides/auth/sso/auth-sso-saml")}]},{anchor:"storageImageTransformations",key:n.Lb.STORAGE_IMAGES_TRANSFORMED,attributes:[{key:n.Lb.STORAGE_IMAGES_TRANSFORMED.toLowerCase(),color:"white"}],name:"Storage Image Transformations",chartPrefix:"Cumulative",chartSuffix:"in billing period",unit:"absolute",description:"We count all images that were transformed in the billing period, ignoring any transformations.\nUsage example: You transform one image with four different size transformations and another image with just a single transformation. It counts as two, as only two images were transformed.\nBilling is based on the count of (origin) images that used transformations throughout the billing period. Resets every billing cycle.",chartDescription:"The data refreshes every 24 hours.\nThe data points are relative to the beginning of your billing period and will reset with your billing period.",links:[{name:"Documentation",url:"".concat(i.aq,"/guides/storage/image-transformations")}]},{anchor:"funcInvocations",key:n.Lb.FUNCTION_INVOCATIONS,attributes:[{key:n.Lb.FUNCTION_INVOCATIONS.toLowerCase(),color:"white"}],name:"Edge Function Invocations",unit:"absolute",description:"Every serverless function invocation independent of response status is counted.\nBilling is based on the sum of all invocations throughout your billing period.",chartDescription:"The data refreshes every hour.",links:[{name:"Edge Functions",url:"".concat(i.aq,"/guides/functions")}]},{anchor:"realtimeMessageCount",key:n.Lb.REALTIME_MESSAGE_COUNT,attributes:[{key:n.Lb.REALTIME_MESSAGE_COUNT.toLowerCase(),color:"white"}],name:"Realtime Messages",unit:"absolute",description:"Count of messages going through Realtime. Includes database changes, broadcast and presence. \nUsage example: If you do a database change and 5 clients listen to that change via Realtime, that's 5 messages. If you broadcast a message and 4 clients listen to that, that's 5 messages (1 message sent, 4 received).\nBilling is based on the total amount of messages throughout your billing period.",chartDescription:"The data refreshes every hour.",links:[{name:"Realtime Quotas",url:"".concat(i.aq,"/guides/realtime/quotas")}]},{anchor:"realtimePeakConnections",key:n.Lb.REALTIME_PEAK_CONNECTIONS,attributes:[{key:n.Lb.REALTIME_PEAK_CONNECTIONS.toLowerCase(),color:"white"}],name:"Realtime Concurrent Peak Connections",chartPrefix:"Max",unit:"absolute",description:"Total number of successful connections. Connections attempts are not counted towards usage.\nBilling is based on the maximum amount of concurrent peak connections throughout your billing period.",chartDescription:"The data refreshes every hour.",links:[{name:"Realtime Quotas",url:"".concat(i.aq,"/guides/realtime/quotas")}]}]}]},93873:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});var s=r(80263),a=r(24487),n=r(21650),i=r(21416);let o=e=>{let{page:t,menu:r}=e;return(0,s.jsx)("div",{className:"flex flex-col space-y-8","data-sentry-component":"ProductMenu","data-sentry-source-file":"index.tsx",children:(0,s.jsx)(a.Ay,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"index.tsx",children:r.map((e,o)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"my-6 space-y-8",children:(0,s.jsxs)("div",{className:"mx-3",children:[(0,s.jsx)(a.Ay.Group,{title:e.title?(0,s.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,s.jsx)("span",{children:e.title}),e.isPreview&&(0,s.jsx)(n.E,{variant:"warning",children:"Not production ready"})]}):null}),(0,s.jsx)("div",{children:e.items.map(e=>{let r=e.pages?e.pages.includes(null!=t?t:""):t===e.key;return(0,s.jsx)(i.A,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:r,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),o!==r.length-1&&(0,s.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}}},e=>{e.O(0,[5233,60858,15599,16110,27764,36538,44033,81285,90042,35831,94942,53997,505,76984,72391,35035,40545,596,10508,48340,75187,29471,98609,12531,71252,90636,46593,38792],()=>e(e.s=9849)),_N_E=e.O()}]);