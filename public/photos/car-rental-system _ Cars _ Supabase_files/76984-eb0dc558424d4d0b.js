try{!function(){var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="fde94d6d-aa8f-44c9-9f9b-978613c1a033",t._sentryDebugIdIdentifier="sentry-dbid-fde94d6d-aa8f-44c9-9f9b-978613c1a033")}()}catch(t){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76984],{15960:(t,e,r)=>{r.d(e,{X:()=>i});var n=r(30886);class i{from(t,e){return new n.x({name:t,schema:null!=e?e:"public"})}}},29395:(t,e,r)=>{r.d(e,{GP:()=>u,bD:()=>l,eu:()=>s});let n=new Set(["AES128","AES256","ALL","ALLOWOVERWRITE","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BACKUP","BETWEEN","BIGINT","BINARY","BIT","BLANKSASNULL","BOOLEAN","BOTH","BYTEDICT","CASE","CAST","CHAR","CHARACTER","CHECK","COALESCE","COLLATE","COLUMN","CONSTRAINT","CREATE","CREDENTIALS","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURRENT_USER_ID","DEC","DECIMAL","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DELTA","DELTA32K","DESC","DISABLE","DISTINCT","DO","ELSE","EMPTYASNULL","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","END","EXCEPT","EXISTS","EXPLICIT","EXTRACT","FALSE","FETCH","FLOAT","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GRANT","GREATEST","GROUP","GROUPING","GZIP","HAVING","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INOUT","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISNULL","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_SCALAR","JSON_SERIALIZE","JSON_TABLE","JSON_VALUE","LATERAL","LEADING","LEAST","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","LZO","LZOP","MERGE_ACTION","MINUS","MOSTLY13","MOSTLY32","MOSTLY8","NATIONAL","NATURAL","NCHAR","NEW","NONE","NORMALIZE","NOT","NOTNULL","NULL","NULLIF","NULLS","NUMERIC","OFF","OFFLINE","OFFSET","OLD","ON","ONLY","OPEN","OR","ORDER","OUT","OUTER","OVERLAPS","OVERLAY","PARALLEL","PARTITION","PERCENT","PLACING","POSITION","PRECISION","PRIMARY","RAW","READRATIO","REAL","RECOVER","REFERENCES","REJECTLOG","RESORT","RESTORE","RETURNING","RIGHT","ROW","SELECT","SESSION_USER","SETOF","SIMILAR","SMALLINT","SOME","SUBSTRING","SYMMETRIC","SYSDATE","SYSTEM","SYSTEM_USER","TABLE","TAG","TDES","TEXT255","TEXT32K","THEN","TIME","TIMESTAMP","TO","TOP","TRAILING","TREAT","TRIM","TRUE","TRUNCATECOLUMNS","UNION","UNIQUE","USER","USING","VALUES","VARCHAR","VARIADIC","VERBOSE","WALLET","WHEN","WHERE","WINDOW","WITH","WITHOUT","XMLATTRIBUTES","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE"]),i={ident:"I",literal:"L",string:"s"};function o(t){return t.replace("T"," ").replace("Z","+00")}function a(t,e,r){let n="";for(let[i,o]of(n+=t?" (":"(",e.entries()))n+=(0===i?"":", ")+r(o);return n+")"}function l(t){if(null==t)throw Error("SQL identifier cannot be null or undefined");if(!1===t)return'"f"';if(!0===t)return'"t"';if(t instanceof Date)return'"'.concat(o(t.toISOString()),'"');if(Array.isArray(t)){let e=[];for(let r of t)if(!0===Array.isArray(r))throw TypeError("Nested array to grouped list conversion is not supported for SQL identifier");else e.push(l(r));return e.toString()}else if(t===Object(t))throw Error("SQL identifier cannot be an object");let e=String(t).slice(0);if(!0===/^[_a-z][\d$_a-z]*$/.test(e)&&!1==!!n.has(e.toUpperCase()))return e;let r='"';for(let t of e)r+='"'===t?t+t:t;return r+'"'}function s(t){let e,r="";if(null==t)return"NULL";if("bigint"==typeof t)return BigInt(t).toString();if(t===1/0)return"'Infinity'";if(t===-1/0)return"'-Infinity'";if(Number.isNaN(t))return"'NaN'";if("number"==typeof t)return Number(t).toString();if(!1===t)return"'f'";if(!0===t)return"'t'";if(t instanceof Date)return"'".concat(o(t.toISOString()),"'");if(Array.isArray(t)){let e=[];for(let[r,n]of t.entries())!0===Array.isArray(n)?e.push(a(0!==r,n,s)):e.push(s(n));return e.toString()}t===Object(t)?(e="jsonb",r=JSON.stringify(t)):r=String(t).slice(0);let n=!1,i="'";for(let t of r)"'"===t?i+=t+t:"\\"===t?(i+=t+t,n=!0):i+=t;return i+="'",!0===n&&(i="E".concat(i)),e&&(i+="::".concat(e)),i}function u(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];let u=0,c="%(%|(\\d+\\$)?[";c+=i.ident,c+=i.literal,c+=i.string;let E=RegExp(c+="])","g");return t.replace(E,(t,e)=>{if("%"===e)return"%";let n=u,c=e.split("$");if(c.length>1&&(n=Number.parseInt(c[0],10)-1,e=c[1]),n<0)throw Error("specified argument 0 but arguments start at 1");if(n>r.length-1)throw Error("too few arguments");return(u=n+1,e===i.ident)?l(r[n]):e===i.literal?s(r[n]):e===i.string?function t(e){if(null==e)return"";if(!1===e)return"f";if(!0===e)return"t";if(e instanceof Date)return o(e.toISOString());if(Array.isArray(e)){let r=[];for(let[n,i]of e.entries())null!=i&&(!0===Array.isArray(i)?r.push(a(0!==n,i,t)):r.push(t(i)));return r.toString()}return e===Object(e)?JSON.stringify(e):String(e).toString().slice(0)}(r[n]):void 0})}},30886:(t,e,r)=>{r.d(e,{x:()=>o});var n=r(72101),i=r(63262);class o{count(){return new i.X(this.table,"count")}delete(t){return new i.X(this.table,"delete",void 0,t)}insert(t,e){return new i.X(this.table,"insert",t,e)}select(t){return new i.X(this.table,"select",t)}update(t,e){return new i.X(this.table,"update",t,e)}truncate(t){return new i.X(this.table,"truncate",void 0,t)}constructor(t){(0,n._)(this,"table",void 0),this.table=t}}},58367:(t,e,r)=>{r.d(e,{Go:()=>l,Mh:()=>i,TV:()=>o,Z1:()=>s,oR:()=>u,yN:()=>a});var n=r(29395);function i(t,e){let r="select count(*) from ".concat(f(t)),{filters:n}=null!=e?e:{};return n&&(r=c(r,n)),r+";"}function o(t,e){let r="truncate ".concat(f(t)),{cascade:n}=null!=e?e:{};return n&&(r+=" cascade"),r+";"}function a(t,e,r){if(!e||0===e.length)throw Error("no filters for this delete query");let i="delete from ".concat(f(t)),{returning:o,enumArrayColumns:a}=null!=r?r:{};return e&&(i=c(i,e)),o&&(i+=void 0===a||0===a.length?" returning *":" returning *, ".concat(a.map(t=>"".concat((0,n.bD)(t),"::text[]")).join(","))),i+";"}function l(t,e,r){if(!e||0===e.length)throw Error("no value to insert");let{returning:i,enumArrayColumns:o}=null!=r?r:{},a=Object.keys(e[0]).map(t=>(0,n.bD)(t)).join(","),l="";return l=0==a.length?(0,n.GP)("insert into %1$s select from jsonb_populate_recordset(null::%1$s, %2$s)",f(t),(0,n.eu)(JSON.stringify(e))):(0,n.GP)("insert into %1$s (%2$s) select %2$s from jsonb_populate_recordset(null::%1$s, %3$s)",f(t),a,(0,n.eu)(JSON.stringify(e))),i&&(l+=void 0===o||0===o.length?" returning *":" returning *, ".concat(o.map(t=>"".concat((0,n.bD)(t),"::text[]")).join(","))),l+";"}function s(t,e,r){var i;let o=!(arguments.length>3)||void 0===arguments[3]||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l="";l+="select ".concat(null!=e?e:"*"," from ").concat(a?(i=t,"".concat((0,n.bD)(i.name))):f(t));let{filters:s,pagination:u,sorts:E}=null!=r?r:{};if(s&&(l=c(l,s)),E&&(l=function(t,e){let r=e.filter(t=>t.column);return 0===r.length?t:t+=" order by ".concat(r.map(t=>{let e=t.ascending?"asc":"desc",r=t.nullsFirst?"nulls first":"nulls last";return"".concat((0,n.bD)(t.table),".").concat((0,n.bD)(t.column)," ").concat(e," ").concat(r)}).join(", "))}(l,E)),u){let{limit:t,offset:e}=null!=u?u:{};l+=" limit ".concat((0,n.eu)(t)," offset ").concat((0,n.eu)(e))}return"".concat(l).concat(o?";":"")}function u(t,e,r){let{filters:i,returning:o,enumArrayColumns:a}=null!=r?r:{};if(!i||0===i.length)throw Error("no filters for this update query");let l=Object.keys(e).map(t=>(0,n.bD)(t)).join(","),s=(0,n.GP)("update %1$s set (%2$s) = (select %2$s from json_populate_record(null::%1$s, %3$s))",f(t),l,(0,n.eu)(JSON.stringify(e)));return i&&(s=c(s,i)),o&&(s+=void 0===a||0===a.length?" returning *":" returning *, ".concat(a.map(t=>"".concat((0,n.bD)(t),"::text[]")).join(","))),s+";"}function c(t,e){return 0===e.length?t:t+=" where ".concat(e.map(t=>{if(Array.isArray(t.column))switch(t.operator){case"in":var e,r,i=t;if(!Array.isArray(i.column))throw Error("Use inFilterSql for single columns");if(!Array.isArray(i.value))throw Error("Values for a tuple 'in' filter must be an array");let o="(".concat(i.column.map(t=>(0,n.bD)(t)).join(", "),")"),a=i.value.map(t=>{if(Array.isArray(t)){if(t.length!==i.column.length)throw Error("Tuple value length must match column length");return"(".concat(t.map(t=>E(t)).join(", "),")")}{let e=String(t).split(",");if(e.length!==i.column.length)throw Error("Tuple value length must match column length");return"(".concat(e.map(t=>E(t)).join(", "),")")}});return"".concat(o," ").concat(i.operator," (").concat(a.join(", "),")");case"=":case"<>":case">":case"<":case">=":case"<=":var l=t;if(!Array.isArray(l.column))throw Error("Use standard applyFilters for single column");if(!Array.isArray(l.value))throw Error("Tuple filter value must be an array");if(l.value.length!==l.column.length)throw Error("Tuple filter value must have the same length as the column array");let s="(".concat(l.column.map(t=>(0,n.bD)(t)).join(", "),")"),u="(".concat(l.value.map(t=>E(t)).join(", "),")");return"".concat(s," ").concat(l.operator," ").concat(u);default:throw Error("Cannot use ".concat(t.operator," operator in a tuple filter"))}switch(t.operator){case"in":let c;return c=Array.isArray((e=t).value)?e.value.map(t=>E(t)):String(e.value).split(",").map(t=>E(t)),"".concat((0,n.bD)(e.column)," ").concat(e.operator," (").concat(c.join(","),")");case"is":var f=t;let A=String(f.value);switch(A){case"null":case"false":case"true":case"not null":return"".concat((0,n.bD)(f.column)," ").concat(f.operator," ").concat(A);default:return"".concat((0,n.bD)(f.column)," ").concat(f.operator," ").concat(E(f.value))}case"~~":case"~~*":case"!~~":case"!~~*":return r=t,"".concat((0,n.bD)(r.column),"::text ").concat(r.operator," ").concat(E(r.value));default:return"".concat((0,n.bD)(t.column)," ").concat(t.operator," ").concat(E(t.value))}}).join(" and "))}function E(t){if("string"==typeof t&&!((null==t?void 0:t.startsWith("ARRAY["))&&(null==t?void 0:t.endsWith("]"))))return(0,n.eu)(t);return t}function f(t){return"".concat((0,n.bD)(t.schema),".").concat((0,n.bD)(t.name))}},63262:(t,e,r)=>{r.d(e,{X:()=>o});var n=r(72101),i=r(77037);class o{filter(t,e,r){return this.filters.push({column:t,operator:e,value:r}),this}match(t){return Object.entries(t).map(t=>{let[e,r]=t;this.filters.push({column:e,operator:"=",value:r})}),this}order(t,e){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.sorts.push({table:t,column:e,ascending:r,nullsFirst:n}),this}range(t,e){return this._getQueryModifier().range(t,e)}toSql(t){return this._getQueryModifier().toSql(t)}_getQueryModifier(){return new i.Y(this.table,this.action,{actionValue:this.actionValue,actionOptions:this.actionOptions,filters:this.filters,sorts:this.sorts})}constructor(t,e,r,i){(0,n._)(this,"table",void 0),(0,n._)(this,"action",void 0),(0,n._)(this,"actionValue",void 0),(0,n._)(this,"actionOptions",void 0),(0,n._)(this,"filters",void 0),(0,n._)(this,"sorts",void 0),this.table=t,this.action=e,this.actionValue=r,this.actionOptions=i,this.filters=[],this.sorts=[]}}},76984:(t,e,r)=>{r.r(e),r.d(e,{Query:()=>n.X,QueryAction:()=>a.x,QueryFilter:()=>o.X,QueryModifier:()=>l.Y,countQuery:()=>i.Mh,deleteQuery:()=>i.yN,insertQuery:()=>i.Go,selectQuery:()=>i.Z1,truncateQuery:()=>i.TV,updateQuery:()=>i.oR});var n=r(15960),i=r(58367),o=r(63262),a=r(30886),l=r(77037)},77037:(t,e,r)=>{r.d(e,{Y:()=>o});var n=r(72101),i=r(58367);class o{range(t,e){return this.pagination={offset:t,limit:e-t+1},this}toSql(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isCTE:!1,isFinal:!0};try{var e;let{actionValue:r,actionOptions:n,filters:o,sorts:a}=null!=(e=this.options)?e:{};switch(this.action){case"count":return(0,i.Mh)(this.table,{filters:o});case"delete":return(0,i.yN)(this.table,o,{returning:null==n?void 0:n.returning,enumArrayColumns:null==n?void 0:n.enumArrayColumns});case"insert":return(0,i.Go)(this.table,r,{returning:null==n?void 0:n.returning,enumArrayColumns:null==n?void 0:n.enumArrayColumns});case"select":return(0,i.Z1)(this.table,r,{filters:o,pagination:this.pagination,sorts:a},t.isFinal,t.isCTE);case"update":return(0,i.oR)(this.table,r,{filters:o,returning:null==n?void 0:n.returning,enumArrayColumns:null==n?void 0:n.enumArrayColumns});case"truncate":return(0,i.TV)(this.table,{cascade:null==n?void 0:n.cascade});default:return""}}catch(t){throw t}}constructor(t,e,r){(0,n._)(this,"table",void 0),(0,n._)(this,"action",void 0),(0,n._)(this,"options",void 0),(0,n._)(this,"pagination",void 0),this.table=t,this.action=e,this.options=r}}}}]);