try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1257cc8a-b340-40de-9854-5d8ff7b47646",e._sentryDebugIdIdentifier="sentry-dbid-1257cc8a-b340-40de-9854-5d8ff7b47646")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{10921:(e,t,n)=>{n.d(t,{x:()=>a});let a={overdueInvoices:()=>["invoices","overdue"],invoice:e=>["invoice",e],list:(e,t)=>["invoices",e,t],count:e=>["invoices",e,"count"],listAndCount:e=>["invoices",e],projectInvoices:(e,t)=>["invoices",e,t],projectInvoicesCount:e=>["invoices",e,"count"],orgUpcomingPreview:e=>["invoices",e,"upcoming-preview"]}},39797:(e,t,n)=>{n.d(t,{E:()=>c});var a=n(67850),r=n(22891),s=n(24523),i=n(85039),l=n(10921);async function o(e){let{data:t,error:n}=await (0,s.Jt)("/platform/stripe/invoices/overdue",{signal:e});return n&&(0,s.H4)(n),t}let c=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,r.DB)();return(0,a.I)({queryKey:l.x.overdueInvoices(),queryFn:e=>{let{signal:t}=e;return o(t)},enabled:e&&n&&i.pe,staleTime:18e5,...t})}},41273:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(80263),r=n(96776),s=n(99779);let i=e=>{let{href:t,abbrev:n=!0,className:i}=e;return(0,a.jsx)(s.$,{asChild:!0,type:"default",className:i,icon:(0,a.jsx)(r.A,{}),onClick:e=>e.stopPropagation(),"data-sentry-element":"Button","data-sentry-component":"DocsButton","data-sentry-source-file":"DocsButton.tsx",children:(0,a.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:t,children:n?"Docs":"Documentation"})})}},71602:(e,t,n)=>{n.d(t,{H:()=>C});var a=n(80263),r=n(22891),s=n(24523),i=n(85039),l=n(53239),o=n(99779);let c=async()=>{try{let e=await (0,s.x8)("".concat(i.o2,"/api/get-utc-time")),t=await e.json(),n=new Date(t.utcTime).getTime(),a=new Date().getTime();return Math.abs(a-n)>12e4}catch(e){return!1}},d=()=>{let[e,t]=(0,l.useState)(!1),n=(0,l.useCallback)(async()=>{t(await c())},[]);return((0,l.useEffect)(()=>{n();let e=setInterval(n,18e5);return()=>clearInterval(e)},[n]),e)?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-x-4 bg-destructive-400 py-0.5 transition text-foreground box-border border-b border-default","data-sentry-component":"ClockSkewBanner","data-sentry-source-file":"ClockSkewBanner.tsx",children:[(0,a.jsx)("p",{className:"text-sm",children:"Your computer's clock appears to be inaccurate. This can cause issues with certain features."}),(0,a.jsx)(o.$,{asChild:!0,type:"text","data-sentry-element":"Button","data-sentry-source-file":"ClockSkewBanner.tsx",children:(0,a.jsx)("a",{href:"".concat(i.aq),target:"_blank",children:"More information"})})]}):null};var u=n(52555),g=n.n(u),p=n(88712),x=n(97507),m=n(53434),v=n.n(m);let f={GRACE_PERIOD:{title:"Organization plan has exceeded its quota",message:e=>"You are given a grace period until ".concat(e)},GRACE_PERIOD_OVER:{title:"Grace period is over",message:"Your Projects will not be able to serve requests when you used up your quota."},RESTRICTED:{title:"Services Restricted",message:"Your Projects are unable to serve any requests as your Organization plan has used up its quota."},OVERDUE_INVOICES:{title:"Outstanding Invoices",message:"Please pay invoices to avoid service disruption."},OVERDUE_INVOICES_FROM_OTHER_ORGS:{title:"Outstanding Invoices in other Organization",message:"Please pay invoices for other Organization to avoid service disruption."},MISSING_BILLING_INFO:{title:"Missing Billing Information",message:"Please add a billing address to avoid restrictions. If you are a registered business, please add a tax ID too."}};var y=n(39797),h=n(22238),b=n(84512),I=n(2657),_=n(60793),k=n(80100);let E={initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,delay:.5}},N=()=>{let{warnings:e}=function(){var e,t;let{data:n}=(0,b.s)(),{data:a}=(0,y.E)(),{data:r}=(0,h.Ad)(),s=[];if(!(0,I.x)("billing:all"))return{warnings:s,org:n};let i=null==a?void 0:a.filter(e=>e.organization_id!==(null==n?void 0:n.id)),l=null==a?void 0:a.filter(e=>e.organization_id===(null==n?void 0:n.id));return n&&n.organization_missing_address&&!n.billing_partner&&s.push({type:"danger",title:f.MISSING_BILLING_INFO.title,message:f.MISSING_BILLING_INFO.message,link:"/org/".concat(null==n?void 0:n.slug,"/billing#address")}),(null==l?void 0:l.length)&&s.push({type:"danger",title:f.OVERDUE_INVOICES.title,message:f.OVERDUE_INVOICES.message,link:"/org/".concat(null==n?void 0:n.slug,"/billing#invoices")}),(null==i?void 0:i.length)&&s.push({type:"danger",title:f.OVERDUE_INVOICES_FROM_OTHER_ORGS.title,message:f.OVERDUE_INVOICES_FROM_OTHER_ORGS.message,link:"/org/".concat(r?null==r||null==(e=r.find(e=>e.id===i[0].organization_id))?void 0:e.slug:null==n?void 0:n.slug,"/billing#invoices")}),(null==n?void 0:n.restriction_status)==="grace_period"&&s.push({type:"warning",title:f.GRACE_PERIOD.title,message:f.GRACE_PERIOD.message(v()(null==n||null==(t=n.restriction_data)?void 0:t.grace_period_end).format("DD MMM, YYYY")),link:"/org/".concat(null==n?void 0:n.slug,"/billing")}),(null==n?void 0:n.restriction_status)==="grace_period_over"&&s.push({type:"warning",title:f.GRACE_PERIOD_OVER.title,message:f.GRACE_PERIOD_OVER.message,link:"/org/".concat(null==n?void 0:n.slug,"/billing")}),(null==n?void 0:n.restriction_status)==="restricted"&&s.push({type:"danger",title:f.RESTRICTED.title,message:f.RESTRICTED.message,link:"/org/".concat(null==n?void 0:n.slug,"/billing")}),{warnings:s,org:n}}();return(0,a.jsx)(p.N,{initial:!1,"data-sentry-element":"AnimatePresence","data-sentry-component":"OrganizationResourceBanner","data-sentry-source-file":"HeaderBanner.tsx",children:e.map((e,t)=>(0,a.jsx)(j,{...e},t))})},j=e=>{let{type:t,title:n,message:r,link:s}=e,i="danger"===t?_.HV:_.id;return(0,a.jsx)(x.P.div,{...E,className:(0,k.cn)("relative ".concat("danger"===t?"bg-destructive-300 dark:bg-destructive-200":"incident"===t?"bg-brand-400":"bg-warning-300 dark:bg-warning-200"," border-b border-muted py-1 flex items-center justify-center flex-shrink-0 px-0"),"incident"===t&&"hover:bg-brand-300","flex-shrink-0"),layout:"position","data-sentry-element":"motion.div","data-sentry-component":"HeaderBanner","data-sentry-source-file":"HeaderBanner.tsx",children:(0,a.jsxs)("div",{className:(0,k.cn)("items-center flex flex-row gap-3"),children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 right-0 overflow-hidden z-0",children:(0,a.jsx)("div",{className:"absolute inset-0 opacity-[0.8%]",style:{background:"repeating-linear-gradient(\n                    45deg,\n                    currentColor,\n                    currentColor 10px,\n                    transparent 10px,\n                    transparent 20px\n                  )",maskImage:"linear-gradient(to top, black, transparent)",WebkitMaskImage:"linear-gradient(to top, black, transparent)"}})}),(0,a.jsx)(i,{className:(0,k.cn)("z-[1] flex-shrink-0","incident"===t&&"bg-brand text-brand-200"),"data-sentry-element":"Icon","data-sentry-source-file":"HeaderBanner.tsx"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-0 md:gap-3",children:[(0,a.jsx)("span",{className:(0,k.cn)("text-xs sm:text-sm z-[1]","danger"===t?"text-destructive":"incident"===t?"text-foreground":"text-warning"),children:n}),(0,a.jsx)("span",{className:(0,k.cn)("text-xs sm:text-sm z-[1] opacity-75","danger"===t?"text-destructive":"incident"===t?"text-foreground":"text-warning"),children:r})]}),s&&(0,a.jsx)(g(),{href:s,className:(0,k.cn)("lg:block hidden","text-foreground-lighter text-sm z-[1] m-0","danger"===t?"text-destructive":"text-warning"),children:"View Details"})]})})},w=()=>(0,a.jsx)(g(),{href:"https://status.supabase.com",target:"_blank",rel:"noopener noreferrer","data-sentry-element":"Link","data-sentry-component":"IncidentBanner","data-sentry-source-file":"IncidentBanner.tsx",children:(0,a.jsx)(j,{type:"incident",title:"We are currently investigating a technical issue",message:"Follow status.supabase.com for updates","data-sentry-element":"HeaderBanner","data-sentry-source-file":"IncidentBanner.tsx"})});var O=n(80814),R=n(63503);let B=()=>{let e=(0,O.useRouter)(),{maintenanceWindowBannerAcknowledged:t,onUpdateAcknowledged:n}=(0,R.Ij)();return e.pathname.includes("sign-in")||t?null:(0,a.jsxs)("div",{className:(0,k.cn)("relative bg-warning-300 dark:bg-warning-200 border-b border-muted py-1 flex items-center justify-center flex-shrink-0 px-0"),"data-sentry-component":"NoticeBanner","data-sentry-source-file":"NoticeBanner.tsx",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 right-0 overflow-hidden z-0",children:(0,a.jsx)("div",{className:"absolute inset-0 opacity-[0.8%]",style:{background:"repeating-linear-gradient(\n                  45deg,\n                  currentColor,\n                  currentColor 10px,\n                  transparent 10px,\n                  transparent 20px\n                )",maskImage:"linear-gradient(to top, black, transparent)",WebkitMaskImage:"linear-gradient(to top, black, transparent)"}})}),(0,a.jsxs)("div",{className:"items-center flex flex-row gap-3 z-[1]",children:[(0,a.jsx)(_.id,{className:"z-[1] flex-shrink-0","data-sentry-element":"WarningIcon","data-sentry-source-file":"NoticeBanner.tsx"}),(0,a.jsxs)("div",{className:"flex-1 text-xs sm:text-sm z-[1] text-warning",children:["Urgent Dashboard and Management API maintenance between 23:00 UTC on Nov 21, 2025 and 23:00 UTC on Nov 23, 2025. For full details,"," ",(0,a.jsx)(g(),{href:"https://status.supabase.com/incidents/z0l2157y33xk",target:"_blank",rel:"noreferrer",className:"opacity-75 hover:opacity-100 underline","data-sentry-element":"Link","data-sentry-source-file":"NoticeBanner.tsx",children:"check here"}),"."]}),(0,a.jsx)(o.$,{type:"text",className:"opacity-75 z-[1] flex-shrink-0",onClick:()=>{n("maintenance-window-banner-2025-11-21")},"data-sentry-element":"Button","data-sentry-source-file":"NoticeBanner.tsx",children:"Dismiss"})]})]})},C=e=>{let{children:t}=e,n=(0,r._P)("ongoingIncident"),s=(0,r._P)("showNoticeBanner"),i=(0,r._P)("clockSkewBanner");return(0,a.jsxs)("div",{className:"flex flex-col","data-sentry-component":"AppBannerWrapper","data-sentry-source-file":"AppBannerWrapper.tsx",children:[(0,a.jsxs)("div",{className:"flex-shrink-0",children:[n&&(0,a.jsx)(w,{}),s&&(0,a.jsx)(B,{}),(0,a.jsx)(N,{"data-sentry-element":"OrganizationResourceBanner","data-sentry-source-file":"AppBannerWrapper.tsx"}),i&&(0,a.jsx)(d,{})]}),t]})}}}]);