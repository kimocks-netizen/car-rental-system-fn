try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7892efac-1acd-4363-a414-76dcbbc1dc04",e._sentryDebugIdIdentifier="sentry-dbid-7892efac-1acd-4363-a414-76dcbbc1dc04")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35271],{1374:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},13655:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]])},29948:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},31626:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},43909:(e,n,t)=>{t.d(n,{D:()=>s});let s=[{value:"hello-world",name:"Simple Hello World",description:"Basic function that returns a JSON response",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\ninterface reqPayload {\n  name: string;\n}\n\nconsole.info('server started');\n\nDeno.serve(async (req: Request) => {\n  const { name }: reqPayload = await req.json();\n  const data = {\n    message: `Hello ${name}!`,\n  };\n\n  return new Response(\n    JSON.stringify(data),\n    { headers: { 'Content-Type': 'application/json', 'Connection': 'keep-alive' }}\n  );\n});"},{value:"database-access",name:"Supabase Database Access",description:"Example using Supabase client to query your database",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\nimport { createClient } from 'jsr:@supabase/supabase-js@2'\n\nDeno.serve(async (req) => {\n  try {\n    const supabase = createClient(\n      Deno.env.get('SUPABASE_URL') ?? '',\n      Deno.env.get('SUPABASE_ANON_KEY') ?? '',\n      { global: { headers: { Authorization: req.headers.get('Authorization')! } } }\n    )\n\n    // TODO: Change the table_name to your table\n    const { data, error } = await supabase.from('table_name').select('*')\n\n    if (error) {\n      throw error\n    }\n\n    return new Response(JSON.stringify({ data }), {\n      headers: { 'Content-Type': 'application/json' },\n      status: 200,\n    })\n  } catch (err) {\n    return new Response(JSON.stringify({ message: err?.message ?? err }), {\n      headers: { 'Content-Type': 'application/json' },\n      status: 500 \n    })\n  }\n})"},{value:"storage-upload",name:"Supabase Storage Upload",description:"Upload files to Supabase Storage",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\nimport { createClient } from 'jsr:@supabase/supabase-js@2'\nimport { randomUUID } from 'node:crypto'\n\nconst supabase = createClient(\n  Deno.env.get('SUPABASE_URL') ?? '',\n  Deno.env.get('SUPABASE_ANON_KEY') ?? ''\n)\n\nDeno.serve(async (req) => {\n  const formData = await req.formData()\n  const file = formData.get('file')\n  \n  // TODO: update your-bucket to the bucket you want to write files\n  const { data, error } = await supabase\n    .storage\n    .from('your-bucket')\n    .upload(\n      `${file.name}-${randomUUID()}`,\n      file,\n      { contentType: file.type }\n    )\n  if (error) throw error\n  return new Response(\n    JSON.stringify({ data }),\n    { headers: { 'Content-Type': 'application/json' }}\n  )\n})"},{value:"node-api",name:"Node Built-in API Example",description:"Example using Node.js built-in crypto and http modules",content:'// Setup type definitions for built-in Supabase Runtime APIs\nimport "jsr:@supabase/functions-js/edge-runtime.d.ts";\nimport { randomBytes } from "node:crypto";\nimport { createServer } from "node:http";\nimport process from "node:process";\n\nconst generateRandomString = (length) => {\n  const buffer = randomBytes(length);\n  return buffer.toString(\'hex\');\n};\n\nconst randomString = generateRandomString(10);\nconsole.log(randomString);\n\nconst server = createServer((req, res) => {\n  const message = `Hello`;\n  res.end(message);\n});\n\nserver.listen(9999);'},{value:"express",name:"Express Server",description:"Example using Express.js for routing",content:'// Setup type definitions for built-in Supabase Runtime APIs\nimport "jsr:@supabase/functions-js/edge-runtime.d.ts";\nimport express from "npm:express@4.18.2";\n\nconst app = express();\n\n// TODO: replace slug with Function\'s slug\n// https://supabase.com/docs/guides/functions/routing?queryGroups=framework&framework=expressjs\napp.get(/slug/(.*)/, (req, res) => {\n  res.send("Welcome to Supabase");\n});\n\napp.listen(8000);'},{value:"openai-completion",name:"OpenAI Text Completion",description:"Generate text completions using OpenAI GPT-3",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\"\nimport { OpenAI } from \"npm:openai@4.8.0\"\n\nconst openai = new OpenAI({\n  apiKey: Deno.env.get('OPENAI_API_KEY')\n})\n\nDeno.serve(async (req)=>{\n  const { prompt } = await req.json()\n  const response = await openai.chat.completions.create({\n    model: \"gpt-3.5-turbo\",\n    messages: [\n      {\n        role: \"user\",\n        content: prompt\n      }\n    ]\n  })\n  return new Response(JSON.stringify({\n    text: response.choices[0].message.content\n  }), {\n    headers: {\n      'Content-Type': 'application/json',\n      'Connection': 'keep-alive'\n    }\n  })\n})"},{value:"stripe-webhook",name:"Stripe Webhook Example",description:"Handle Stripe webhook events securely",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\nimport Stripe from 'npm:stripe@12.0.0'\n\nconst stripe = new Stripe(Deno.env.get('STRIPE_API_KEY') as string, {\n  // This is needed to use the Fetch API rather than relying on the Node http\n  // package.\n  apiVersion: '2024-11-20'\n})\n\n// This is needed in order to use the Web Crypto API in Deno.\nconst cryptoProvider = Stripe.createSubtleCryptoProvider()\n\nconsole.log('Stripe Webhook Function booted!')\n\nDeno.serve(async (request) => {\n  const signature = request.headers.get('Stripe-Signature')\n\n  // First step is to verify the event. The .text() method must be used as the\n  // verification relies on the raw request body rather than the parsed JSON.\n  const body = await request.text()\n  let receivedEvent\n  try {\n    receivedEvent = await stripe.webhooks.constructEventAsync(\n      body,\n      signature!,\n      Deno.env.get('STRIPE_WEBHOOK_SIGNING_SECRET')!,\n      undefined,\n      cryptoProvider\n    )\n  } catch (err) {\n    return new Response(err.message, { status: 400 })\n  }\n  console.log(`\uD83D\uDD14 Event received: ${receivedEvent.id}`)\n  return new Response(JSON.stringify({ ok: true }), { status: 200 })\n});"},{value:"resend-email",name:"Send Emails",description:"Send emails using the Resend API",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\n\nconst RESEND_API_KEY = Deno.env.get('RESEND_API_KEY')!\n\nDeno.serve(async (req) => {\n  const { to, subject, html } = await req.json()\n  const res = await fetch('https://api.resend.com/emails', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${RESEND_API_KEY}`,\n    },\n    body: JSON.stringify({\n      from: 'you@example.com',\n      to,\n      subject,\n      html,\n    }),\n  })\n  const data = await res.json()\n  return new Response(JSON.stringify(data), {\n    headers: { 'Content-Type': 'application/json' },\n  })\n})"},{value:"image-transform",name:"Image Transformation",description:"Transform images using ImageMagick WASM",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\nimport {\n  ImageMagick,\n  initializeImageMagick,\n} from \"npm:@imagemagick/magick-wasm@0.0.30\"\n\nawait initializeImageMagick()\n\nDeno.serve(async (req) => {\n  const formData = await req.formData()\n  const file = formData.get('file')\n  const content = await file.arrayBuffer()\n  const result = await ImageMagick.read(new Uint8Array(content), (img) => {\n    img.resize(500, 300)\n    img.blur(60, 5)\n    return img.write(data => data)\n  })\n  return new Response(\n    result,\n    { headers: { 'Content-Type': 'image/png' }}\n  )\n})"},{value:"websocket-server",name:"Websocket Server Example",description:"Create a real-time WebSocket server",content:'// Setup type definitions for built-in Supabase Runtime APIs\nimport "jsr:@supabase/functions-js/edge-runtime.d.ts";\n\nDeno.serve((req) => {\n  const upgrade = req.headers.get("upgrade") || ""\n  if (upgrade.toLowerCase() != "websocket") {\n    return new Response("request isn\'t trying to upgrade to websocket.")\n  }\n  const { socket, response } = Deno.upgradeWebSocket(req)\n  socket.onopen = () => {\n    console.log("client connected!")\n    socket.send(\'Welcome to Supabase Edge Functions!\')\n  }\n  socket.onmessage = (e) => {\n    console.log("client sent message:", e.data)\n    socket.send(new Date().toString())\n  }\n  return response\n})'}]},53407:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},54831:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},56560:(e,n,t)=>{t.d(n,{A:()=>u});var s=t(80263),r=t(80814),a=t(22891),o=t(93873),i=t(9497),p=t(29471);let c=()=>{let{ref:e="default"}=(0,a.g)(),n=(0,r.useRouter)().pathname.split("/")[4];return(0,s.jsx)(o.l,{page:n,menu:[{title:"Manage",items:[{name:"Functions",key:"main",pages:["","[functionSlug]","new"],url:"/project/".concat(e,"/functions"),items:[]},{name:"Secrets",key:"secrets",url:"/project/".concat(e,"/functions/secrets"),items:[]}]}],"data-sentry-element":"ProductMenu","data-sentry-component":"EdgeFunctionsProductMenu","data-sentry-source-file":"EdgeFunctionsLayout.tsx"})},u=(0,i.r)(e=>{let{children:n}=e;return(0,s.jsx)(p.k,{title:"Edge Functions",product:"Edge Functions",productMenu:(0,s.jsx)(c,{}),isBlocking:!1,"data-sentry-element":"ProjectLayout","data-sentry-component":"EdgeFunctionsLayout","data-sentry-source-file":"EdgeFunctionsLayout.tsx",children:n})})},66959:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]])},69988:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},74195:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])},74310:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},77444:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},98103:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},99940:(e,n,t)=>{t.d(n,{A:()=>s});let s=(0,t(86848).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}}]);