try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0c6829d4-78dd-4bc9-9bcf-aece198affb0",e._sentryDebugIdIdentifier="sentry-dbid-0c6829d4-78dd-4bc9-9bcf-aece198affb0")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30937],{1155:(e,t,n)=>{"use strict";n.d(t,{A:()=>z});var a=n(80263),l=n(86510),s=n(52555),r=n.n(s),o=n(73969),i=n(41591),c=n(20426),d=n(51355),u=n(80210),m=n(76984),f=n(59356),p=n(99842),h=n(13693),x=n(6843),y=n(90188);async function g(e){let{projectRef:t,connectionString:n,table:a,filters:l,roleImpersonationState:s}=e,r=(0,p.Nf)(function(e){var t;let{table:n,filters:a}=e,l=new m.Query().from(n.name,null!=(t=n.schema)?t:void 0).delete();return a.filter(e=>e.value&&""!==e.value).forEach(e=>{let t=(0,y.b)(n,e);l=l.filter(e.column,e.operator,t)}),l.toSql()}({table:a,filters:l}),s),{result:o}=await (0,f.E)({projectRef:t,connectionString:n,sql:r,isRoleImpersonationEnabled:(0,h._c)(null==s?void 0:s.role)});return o}let j=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,d.jE)();return(0,u.n)({mutationFn:e=>g(e),async onSuccess(t,n,l){let{projectRef:s,table:r}=n;await a.invalidateQueries({queryKey:x.j.tableRowsAndCount(s,r.id)}),await (null==e?void 0:e(t,n,l))},async onError(e,n,a){void 0===t?o.oR.error("Failed to delete all table rows: ".concat(e.message)):t(e,n,a)},...n})};var b=n(29445),v=n(41273),w=n(85039);async function S(e){let{projectRef:t,connectionString:n,table:a,rows:l,roleImpersonationState:s}=e,r=(0,p.Nf)(function(e){var t;let{table:n,rows:a}=e,{primaryKeys:l,error:s}=(0,y.j)({table:n});if(s)throw s;let r=new m.Query().from(n.name,null!=(t=n.schema)?t:void 0).delete();return null==l||l.forEach(e=>{let t=a.map(t=>t[e]);r=r.filter(e,"in",t)}),r.toSql()}({table:a,rows:l}),s),{result:o}=await (0,f.E)({projectRef:t,connectionString:n,sql:r,isRoleImpersonationEnabled:(0,h._c)(null==s?void 0:s.role)});return o}let N=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,d.jE)();return(0,u.n)({mutationFn:e=>S(e),async onSuccess(t,n,a){let{projectRef:s,table:r}=n;await l.invalidateQueries({queryKey:x.j.tableRowsAndCount(s,r.id)}),await (null==e?void 0:e(t,n,a))},async onError(e,n,l){if(void 0===t){let{table:t,rows:l}=n,s=e.message.includes("Please add a primary key column"),r=e.message.includes("violates foreign key constraint"),i=l.length>1;if(r){let n=t.name,l=e.message.split("on table ")[2].replaceAll('"',""),s=e.message.split("foreign key constraint")[1].split("on table")[0].replaceAll('"',""),r=i?"Unable to delete rows as one of them is currently referenced by a foreign key constraint from the table `".concat(l,"`."):"Unable to delete row as it is currently referenced by a foreign key constraint from the table `".concat(l,"`."),c="Set an on delete behavior on the foreign key relation `".concat(s,"` in the `").concat(l,"` table to automatically respond when row(s) are being deleted in the `").concat(n,"` table.");(0,o.oR)(r,{description:(0,a.jsx)(b.o,{content:c,className:"[&>p]:m-0"}),action:(0,a.jsx)("div",{className:"w-full flex gap-x-2 !mx-0 mt-3",children:(0,a.jsx)(v.A,{href:"".concat(w.aq,"/guides/database/postgres/cascade-deletes")})})})}else s?(0,o.oR)("Unable to delete row(s) as table has no primary keys",{description:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Add a primary key column to your table first to serve as a unique identifier for each row before updating or deleting the row."}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(v.A,{href:"".concat(w.aq,"/guides/database/tables#primary-keys")})})]})}):o.oR.error("Failed to delete table row: ".concat(e.message))}else t(e,n,l)},...n})};async function A(e){let{projectRef:t,connectionString:n,table:a}=e,l=function(e){var t;let{table:n}=e;return new m.Query().from(n.name,null!=(t=n.schema)?t:void 0).truncate().toSql()}({table:a}),{result:s}=await (0,f.E)({projectRef:t,connectionString:n,sql:l});return s}let C=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,d.jE)();return(0,u.n)({mutationFn:e=>A(e),async onSuccess(t,n,l){let{projectRef:s,table:r}=n;await a.invalidateQueries({queryKey:x.j.tableRowsAndCount(s,r.id)}),await (null==e?void 0:e(t,n,l))},async onError(e,n,a){void 0===t?o.oR.error("Failed to truncate table row: ".concat(e.message)):t(e,n,a)},...n})};var D=n(31582),E=n(9620),T=n(71344),k=n(98357),L=n(20033),R=n(99779),_=n(68421);let z=e=>{var t,n,s,d,u,m,f,p,x;let{selectedTable:y,onTableDeleted:g}=e,{data:b}=(0,E.YA)(),v=(0,T.ap)(),{filters:w,onApplyFilters:S}=(0,i.M)(),{mutate:A}=(0,c.T)({onSuccess:()=>{var e;if((null==(e=v.confirmationDialog)?void 0:e.type)!=="column")return;let t=v.confirmationDialog.column;(e=>{let{columnName:t}=e;S(w.filter(e=>e.column!==t))})({columnName:t.name}),o.oR.success('Successfully deleted column "'.concat(t.name,'"'))},onError:e=>{var t;if((null==(t=v.confirmationDialog)?void 0:t.type)!=="column")return;let n=v.confirmationDialog.column;o.oR.error("Failed to delete ".concat(n.name,": ").concat(e.message))},onSettled:()=>{v.closeConfirmationDialog()}}),{mutate:z}=(0,D.A)({onSuccess:async()=>{o.oR.success('Successfully deleted table "'.concat(null==y?void 0:y.name,'"')),null==g||g()},onError:e=>{o.oR.error("Failed to delete ".concat(null==y?void 0:y.name,": ").concat(e.message))},onSettled:()=>{v.closeConfirmationDialog()}}),{mutate:P,isPending:I}=N({onSuccess:()=>{var e,t,n;(null==(e=v.confirmationDialog)?void 0:e.type)==="row"&&(null==(t=(n=v.confirmationDialog).callback)||t.call(n)),o.oR.success("Successfully deleted selected row(s)")},onSettled:()=>{v.closeConfirmationDialog()}}),{mutate:$,isPending:F}=j({onSuccess:()=>{var e,t,n;(null==(e=v.confirmationDialog)?void 0:e.type)==="row"&&(null==(t=(n=v.confirmationDialog).callback)||t.call(n)),o.oR.success("Successfully deleted selected rows")},onError:e=>{o.oR.error("Failed to delete rows: ".concat(e.message))},onSettled:()=>{v.closeConfirmationDialog()}}),{mutate:q,isPending:M}=C({onSuccess:()=>{var e,t,n;(null==(e=v.confirmationDialog)?void 0:e.type)==="row"&&(null==(t=(n=v.confirmationDialog).callback)||t.call(n)),o.oR.success("Successfully deleted all rows from table")},onError:e=>{o.oR.error("Failed to delete rows: ".concat(e.message))},onSettled:()=>{v.closeConfirmationDialog()}}),O=(null==(t=v.confirmationDialog)?void 0:t.type)==="row"&&v.confirmationDialog.allRowsSelected,W=(null==(n=v.confirmationDialog)?void 0:n.type)==="row"?v.confirmationDialog.allRowsSelected?null!=(x=v.confirmationDialog.numRows)?x:0:v.confirmationDialog.rows.length:0,B=((null==(s=v.confirmationDialog)?void 0:s.type)==="column"||(null==(d=v.confirmationDialog)?void 0:d.type)==="table")&&v.confirmationDialog.isDeleteWithCascade,H=async()=>{var e;if((null==(e=v.confirmationDialog)?void 0:e.type)!=="column"||void 0===b)return;let t=v.confirmationDialog.column;void 0!==t&&A({column:t,cascade:B,projectRef:b.ref,connectionString:null==b?void 0:b.connectionString})},Q=async()=>{var e;(null==(e=v.confirmationDialog)?void 0:e.type)==="table"&&void 0!==y&&z({projectRef:null==b?void 0:b.ref,connectionString:null==b?void 0:b.connectionString,id:y.id,name:y.name,schema:y.schema,cascade:B})},Y=(0,h.Qj)(),K=async()=>{var e;if(!b)return console.error("Project ref is required");if(!y)return console.error("Selected table required");if((null==(e=v.confirmationDialog)?void 0:e.type)!=="row")return;let t=v.confirmationDialog.rows;if(v.confirmationDialog.allRowsSelected)if(0===w.length){if(void 0!==Y().role)return v.closeConfirmationDialog(),o.oR.error("Table truncation is not supported when impersonating a role");q({projectRef:b.ref,connectionString:b.connectionString,table:y})}else $({projectRef:b.ref,connectionString:b.connectionString,table:y,filters:w,roleImpersonationState:Y()});else P({projectRef:b.ref,connectionString:b.connectionString,table:y,rows:t,roleImpersonationState:Y()})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.A,{variant:"destructive",size:"small",visible:(null==(u=v.confirmationDialog)?void 0:u.type)==="column",title:'Confirm deletion of column "'.concat((null==(m=v.confirmationDialog)?void 0:m.type)==="column"&&v.confirmationDialog.column.name,'"'),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>{v.closeConfirmationDialog()},onConfirm:H,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"DeleteConfirmationDialogs.tsx",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to delete the selected column? This action cannot be undone."}),(0,a.jsx)(k.A,{label:"Drop column with cascade?",description:"Deletes the column and its dependent objects",checked:B,onChange:()=>v.toggleConfirmationIsWithCascade(),"data-sentry-element":"Checkbox","data-sentry-source-file":"DeleteConfirmationDialogs.tsx"}),B&&(0,a.jsxs)(L.Fc,{variant:"warning",title:"Warning: Dropping with cascade may result in unintended consequences",children:[(0,a.jsx)(L.XL,{children:"All dependent objects will be removed, as will any objects that depend on them, recursively."}),(0,a.jsx)(L.TN,{children:(0,a.jsx)(R.$,{asChild:!0,size:"tiny",type:"default",icon:(0,a.jsx)(l.A,{}),children:(0,a.jsx)(r(),{href:"https://www.postgresql.org/docs/current/ddl-depend.html",target:"_blank",rel:"noreferrer",children:"About dependency tracking"})})})]})]})}),(0,a.jsx)(_.A,{variant:"destructive",size:"small",visible:(null==(f=v.confirmationDialog)?void 0:f.type)==="table",title:(0,a.jsx)("span",{className:"break-words",children:'Confirm deletion of table "'.concat(null==y?void 0:y.name,'"')}),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>{v.closeConfirmationDialog()},onConfirm:Q,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"DeleteConfirmationDialogs.tsx",children:(0,a.jsxs)("div",{"data-testid":"confirm-delete-table-modal",className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to delete the selected table? This action cannot be undone."}),(0,a.jsx)(k.A,{label:"Drop table with cascade?",description:"Deletes the table and its dependent objects",checked:B,onChange:()=>v.toggleConfirmationIsWithCascade(!B),"data-sentry-element":"Checkbox","data-sentry-source-file":"DeleteConfirmationDialogs.tsx"}),B&&(0,a.jsxs)(L.Fc,{variant:"warning",children:[(0,a.jsx)(L.XL,{children:"Warning: Dropping with cascade may result in unintended consequences"}),(0,a.jsx)(L.TN,{children:"All dependent objects will be removed, as will any objects that depend on them, recursively."}),(0,a.jsx)(L.TN,{className:"mt-4",children:(0,a.jsx)(R.$,{asChild:!0,size:"tiny",type:"default",icon:(0,a.jsx)(l.A,{}),children:(0,a.jsx)(r(),{href:"https://www.postgresql.org/docs/current/ddl-depend.html",target:"_blank",rel:"noreferrer",children:"About dependency tracking"})})})]})]})}),(0,a.jsx)(_.A,{variant:"destructive",size:"small",visible:(null==(p=v.confirmationDialog)?void 0:p.type)==="row",title:(0,a.jsxs)("p",{className:"break-words",children:[(0,a.jsx)("span",{children:"Confirm to delete the selected row"}),(0,a.jsx)("span",{children:W>1&&"s"})]}),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>v.closeConfirmationDialog(),onConfirm:()=>K(),loading:M||I||F,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"DeleteConfirmationDialogs.tsx",children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:[(0,a.jsx)("span",{children:"Are you sure you want to delete "}),(0,a.jsxs)("span",{children:[O?"all":"the selected"," "]}),(0,a.jsx)("span",{children:W>1&&"".concat(W," ")}),(0,a.jsx)("span",{children:"row"}),(0,a.jsx)("span",{children:W>1&&"s"}),(0,a.jsx)("span",{children:"? This action cannot be undone."})]})})})]})}},14354:(e,t,n)=>{"use strict";n.d(t,{KP:()=>d,Nu:()=>c,d8:()=>o,l3:()=>i});var a=n(80263),l=n(79279);n(53239);var s=n(80100);let r=(0,l.F)(["pt-12 last:pb-12 gap-6"],{variants:{orientation:{horizontal:"grid @3xl:grid-cols-[1fr_2fr] @3xl:gap-12",vertical:"flex flex-col"}},defaultVariants:{orientation:"vertical"}}),o=e=>{let{className:t,orientation:n="vertical",children:l,...o}=e;return(0,a.jsx)("div",{"data-slot":"page-section","data-orientation":n,className:(0,s.cn)(r({orientation:n}),t),...o,"data-sentry-component":"PageSectionRoot","data-sentry-source-file":"index.tsx",children:l})};o.displayName="PageSectionRoot";let i=e=>{let{className:t,children:n,...l}=e;return(0,a.jsx)("div",{"data-slot":"page-section-summary",className:(0,s.cn)("flex flex-col gap-1",t),...l,"data-sentry-component":"PageSectionSummary","data-sentry-source-file":"index.tsx",children:n})};i.displayName="PageSectionSummary";let c=e=>{let{className:t,children:n,...l}=e;return(0,a.jsx)("h2",{"data-slot":"page-section-title",className:(0,s.cn)("heading-section",t),...l,"data-sentry-component":"PageSectionTitle","data-sentry-source-file":"index.tsx",children:n})};c.displayName="PageSectionTitle";let d=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"page-section-content",className:(0,s.cn)(t),...n,"data-sentry-component":"PageSectionContent","data-sentry-source-file":"index.tsx"})};d.displayName="PageSectionContent"},18306:(e,t,n)=>{"use strict";e.exports=n(84406)},18427:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});let a={list:e=>["projects",e,"foreignTables"],listBySchema:(e,t)=>[...a.list(e),t]}},22559:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(86848).A)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},22730:(e,t,n)=>{"use strict";n.d(t,{z:()=>d});var a=n(78510),l=n(67850),s=n(24523),r=n(9620),o=n(85039),i=n(87727);async function c(e,t,n){let{projectRef:l,connectionString:r}=e;if(!l)throw Error("projectRef is required");let o=new Headers(n);r&&o.set("x-connection-encrypted",r);let{data:i,error:c}=await (0,s.Jt)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":r,"x-pg-application-name":a.r},path:{ref:l}},headers:o,signal:t});return c&&(0,s.H4)(c),i}let d=function(e){let{projectRef:t,connectionString:n}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{data:d}=(0,r.YA)(),u=(null==d?void 0:d.status)===o.BU.ACTIVE_HEALTHY;return(0,l.I)({queryKey:i.I.list(t),queryFn:e=>{let{signal:a}=e;return c({projectRef:t,connectionString:n},a)},enabled:a&&void 0!==t&&u,...s})}},32532:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/database/tables",function(){return n(48604)}])},37700:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(86848).A)("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]])},48604:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>eg});var a=n(80263),l=n(53239),s=n(22891),r=n(72112),o=n(83927),i=n.n(o),c=n(75590),d=n(31092),u=n(90376),m=n(23892),f=n(68152),p=n(37700),h=n(77444),x=n(93901),y=n(3225),g=n(9753),j=n(33922),b=n(52555),v=n.n(b),w=n(80814),S=n(89388),N=n(44168),A=n(23729),C=n(13916),D=n(95470),E=n(84438),T=n(53931),k=n(34230),L=n(11018),R=n(67850),_=n(78510),z=n(24523),P=n(18427);async function I(e,t){let{projectRef:n,connectionString:a,schema:l}=e;if(!n)throw Error("projectRef is required");let s=new Headers;a&&s.set("x-connection-encrypted",a);let{data:r,error:o}=await (0,z.Jt)("/platform/pg-meta/{ref}/foreign-tables",{params:{header:{"x-connection-encrypted":a,"x-pg-application-name":_.r},path:{ref:n},query:{included_schemas:l||"",include_columns:!0}},headers:s,signal:t});return o&&(0,z.H4)(o),r}let $=function(e){let{projectRef:t,connectionString:n,schema:a}=e,{enabled:l=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,R.I)({queryKey:a?P.x.listBySchema(t,a):P.x.list(t),queryFn:e=>{let{signal:l}=e;return I({projectRef:t,connectionString:n,schema:a},l)},enabled:l&&void 0!==t,...s})},F={list:e=>["projects",e,"materializedViews"],listBySchema:(e,t)=>[...F.list(e),t]};async function q(e,t){let{projectRef:n,connectionString:a,schema:l}=e;if(!n)throw Error("projectRef is required");let s=new Headers;a&&s.set("x-connection-encrypted",a);let{data:r,error:o}=await (0,z.Jt)("/platform/pg-meta/{ref}/materialized-views",{params:{header:{"x-connection-encrypted":a,"x-pg-application-name":_.r},path:{ref:n},query:{included_schemas:l||"",include_columns:!0}},headers:s,signal:t});return o&&(0,z.H4)(o),r}let M=function(e){let{projectRef:t,connectionString:n,schema:a}=e,{enabled:l=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,R.I)({queryKey:a?F.listBySchema(t,a):F.list(t),queryFn:e=>{let{signal:l}=e;return q({projectRef:t,connectionString:n,schema:a},l)},enabled:l&&void 0!==t,staleTime:0,...s})};var O=n(71875),W=n(49810),B=n(78155);async function H(e,t){let{projectRef:n,connectionString:a,schema:l}=e;if(!n)throw Error("projectRef is required");let s=new Headers;a&&s.set("x-connection-encrypted",a);let{data:r,error:o}=await (0,z.Jt)("/platform/pg-meta/{ref}/views",{params:{header:{"x-connection-encrypted":a,"x-pg-application-name":_.r},path:{ref:n},query:{included_schemas:l||""}},headers:s,signal:t});return o&&(0,z.H4)(o),r}let Q=function(e){let{projectRef:t,connectionString:n,schema:a}=e,{enabled:l=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,R.I)({queryKey:a?B.k.listBySchema(t,a):B.k.list(t),queryFn:e=>{let{signal:l}=e;return H({projectRef:t,connectionString:n,schema:a},l)},enabled:l&&void 0!==t,staleTime:0,...s})};var Y=n(80090),K=n(57384),V=n(9620),U=n(63335),G=n(61548),J=n(99779),X=n(48156),Z=n(883),ee=n(80421),et=n(78039),en=n(78511),ea=n(30404),el=n(21162),es=n(35693);let er=e=>{let{onDuplicateTable:t,onAddTable:n=i(),onEditTable:o=i(),onDeleteTable:b=i()}=e,R=(0,w.useRouter)(),{ref:_}=(0,s.g)(),{data:z}=(0,V.YA)(),P=(0,O.li)(),{selectedSchema:I,setSelectedSchema:F}=(0,K.k)(),[q,B]=(0,l.useState)(""),[H,er]=(0,l.useState)(Object.values(L.z)),{can:eo}=(0,Y.Qp)(r.aG.TENANT_SQL_ADMIN_WRITE,"tables"),{data:ei,error:ec,isError:ed,isLoading:eu,isSuccess:em}=(0,W.LW)({projectRef:null==z?void 0:z.ref,connectionString:null==z?void 0:z.connectionString,schema:I,sortByProperty:"name",includeColumns:!0},{select:e=>0===q.length?e:e.filter(e=>e.name.toLowerCase().includes(q.toLowerCase()))}),{data:ef,error:ep,isError:eh,isLoading:ex,isSuccess:ey}=Q({projectRef:null==z?void 0:z.ref,connectionString:null==z?void 0:z.connectionString,schema:I},{select:e=>0===q.length?e:e.filter(e=>e.name.toLowerCase().includes(q.toLowerCase()))}),{data:eg,error:ej,isError:eb,isLoading:ev,isSuccess:ew}=M({projectRef:null==z?void 0:z.ref,connectionString:null==z?void 0:z.connectionString,schema:I},{select:e=>0===q.length?e:e.filter(e=>e.name.toLowerCase().includes(q.toLowerCase()))}),{data:eS,error:eN,isError:eA,isLoading:eC,isSuccess:eD}=$({projectRef:null==z?void 0:z.ref,connectionString:null==z?void 0:z.connectionString,schema:I},{select:e=>0===q.length?e:e.filter(e=>e.name.toLowerCase().includes(q.toLowerCase()))}),{data:eE}=(0,k._)({projectRef:null==z?void 0:z.ref,connectionString:null==z?void 0:z.connectionString}),eT=(null!=eE?eE:[]).find(e=>"supabase_realtime"===e.name),ek=(e=>{let{tables:t=[],views:n=[],materializedViews:a=[],foreignTables:l=[]}=e,s=t.map(e=>{var t;return{...e,type:L.z.TABLE,rows:e.live_rows_estimate,columns:null!=(t=e.columns)?t:[]}}),r=n.map(e=>{var t;return{type:L.z.VIEW,id:e.id,name:e.name,comment:e.comment,rows:void 0,size:void 0,columns:null!=(t=e.columns)?t:[]}});return[...s,...r,...a.map(e=>{var t;return{type:L.z.MATERIALIZED_VIEW,id:e.id,name:e.name,comment:e.comment,rows:void 0,size:void 0,columns:null!=(t=e.columns)?t:[]}}),...l.map(e=>{var t;return{type:L.z.FOREIGN_TABLE,id:e.id,name:e.name,comment:e.comment,rows:void 0,size:void 0,columns:null!=(t=e.columns)?t:[]}})].sort((e,t)=>e.name.localeCompare(t.name))})({tables:ei,views:ef,materializedViews:eg,foreignTables:eS}).filter(e=>H.includes(e.type)),{isSchemaLocked:eL}=(0,U.BQ)({schema:I}),eR=e=>{var t,n,a,l;let s=(null==(l=Object.entries(L.z).find(t=>{let[,n]=t;return n===e}))||null==(a=l[0])||null==(n=a.toLowerCase())||null==(t=n.split("_"))?void 0:t.join(" "))||"";return s.charAt(0).toUpperCase()+s.slice(1)};return(0,a.jsxs)("div",{className:"flex flex-col gap-y-4","data-sentry-component":"TableList","data-sentry-source-file":"TableList.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-2 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(E.A,{className:"flex-grow lg:flex-grow-0 w-[180px]",size:"tiny",showError:!1,selectedSchemaName:I,onSelectSchema:F,"data-sentry-element":"SchemaSelector","data-sentry-source-file":"TableList.tsx"}),(0,a.jsxs)(G.AM,{"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"TableList.tsx",children:[(0,a.jsx)(G.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"TableList.tsx",children:(0,a.jsx)(J.$,{size:"tiny",type:5!==H.length?"default":"dashed",className:"px-1",icon:(0,a.jsx)(c.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"TableList.tsx"})}),(0,a.jsx)(G.hl,{className:"p-0 w-56",side:"bottom",align:"center",portal:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"TableList.tsx",children:(0,a.jsxs)("div",{className:"px-3 pt-3 pb-2 flex flex-col gap-y-2",children:[(0,a.jsx)("p",{className:"text-xs",children:"Show entity types"}),(0,a.jsx)("div",{className:"flex flex-col",children:Object.entries(L.z).map(e=>{let[t,n]=e;return(0,a.jsxs)("div",{className:"group flex items-center justify-between py-0.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)(X.S,{id:t,name:t,checked:H.includes(n),onCheckedChange:()=>{H.includes(n)?er(H.filter(e=>e!==n)):er(H.concat([n]))}}),(0,a.jsx)(Z.J,{htmlFor:t,className:"capitalize text-xs",children:t.toLowerCase().replace("_"," ")})]}),(0,a.jsx)(J.$,{size:"tiny",type:"default",onClick:()=>er([n]),className:"transition opacity-0 group-hover:opacity-100 h-auto px-1 py-0.5",children:"Select only"})]},t)})})]})})]})]}),(0,a.jsxs)("div",{className:"flex flex-grow justify-between gap-2 items-center",children:[(0,a.jsx)(ee.A,{size:"tiny",className:"flex-grow lg:flex-grow-0 w-52",placeholder:"Search for a table",value:q,onChange:e=>B(e.target.value),icon:(0,a.jsx)(d.A,{size:12}),"data-sentry-element":"Input","data-sentry-source-file":"TableList.tsx"}),!eL&&(0,a.jsx)(A.G,{className:"w-auto ml-auto",icon:(0,a.jsx)(u.A,{}),disabled:!eo,onClick:()=>n(),tooltip:{content:{side:"bottom",text:eo?void 0:"You need additional permissions to create tables"}},children:"New table"})]})]}),eL&&(0,a.jsx)(es.i,{schema:I,entity:"tables"}),(eu||ex||ev||eC)&&(0,a.jsx)(T.yV,{}),(ed||eh||eb||eA)&&(0,a.jsx)(N.A,{error:ec||ep||ej||eN,subject:"Failed to retrieve tables"}),em&&ey&&ew&&eD&&(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(et.Zp,{children:(0,a.jsxs)(en.XI,{children:[(0,a.jsx)(en.A0,{children:(0,a.jsxs)(en.Hj,{children:[(0,a.jsx)(en.nd,{className:"!px-0"},"icon"),(0,a.jsx)(en.nd,{children:"Name"},"name"),(0,a.jsx)(en.nd,{className:"hidden lg:table-cell",children:"Description"},"description"),(0,a.jsx)(en.nd,{className:"hidden text-right xl:table-cell",children:"Rows (Estimated)"},"rows"),(0,a.jsx)(en.nd,{className:"hidden text-right xl:table-cell",children:"Size (Estimated)"},"size"),(0,a.jsx)(en.nd,{className:"hidden xl:table-cell text-right",children:"Realtime Enabled"},"realtime"),(0,a.jsx)(en.nd,{},"buttons")]})}),(0,a.jsx)(en.BF,{children:(0,a.jsxs)(a.Fragment,{children:[0===ek.length&&0===q.length&&(0,a.jsx)(en.Hj,{children:(0,a.jsx)(en.nA,{colSpan:7,children:0===H.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm text-foreground",children:"Please select at least one entity type to filter with"}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are currently no results based on the filter that you have applied"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm text-foreground",children:"No tables created yet"}),(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["There are no"," ",5===H.length?"tables":1===H.length?"".concat(eR(H[0]),"s"):"".concat(H.slice(0,-1).map(e=>"".concat(eR(e),"s")).join(", "),", and ").concat(eR(H[H.length-1]),"s")," ",'found in the schema "',I,'"']})]})})},I),0===ek.length&&q.length>0&&(0,a.jsx)(en.Hj,{children:(0,a.jsxs)(en.nA,{colSpan:7,children:[(0,a.jsx)("p",{className:"text-sm text-foreground",children:"No results found"}),(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:['Your search for "',q,'" did not return any results']})]})},I),ek.length>0&&ek.map(e=>{var n;return(0,a.jsxs)(en.Hj,{children:[(0,a.jsx)(en.nA,{className:"!pl-5 !pr-1",children:(0,a.jsxs)(ea.m_,{children:[(0,a.jsx)(ea.k$,{className:"cursor-default",children:(0,a.jsx)(D.L,{type:e.type})}),(0,a.jsx)(ea.ZI,{side:"bottom",children:eR(e.type)})]})}),(0,a.jsx)(en.nA,{children:e.name.length>20?(0,a.jsxs)(ea.m_,{disableHoverableContent:!0,children:[(0,a.jsx)(ea.k$,{asChild:!0,className:"max-w-[95%] overflow-hidden text-ellipsis whitespace-nowrap",children:(0,a.jsx)("p",{children:e.name})}),(0,a.jsx)(ea.ZI,{side:"bottom",children:e.name})]}):(0,a.jsx)("p",{children:e.name})}),(0,a.jsx)(en.nA,{className:"hidden lg:table-cell ",children:null!==e.comment?(0,a.jsx)("span",{className:"lg:max-w-48 truncate inline-block",title:e.comment,children:e.comment}):(0,a.jsx)("p",{className:"text-border-stronger",children:"No description"})}),(0,a.jsx)(en.nA,{className:"hidden text-right xl:table-cell",children:void 0!==e.rows?e.rows.toLocaleString():"-"}),(0,a.jsx)(en.nA,{className:"hidden text-right xl:table-cell",children:void 0!==e.size?(0,a.jsx)("code",{className:"text-xs",children:e.size}):"-"}),(0,a.jsx)(en.nA,{className:"hidden xl:table-cell text-center",children:(null!=(n=null==eT?void 0:eT.tables)?n:[]).find(t=>t.id===e.id)?(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m.A,{size:18,strokeWidth:2,className:"text-brand"})}):(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(f.A,{size:18,strokeWidth:2,className:"text-foreground-lighter"})})}),(0,a.jsx)(en.nA,{children:(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(J.$,{asChild:!0,type:"default",iconRight:(0,a.jsx)(p.A,{size:14,className:"text-foreground-light"}),className:"whitespace-nowrap hover:border-muted",style:{paddingTop:3,paddingBottom:3},children:(0,a.jsxs)(v(),{href:"/project/".concat(_,"/database/tables/").concat(e.id),children:[e.columns.length," columns"]})}),!eL&&(0,a.jsxs)(el.rI,{children:[(0,a.jsx)(el.ty,{asChild:!0,children:(0,a.jsx)(J.$,{type:"default",className:"px-1",icon:(0,a.jsx)(h.A,{})})}),(0,a.jsxs)(el.SQ,{side:"bottom",align:"end",className:"w-40",children:[(0,a.jsxs)(el._2,{className:"flex items-center space-x-2",onClick:()=>R.push("/project/".concat(null==z?void 0:z.ref,"/editor/").concat(e.id,"?").concat(S.bV,"=true")),onMouseEnter:()=>P({id:e.id?String(e.id):void 0}),children:[(0,a.jsx)(x.A,{size:12}),(0,a.jsx)("p",{children:"View in Table Editor"})]}),e.type===L.z.TABLE&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(el.mB,{}),(0,a.jsxs)(C.x,{className:"gap-x-2",disabled:!eo,onClick:()=>{eo&&o(e)},tooltip:{content:{side:"left",text:"You need additional permissions to edit this table"}},children:[(0,a.jsx)(y.A,{size:12}),(0,a.jsx)("p",{children:"Edit table"})]}),(0,a.jsxs)(C.x,{className:"gap-x-2",disabled:!eo,onClick:()=>{eo&&t(e)},tooltip:{content:{side:"left",text:"You need additional permissions to duplicate tables"}},children:[(0,a.jsx)(g.A,{size:12}),(0,a.jsx)("span",{children:"Duplicate Table"})]},"duplicate-table"),(0,a.jsx)(el.mB,{}),(0,a.jsxs)(C.x,{disabled:!eo||eL,className:"gap-x-2",onClick:()=>{eo&&!eL&&b({...e,schema:I})},tooltip:{content:{side:"left",text:"You need additional permissions to delete tables"}},children:[(0,a.jsx)(j.A,{size:12}),(0,a.jsx)("p",{children:"Delete table"})]})]})]})]})]})})]},e.id)})]})})]})})})]})};var eo=n(1155),ei=n(90065),ec=n(68296),ed=n(10508),eu=n(52641),em=n(71344),ef=n(10247),ep=n(45218),eh=n(30688),ex=n(14354);let ey=()=>{let{ref:e}=(0,s.g)(),t=(0,em.ap)(),[n,r]=(0,l.useState)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.zY,{size:"large","data-sentry-element":"PageHeader","data-sentry-source-file":"index.tsx",children:(0,a.jsx)(eh.Ys,{"data-sentry-element":"PageHeaderMeta","data-sentry-source-file":"index.tsx",children:(0,a.jsx)(eh.tq,{"data-sentry-element":"PageHeaderSummary","data-sentry-source-file":"index.tsx",children:(0,a.jsx)(eh.RR,{"data-sentry-element":"PageHeaderTitle","data-sentry-source-file":"index.tsx",children:"Database Tables"})})})}),(0,a.jsx)(ep.L,{size:"large","data-sentry-element":"PageContainer","data-sentry-source-file":"index.tsx",children:(0,a.jsx)(ex.d8,{"data-sentry-element":"PageSection","data-sentry-source-file":"index.tsx",children:(0,a.jsx)(ex.KP,{"data-sentry-element":"PageSectionContent","data-sentry-source-file":"index.tsx",children:(0,a.jsx)(er,{onAddTable:t.onAddTable,onEditTable:e=>{r((0,eu.ID)(e)),t.onEditTable()},onDeleteTable:e=>{r((0,eu.ID)(e)),t.onDeleteTable()},onDuplicateTable:e=>{r((0,eu.ID)(e)),t.onDuplicateTable()},"data-sentry-element":"TableList","data-sentry-source-file":"index.tsx"})})})}),void 0!==e&&void 0!==n&&(0,eu.KO)(n)&&(0,a.jsx)(ef.HQ,{projectRef:e,table:n,children:(0,a.jsx)(eo.A,{selectedTable:n})},"table-editor-table-".concat(n.id)),(0,a.jsx)(ei.H,{includeColumns:!0,selectedTable:n,"data-sentry-element":"SidePanelEditor","data-sentry-source-file":"index.tsx"})]})};ey.getLayout=e=>(0,a.jsx)(ed.A,{children:(0,a.jsx)(ec.A,{title:"Database",children:e})});let eg=ey},57384:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var a=n(23850),l=n(53239),s=n(22891);let r=()=>{var e;let{ref:t}=(0,s.g)(),n=t&&t.length>0&&window.localStorage.getItem(s.rS.LAST_SELECTED_SCHEMA(t))||"public",[r,o]=(e=(0,l.useMemo)(()=>n,[t]),(0,a.ZA)("schema",a.tU.withDefault(e).withOptions({clearOnDefault:!1})));return(0,l.useEffect)(()=>{t&&t.length>0&&window.localStorage.setItem(s.rS.LAST_SELECTED_SCHEMA(t),r)},[r,t]),{selectedSchema:r,setSelectedSchema:o}}},68296:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var a=n(80263),l=n(80814),s=n(91958),r=n(93873),o=n(22730),i=n(78937),c=n(2657),d=n(9620),u=n(9497),m=n(29471),f=n(54278);let p=()=>{let{data:e}=(0,d.YA)(),t=(0,l.useRouter)().pathname.split("/")[4],{data:n}=(0,o.z)({projectRef:null==e?void 0:e.ref,connectionString:null==e?void 0:e.connectionString}),{data:u}=(0,i.Q)({projectRef:null==e?void 0:e.ref}),m=void 0!==(null!=n?n:[]).find(e=>"pg_net"===e.name),p=(null==u?void 0:u.selected_addons.find(e=>"pitr"===e.type))!==void 0,h=(0,s.p4)(),{databaseReplication:x,databaseRoles:y,integrationsWrappers:g}=(0,c.x)(["database:replication","database:roles","integrations:wrappers"]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.l,{page:t,menu:(0,f.k)(e,{pgNetExtensionExists:m,pitrEnabled:p,columnLevelPrivileges:h,showPgReplicate:x,showRoles:y,showWrappers:g}),"data-sentry-element":"ProductMenu","data-sentry-source-file":"DatabaseLayout.tsx"})})},h=(0,u.r)(e=>{let{children:t}=e;return(0,a.jsx)(m.k,{product:"Database",productMenu:(0,a.jsx)(p,{}),isBlocking:!1,"data-sentry-element":"ProjectLayout","data-sentry-component":"DatabaseLayout","data-sentry-source-file":"DatabaseLayout.tsx",children:t})})},78910:(e,t,n)=>{"use strict";var a=n(18306),l={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function i(e){return a.isMemo(e)?r:o[e.$$typeof]||l}o[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[a.Memo]=r;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,a){if("string"!=typeof n){if(p){var l=f(n);l&&l!==p&&e(t,l,a)}var r=d(n);u&&(r=r.concat(u(n)));for(var o=i(t),h=i(n),x=0;x<r.length;++x){var y=r[x];if(!s[y]&&!(a&&a[y])&&!(h&&h[y])&&!(o&&o[y])){var g=m(n,y);try{c(t,y,g)}catch(e){}}}}return t}},79918:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var a=n(74065),l=n(80814),s=n(53239);function r(){let{replace:e=!0,arrayKeys:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=JSON.stringify(t),r=(0,s.useMemo)(()=>new Set(t),[n]),o=(0,l.useRouter)(),i=(0,s.useMemo)(()=>Object.fromEntries(Object.entries(o.query).map(e=>{let[t,n]=e;return r.has(t)?Array.isArray(n)?[t,n]:[t,[n]]:[t,n]})),[r,o.query]),c=(0,a.A)(i);return[i,(0,s.useCallback)(t=>{let n=c.current,a="function"==typeof t?t(n):t,l=Object.fromEntries(Object.entries({...n,...a}).filter(e=>{let[,t]=e;return!!t}));(e?o.replace:o.push)({pathname:o.pathname,query:l},void 0,{shallow:!0,scroll:!1})},[o,e])]}},84406:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,a=n?Symbol.for("react.element"):60103,l=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,i=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,x=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,j=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case u:case s:case o:case r:case f:return e;default:switch(e=e&&e.$$typeof){case c:case m:case x:case h:case i:return e;default:return t}}case l:return t}}}function w(e){return v(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=i,t.Element=a,t.ForwardRef=m,t.Fragment=s,t.Lazy=x,t.Memo=h,t.Portal=l,t.Profiler=o,t.StrictMode=r,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||v(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===i},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return v(e)===m},t.isFragment=function(e){return v(e)===s},t.isLazy=function(e){return v(e)===x},t.isMemo=function(e){return v(e)===h},t.isPortal=function(e){return v(e)===l},t.isProfiler=function(e){return v(e)===o},t.isStrictMode=function(e){return v(e)===r},t.isSuspense=function(e){return v(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===u||e===o||e===r||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===x||e.$$typeof===h||e.$$typeof===i||e.$$typeof===c||e.$$typeof===m||e.$$typeof===g||e.$$typeof===j||e.$$typeof===b||e.$$typeof===y)},t.typeOf=v},84438:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var a=n(80263),l=n(72112),s=n(32157),r=n(23892),o=n(90376),i=n(53239),c=n(32775),d=n(80090),u=n(9620),m=n(99779),f=n(73640),p=n(20033),h=n(61548),x=n(29244),y=n(97757);let g=e=>{let{className:t,disabled:n=!1,size:g="tiny",showError:j=!0,selectedSchemaName:b,supportSelectAll:v=!1,excludedSchemas:w=[],onSelectSchema:S,onSelectCreateSchema:N,portal:A=!0,align:C="start"}=e,[D,E]=(0,i.useState)(!1),{can:T}=(0,d.Qp)(l.aG.TENANT_SQL_ADMIN_WRITE,"schemas"),{data:k}=(0,u.YA)(),{data:L,isLoading:R,isSuccess:_,isError:z,error:P,refetch:I}=(0,c.w$)({projectRef:null==k?void 0:k.ref,connectionString:null==k?void 0:k.connectionString}),$=(L||[]).filter(e=>!w.includes(e.name)).sort((e,t)=>e.name.localeCompare(t.name));return(0,a.jsxs)("div",{className:t,"data-sentry-component":"SchemaSelector","data-sentry-source-file":"SchemaSelector.tsx",children:[R&&(0,a.jsx)(m.$,{type:"default",className:"w-full [&>span]:w-full",size:g,disabled:!0,children:(0,a.jsx)(f.E,{className:"w-full h-3 bg-foreground-muted"})},"schema-selector-skeleton"),j&&z&&(0,a.jsxs)(p.Fc,{variant:"warning",className:"!px-3 !py-3",children:[(0,a.jsx)(p.XL,{className:"text-xs text-amber-900",children:"Failed to load schemas"}),(0,a.jsxs)(p.TN,{className:"text-xs mb-2 break-words",children:["Error: ",null==P?void 0:P.message]}),(0,a.jsx)(m.$,{type:"default",size:"tiny",onClick:()=>I(),children:"Reload schemas"})]}),_&&(0,a.jsxs)(h.AM,{open:D,onOpenChange:E,modal:!1,children:[(0,a.jsx)(h.Wv,{asChild:!0,children:(0,a.jsx)(m.$,{size:g,disabled:n,type:"default","data-testid":"schema-selector",className:"w-full [&>span]:w-full !pr-1 space-x-1",iconRight:(0,a.jsx)(s.A,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:b?(0,a.jsxs)("div",{className:"w-full flex gap-1",children:[(0,a.jsx)("p",{className:"text-foreground-lighter",children:"schema"}),(0,a.jsx)("p",{className:"text-foreground",children:"*"===b?"All schemas":b})]}):(0,a.jsx)("div",{className:"w-full flex gap-1",children:(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Choose a schema..."})})})}),(0,a.jsx)(h.hl,{className:"p-0 min-w-[200px] pointer-events-auto",side:"bottom",align:C,portal:A,sameWidthAsTrigger:!0,children:(0,a.jsxs)(x.uB,{children:[(0,a.jsx)(x.G7,{placeholder:"Find schema..."}),(0,a.jsxs)(x.oI,{children:[(0,a.jsx)(x.xL,{children:"No schemas found"}),(0,a.jsx)(x.L$,{children:(0,a.jsxs)(y.FK,{className:($||[]).length>7?"h-[210px]":"",children:[v&&(0,a.jsxs)(x.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{S("*"),E(!1)},onClick:()=>{S("*"),E(!1)},children:[(0,a.jsx)("span",{children:"All schemas"}),"*"===b&&(0,a.jsx)(r.A,{className:"text-brand",strokeWidth:2,size:16})]},"select-all"),null==$?void 0:$.map(e=>(0,a.jsxs)(x.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{S(e.name),E(!1)},onClick:()=>{S(e.name),E(!1)},children:[(0,a.jsx)("span",{children:e.name}),b===e.name&&(0,a.jsx)(r.A,{className:"text-brand",strokeWidth:2,size:16})]},e.id))]})}),void 0!==N&&T&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.fx,{}),(0,a.jsx)(x.L$,{children:(0,a.jsxs)(x.h_,{className:"cursor-pointer flex items-center gap-x-2 w-full",onSelect:()=>{N(),E(!1)},onClick:()=>{N(),E(!1)},children:[(0,a.jsx)(o.A,{size:12}),"Create a new schema"]})})]})]})]})})]})]})}},95470:(e,t,n)=>{"use strict";n.d(t,{L:()=>d});var a=n(80263),l=n(11018),s=n(53923),r=n(22559),o=n(93901),i=n(91786),c=n(80100);let d=e=>{var t,n,d;let{type:u,size:m=15,strokeWidth:f=1.5,isActive:p}=e;return"sql"===u?(0,a.jsx)(i.ty,{size:m,className:(0,c.cn)("transition-colors","fill-foreground-muted","group-aria-selected:fill-foreground","w-4 h-4","-ml-0.5"),strokeWidth:f}):u===l.z.TABLE?(0,a.jsx)(s.A,{size:m,strokeWidth:f,className:(0,c.cn)("text-foreground-muted group-hover:text-foreground-lighter group-aria-selected:text-foreground",p&&"text-foreground-light","transition-colors")}):"schema"===u?(0,a.jsx)(r.A,{size:m,strokeWidth:f}):u===l.z.VIEW?(0,a.jsx)(o.A,{size:m,strokeWidth:f,className:(0,c.cn)("text-foreground-muted group-hover:text-foreground-lighter",p&&"text-foreground-lighter","transition-colors")}):(0,a.jsx)("div",{className:(0,c.cn)("flex items-center justify-center text-xs h-4 w-4 rounded-[2px] font-bold",u===l.z.FOREIGN_TABLE&&"text-warning-600/80 dark:text-yellow-900 bg-yellow-500",u===l.z.MATERIALIZED_VIEW&&"text-purple-1000 bg-purple-500",u===l.z.PARTITIONED_TABLE&&"text-foreground-light bg-border-stronger"),"data-sentry-component":"EntityTypeIcon","data-sentry-source-file":"EntityTypeIcon.tsx",children:null==(d=Object.entries(l.z).find(e=>{let[,t]=e;return t===u}))||null==(n=d[0])||null==(t=n[0])?void 0:t.toUpperCase()})}},99287:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(80263),l=n(46115),s=n(53239),r=n(7981);let o=e=>{var t,n,o;let{defaultActiveId:i,activeId:c,type:d="pills",size:u="tiny",block:m,onChange:f,onClick:p,scrollable:h,wrappable:x,addOnBefore:y,addOnAfter:g,listClassNames:j,baseClassNames:b,refs:v,children:w}=e,S=s.Children.toArray(w),[N,A]=(0,s.useState)(null!=(o=null!=c?c:i)?o:null==S||null==(n=S[0])||null==(t=n.props)?void 0:t.id);(0,s.useMemo)(()=>{c&&c!==N&&A(c)},[c]);let C=(0,r.A)("tabs");function D(e){null==p||p(e),e!==N&&(null==f||f(e),A(e))}let E=[C[d].list];return h&&E.push(C.scrollable),x&&E.push(C.wrappable),j&&E.push(j),(0,a.jsxs)(l.bL,{value:N,className:[C.base,b].join(" "),ref:null==v?void 0:v.base,"data-sentry-element":"TabsPrimitive.Root","data-sentry-component":"Tabs","data-sentry-source-file":"Tabs.tsx",children:[(0,a.jsxs)(l.B8,{className:E.join(" "),ref:null==v?void 0:v.list,"data-sentry-element":"TabsPrimitive.List","data-sentry-source-file":"Tabs.tsx",children:[y,S.map(e=>{let t=N===e.props.id,n=[C[d].base,C.size[u]];return t?n.push(C[d].active):n.push(C[d].inactive),m&&n.push(C.block),(0,a.jsxs)(l.l9,{onKeyDown:t=>{"Enter"===t.key&&(t.preventDefault(),D(e.props.id))},onClick:()=>D(e.props.id),value:e.props.id,className:n.join(" "),children:[e.props.icon,(0,a.jsx)("span",{children:e.props.label}),e.props.iconRight]},"".concat(e.props.id,"-tab-button"))}),g]}),S]})};o.Panel=e=>{let{children:t,id:n,className:s}=e,o=(0,r.A)("tabs");return(0,a.jsx)(l.UC,{value:n,className:[o.content,s].join(" "),"data-sentry-element":"TabsPrimitive.Content","data-sentry-component":"Panel","data-sentry-source-file":"Tabs.tsx",children:t})};let i=o}},e=>{e.O(0,[74335,60858,15599,16110,27764,36538,44033,26616,652,55754,4499,76984,72391,35035,40545,596,10508,48340,75187,29471,91312,63335,84698,39831,90636,46593,38792],()=>e(e.s=32532)),_N_E=e.O()}]);