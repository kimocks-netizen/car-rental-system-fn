try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c2516214-460a-4b92-8c85-cf2afa8475e6",e._sentryDebugIdIdentifier="sentry-dbid-c2516214-460a-4b92-8c85-cf2afa8475e6")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23968],{15605:(e,t,i)=>{i.d(t,{K:()=>v});var a=i(80263),s=i(72112),r=i(53239),n=i(87494),o=i(86953),l=i(73969),d=i(22891),c=i(15040),u=i(44705),p=i(37631),h=i(97492),m=i(80210),T=i(24523);async function E(e){let{projectRef:t,template:i}=e,{data:a,error:s}=await (0,T.bE)("/platform/auth/{ref}/validate/spam",{params:{path:{ref:t}},body:i});return s&&(0,T.H4)(s),a}let I=function(){let{onSuccess:e,onError:t,...i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,m.n)({mutationFn:e=>E(e),async onSuccess(t,i,a){await (null==e?void 0:e(t,i,a))},async onError(e,i,a){void 0===t?l.oR.error("Failed to validate template: ".concat(e.message)):t(e,i,a)},...i})};var _=i(80090),y=i(65887),N=i(78039),f=i(27371),A=i(883),O=i(30404),L=i(99779),S=i(44725),b=i(44053),C=i(88712),j=i(97507),R=i(29445),g=i(78511);let M=e=>{let{spamRules:t=[]}=e,i=t.filter(e=>e.score>=0);return(0,a.jsx)(C.N,{"data-sentry-element":"AnimatePresence","data-sentry-component":"SpamValidation","data-sentry-source-file":"SpamValidation.tsx",children:i.length>0&&(0,a.jsx)(j.P.div,{className:"border-b",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeOut"},children:(0,a.jsxs)(N.Wu,{className:"py-6 flex flex-col gap-2",children:[(0,a.jsx)(S.Z,{type:"destructive",title:"Issues to resolve",description:"This email is likely to be marked as spam by email servers. Please resolve the below issues before saving.",className:"bg-destructive-300/50 dark:bg-destructive-200 border-destructive-400"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"w-full border rounded-md overflow-hidden",children:(0,a.jsxs)(g.XI,{children:[(0,a.jsx)(g.A0,{children:(0,a.jsxs)(g.Hj,{children:[(0,a.jsx)(g.nd,{children:"Warning"}),(0,a.jsx)(g.nd,{children:"Description"})]})}),(0,a.jsx)(g.BF,{children:i.map(e=>(0,a.jsxs)(g.Hj,{children:[(0,a.jsx)(g.nA,{className:"font-mono",children:e.name}),(0,a.jsx)(g.nA,{children:e.desc})]},e.name))})]})}),(0,a.jsx)(R.o,{className:"!max-w-none text-foreground-lighter text-xs mt-2",content:"Spam validation is powered by [SpamAssassin](https://spamassassin.apache.org/doc.html). Full list of all available warnings can be found [here](https://gist.github.com/ychaouche/a2faff159c2a1fea16019156972c7f8b)."})]})]})})})},v=e=>{var t,i,m;let{template:T}=e,{ref:E}=(0,d.g)(),{can:C}=(0,_.Qp)(s.aG.UPDATE,"custom_config_gotrue"),j=(0,r.useRef)(),{data:R,isSuccess:g}=(0,p.op)({projectRef:E}),{mutate:v}=I(),{mutate:x}=(0,h.U)({onError:e=>{$(!1),l.oR.error("Failed to update email templates: ".concat(e.message))}}),{id:w,properties:U}=T,k="MAILER_TEMPLATES_".concat(w,"_CONTENT"),D=U[k],F=g&&R&&(!R.SMTP_HOST||!R.SMTP_USER||!R.SMTP_PASS),[P,H]=(0,r.useState)(),[B,q]=(0,r.useState)(null!=(t=R&&R[k])?t:""),[J,Y]=(0,r.useState)(!1),[G,$]=(0,r.useState)(!1),[K,V]=(0,r.useState)("source"),W=(null!=(i=null==P?void 0:P.rules)?i:[]).filter(e=>e.score>0),Z=(0,r.useMemo)(()=>{let e={};return Object.keys(U).forEach(t=>{var i;e[t]=null!=(i=R&&R[t])?i:""}),e},[R,U]),z=(0,n.mN)({defaultValues:Z}),Q=(0,r.useMemo)(()=>{if(!(null==D?void 0:D.description))return[];let e=D.description.split("\n"),t=[];for(let i of e){let e=i.match(/-\s*`?({{\s*\.\w+\s*}})`?\s*(?::|-)?\s*(.+)/);e&&e[1]&&e[2]&&t.push({variable:e[1].replace(/`/g,"").trim(),description:e[2].trim()})}return t},[null==D?void 0:D.description]),X=z.watch(),ee=null!=(m=R&&R[k])?m:"",et=JSON.stringify(X)!==JSON.stringify(Z)||ee!==B;return(0,r.useEffect)(()=>{if(R){var e;let t={};Object.keys(U).forEach(e=>{var i;t[e]=null!=(i=R&&R[e])?i:""}),z.reset(t),q(null!=(e=R&&R[k])?e:"")}},[R,U,k,z]),(0,r.useEffect)(()=>{let e=e=>{J&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[J]),(0,r.useEffect)(()=>{if(E&&w&&R){let[e]=Object.keys(U);v({projectRef:E,template:{subject:R[e],content:R[k]}})}},[w]),(0,r.useEffect)(()=>{et||H(void 0)},[et]),(0,a.jsx)(y.lV,{...z,"data-sentry-element":"Form_Shadcn_","data-sentry-component":"TemplateEditor","data-sentry-source-file":"TemplateEditor.tsx",children:(0,a.jsxs)("form",{onSubmit:z.handleSubmit(e=>{if(!E)return console.error("Project ref is required");$(!0);let t={...e};delete t[k],D&&(t[k]=B);let[i]=Object.keys(U);v({projectRef:E,template:{subject:t[i],content:t[k]}},{onSuccess:e=>{var i;H(e);let a=(null!=(i=null==e?void 0:e.rules)?i:[]).filter(e=>e.score>0);F&&a.length>0?($(!1),l.oR.error("Please rectify all spam warnings before saving while using the built-in email service")):x({projectRef:E,config:t},{onSuccess:()=>{$(!1),Y(!1),l.oR.success("Successfully updated email template")}})},onError:()=>$(!1)})}),children:[(0,a.jsx)(N.Wu,{"data-sentry-element":"CardContent","data-sentry-source-file":"TemplateEditor.tsx",children:Object.keys(U).map(e=>{let t=U[e];return"string"===t.type&&e!==k?(0,a.jsx)(y.zB,{control:z.control,name:e,render:i=>{let{field:s}=i;return(0,a.jsx)(b.M,{className:"gap-y-3",layout:"vertical",label:t.title,description:t.description?(0,a.jsx)(o.$,{unwrapDisallowed:!0,disallowedElements:["p"],children:t.description}):null,labelOptional:t.descriptionOptional?(0,a.jsx)(o.$,{unwrapDisallowed:!0,disallowedElements:["p"],children:t.descriptionOptional}):null,children:(0,a.jsx)(y.MJ,{children:(0,a.jsx)(f.p,{id:e,...s,disabled:!C})})})}},e):null})}),D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(N.Wu,{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)(A.J,{children:"Body"}),(0,a.jsx)(u.A,{width:60,options:["preview","source"],activeOption:K,onClickOption:e=>V(e),borderOverride:"border-muted"})]}),"source"===K?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"overflow-hidden rounded-md border dark:border-control overflow-hidden [&_.monaco-editor]:outline-0 [&_.monaco-editor-background]:!bg-surface-200/30 [&_.monaco-editor_.margin]:!bg-surface-200/30 dark:[&_.monaco-editor-background]:!bg-surface-300 dark:[&_.monaco-editor_.margin]:!bg-surface-300",children:(0,a.jsx)(c.A,{id:"code-id",language:"html",isReadOnly:!C,className:"!mb-0 relative h-96 outline-none outline-offset-0 outline-width-0 outline-0",onInputChange:e=>{q(null!=e?e:""),B!==e&&Y(!0)},options:{wordWrap:"on",contextmenu:!1,padding:{top:16}},value:B,editorRef:j})}),Q.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:Q.map(e=>{let{variable:t,description:i}=e;return(0,a.jsxs)(O.m_,{children:[(0,a.jsx)(O.k$,{asChild:!0,children:(0,a.jsx)(L.$,{type:"outline",size:"tiny",className:"rounded-full",onClick:()=>(e=>{if(!j.current)return;let t=j.current,i=t.getSelection();if(i){let a={startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.endLineNumber,endColumn:i.endColumn};t.executeEdits("insert-variable",[{range:a,text:e,forceMoveMarkers:!0}]),t.focus()}})(t),children:t})}),(0,a.jsx)(O.ZI,{side:"top",children:(0,a.jsx)("p",{children:i||"Variable description not available"})})]},t)})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("iframe",{className:"!mb-0 mt-0 overflow-hidden h-96 w-full rounded-md border bg-white",title:w,srcDoc:B,sandbox:"allow-scripts allow-forms"}),(0,a.jsx)(S.Z,{type:"default",title:"Email rendering may differ",description:"The preview shown here may differ slightly from how your email appears in the recipientâ€™s email client."})]})]}),(0,a.jsx)(M,{spamRules:W}),(0,a.jsxs)(N.wL,{className:"flex flex-row justify-end gap-2",children:[et&&(0,a.jsx)(L.$,{type:"default",onClick:()=>{var e;z.reset(Z),q(null!=(e=R&&R[k])?e:""),Y(!1)},children:"Cancel"}),(0,a.jsx)(L.$,{type:"primary",htmlType:"submit",disabled:!C||G||!et,loading:G,children:"Save changes"})]})]})]})})}},37631:(e,t,i)=>{i.d(t,{$E:()=>u,kV:()=>d,op:()=>c});var a=i(67850),s=i(51355),r=i(24523),n=i(85039),o=i(53239),l=i(31907);async function d(e,t){let{projectRef:i}=e;if(!i)throw Error("projectRef is required");let{data:a,error:s}=await (0,r.Jt)("/platform/auth/{ref}/config",{params:{path:{ref:i}},signal:t});return s&&(0,r.H4)(s),a}let c=function(e){let{projectRef:t}=e,{enabled:i=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)({queryKey:l.Z.authConfig(t),queryFn:e=>{let{signal:i}=e;return d({projectRef:t},i)},enabled:i&&n.pe&&void 0!==t,...s})},u=e=>{let{projectRef:t}=e,i=(0,s.jE)();return(0,o.useCallback)(()=>{t&&i.prefetchQuery({queryKey:l.Z.authConfig(t),queryFn:e=>{let{signal:i}=e;return d({projectRef:t},i)}})},[i,t])}},39624:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(80263),s=i(12123);let r=e=>{let{resourceText:t,isFullPage:i=!1}=e,r=()=>(0,a.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200","data-sentry-component":"NoPermissionMessage","data-sentry-source-file":"NoPermission.tsx",children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(s.A,{size:20,"data-sentry-element":"AlertCircle","data-sentry-source-file":"NoPermission.tsx"})}),(0,a.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return i?(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsx)("div",{className:"w-[550px]",children:(0,a.jsx)(r,{})})}):(0,a.jsx)(r,{})}},56144:(e,t,i)=>{i.d(t,{i:()=>a});let a=e=>e.trim().replace(/\s+/g,"-").toLowerCase()},85967:(e,t,i)=>{i.d(t,{x:()=>E});var a=i(86692);let s="http://json-schema.org/draft-07/schema#",r={$schema:s,id:"CONFIRMATION",type:"object",title:"Confirm sign up",purpose:"Ask users to confirm their email address after signing up",properties:{MAILER_SUBJECTS_CONFIRMATION:{title:"Subject",type:"string"},MAILER_TEMPLATES_CONFIRMATION_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .ConfirmationURL }}` : URL to confirm the email address for the new account\n- `{{ .Token }}` : The 6-digit numeric email OTP \n- `{{ .TokenHash }}` : The hashed token used in the URL\n- `{{ .SiteURL }}` : The URL of the site\n- `{{ .Email }}` : The user's email address\n- `{{ .Data }}` : The user's `user_metadata`\n- `{{ .RedirectTo }}` : The URL of `emailRedirectTo` passed in options\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_CONFIRMATION:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"authentication"}},n={$schema:s,id:"INVITE",type:"object",title:"Invite user",purpose:"Invite users who don't yet have an account to sign up",properties:{MAILER_SUBJECTS_INVITE:{title:"Subject",type:"string"},MAILER_TEMPLATES_INVITE_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .ConfirmationURL }}` : URL to accept the invitation to create an account\n- `{{ .Token }}` : The 6-digit numeric email OTP \n- `{{ .TokenHash }}` : The hashed token used in the URL\n- `{{ .SiteURL }}` : The URL of the site\n- `{{ .Email }}` : The user's email address\n- `{{ .Data }}` : The user's `user_metadata`\n- `{{ .RedirectTo }}` : The URL of `redirectTo` passed in options\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_INVITE:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"authentication"}},o={$schema:s,id:"MAGIC_LINK",type:"object",title:"Magic link",purpose:"Allow users to sign in via a one-time link sent to their email",properties:{MAILER_SUBJECTS_MAGIC_LINK:{title:"Subject",type:"string"},MAILER_TEMPLATES_MAGIC_LINK_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .ConfirmationURL }}` : URL for a one-time login to the user's account\n- `{{ .Token }}` : The 6-digit numeric email OTP \n- `{{ .TokenHash }}` : The hashed token used in the URL\n- `{{ .SiteURL }}` : The URL of the site\n- `{{ .Email }}` : The user's email address\n- `{{ .Data }}` : The user's `user_metadata`\n- `{{ .RedirectTo }}` : The URL of `emailRedirectTo` passed in options\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_MAGIC_LINK:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"authentication"}},l={$schema:s,id:"EMAIL_CHANGE",type:"object",title:"Change email address",purpose:"Ask users to verify their new email address after changing it",properties:{MAILER_SUBJECTS_EMAIL_CHANGE:{title:"Subject",type:"string"},MAILER_TEMPLATES_EMAIL_CHANGE_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .ConfirmationURL }}` : URL to confirm the email change\n- `{{ .Token }}` : The 6-digit numeric email OTP \n- `{{ .TokenHash }}` : The hashed token used in the URL\n- `{{ .SiteURL }}` : The URL of the site\n- `{{ .Email }}` : The original user's email address\n- `{{ .NewEmail }}` : The user's new email address\n- `{{ .Data }}` : The user's `user_metadata`\n- `{{ .RedirectTo }}` : The URL of `emailRedirectTo` passed in options\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_EMAIL_CHANGE:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"authentication"}},d={$schema:s,id:"RECOVERY",type:"object",title:"Reset password",purpose:"Allow users to reset their password if they forget it",properties:{MAILER_SUBJECTS_RECOVERY:{title:"Subject",type:"string"},MAILER_TEMPLATES_RECOVERY_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .ConfirmationURL }}` : URL to confirm the password reset\n- `{{ .Token }}` : The 6-digit numeric email OTP \n- `{{ .TokenHash }}` : The hashed token used in the URL\n- `{{ .SiteURL }}` : The URL of the site\n- `{{ .Email }}` : The user's email address\n- `{{ .Data }}` : The user's `user_metadata`\n- `{{ .RedirectTo }}` : The URL of `redirectTo` passed in options\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_RECOVERY:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"authentication"}},c={$schema:s,id:"REAUTHENTICATION",type:"object",title:"Reauthentication",purpose:"Ask users to re-authenticate before performing a sensitive action",properties:{MAILER_SUBJECTS_REAUTHENTICATION:{title:"Subject",type:"string"},MAILER_TEMPLATES_REAUTHENTICATION_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:"\n- `{{ .Token }}` : The 6-digit numeric email OTP\n- `{{ .SiteURL }}` : The URL of the site\n- `{{ .Email }}` : The user's email address\n- `{{ .Data }}` : The user's `user_metadata`\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_REAUTHENTICATION:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"authentication"}},u={$schema:s,id:"PASSWORD_CHANGED_NOTIFICATION",type:"object",title:"Password changed",purpose:"Notify users when their password has changed",properties:{MAILER_SUBJECTS_PASSWORD_CHANGED_NOTIFICATION:{title:"Subject",type:"string"},MAILER_TEMPLATES_PASSWORD_CHANGED_NOTIFICATION_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .Email }}` : The user's email address\n- `{{ .Data }}` : The user's `user_metadata`\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_PASSWORD_CHANGED_NOTIFICATION:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"security"}},p={$schema:s,id:"EMAIL_CHANGED_NOTIFICATION",type:"object",title:"Email address changed",purpose:"Notify users when their email address has changed",properties:{MAILER_SUBJECTS_EMAIL_CHANGED_NOTIFICATION:{title:"Subject",type:"string"},MAILER_TEMPLATES_EMAIL_CHANGED_NOTIFICATION_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .Email }}` : The user's new email address\n- `{{ .OldEmail }}` : The user's old email address\n- `{{ .Data }}` : The user's `user_metadata`\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_EMAIL_CHANGED_NOTIFICATION:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"security"}},h={$schema:s,id:"PHONE_CHANGED_NOTIFICATION",type:"object",title:"Phone number changed",purpose:"Notify users when their phone number has changed",properties:{MAILER_SUBJECTS_PHONE_CHANGED_NOTIFICATION:{title:"Subject",type:"string"},MAILER_TEMPLATES_PHONE_CHANGED_NOTIFICATION_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .Email }}` : The user's email address\n- `{{ .Phone }}` : The user's new phone number\n- `{{ .OldPhone }}` : The user's old phone number\n- `{{ .Data }}` : The user's `user_metadata`\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_PHONE_CHANGED_NOTIFICATION:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"security"}},m={$schema:s,id:"IDENTITY_LINKED_NOTIFICATION",type:"object",title:"Identity linked",purpose:"Notify users when a new identity has been linked to their account",properties:{MAILER_SUBJECTS_IDENTITY_LINKED_NOTIFICATION:{title:"Subject",type:"string"},MAILER_TEMPLATES_IDENTITY_LINKED_NOTIFICATION_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .Email }}` : The user's email address\n- `{{ .Provider }}` : The provider of the newly linked identity\n- `{{ .Data }}` : The user's `user_metadata`\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_IDENTITY_LINKED_NOTIFICATION:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"security"}},T={$schema:s,id:"IDENTITY_UNLINKED_NOTIFICATION",type:"object",title:"Identity unlinked",purpose:"Notify users when an identity has been unlinked from their account",properties:{MAILER_SUBJECTS_IDENTITY_UNLINKED_NOTIFICATION:{title:"Subject",type:"string"},MAILER_TEMPLATES_IDENTITY_UNLINKED_NOTIFICATION_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .Email }}` : The user's email address\n- `{{ .Provider }}` : The provider of the unlinked identity\n- `{{ .Data }}` : The user's `user_metadata`\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_IDENTITY_UNLINKED_NOTIFICATION:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"security"}},E=[r,n,o,l,d,c,u,p,h,m,T,{$schema:s,id:"MFA_FACTOR_ENROLLED_NOTIFICATION",type:"object",title:"Multi-factor authentication method added",purpose:"Notify users when a new multi-factor authentication method has been added to their account",properties:{MAILER_SUBJECTS_MFA_FACTOR_ENROLLED_NOTIFICATION:{title:"Subject",type:"string"},MAILER_TEMPLATES_MFA_FACTOR_ENROLLED_NOTIFICATION_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .Email }}` : The user's email address\n- `{{ .FactorType }}` : The type of the newly enrolled MFA factor\n- `{{ .Data }}` : The user's `user_metadata`\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_MFA_FACTOR_ENROLLED_NOTIFICATION:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"security"}},{$schema:s,id:"MFA_FACTOR_UNENROLLED_NOTIFICATION",type:"object",title:"Multi-factor authentication method removed",purpose:"Notify users when a multi-factor authentication method has been removed from their account",properties:{MAILER_SUBJECTS_MFA_FACTOR_UNENROLLED_NOTIFICATION:{title:"Subject",type:"string"},MAILER_TEMPLATES_MFA_FACTOR_UNENROLLED_NOTIFICATION_CONTENT:{title:"Body",descriptionOptional:"HTML body of your email",type:"code",description:" \n- `{{ .Email }}` : The user's email address\n- `{{ .FactorType }}` : The type of the newly enrolled MFA factor\n- `{{ .Data }}` : The user's `user_metadata`\n"}},validationSchema:(0,a.Ik)().shape({MAILER_SUBJECTS_MFA_FACTOR_UNENROLLED_NOTIFICATION:(0,a.Yj)().required("Subject is required.")}),misc:{emailTemplateType:"security"}}]},87442:(e,t,i)=>{i.d(t,{A:()=>m});var a=i(80263),s=i(80814),r=i(22891),n=i(91958),o=i(93873),l=i(37631),d=i(2657),c=i(9497),u=i(29471),p=i(1458);let h=()=>{let e=(0,s.useRouter)(),{ref:t="default"}=(0,r.g)(),i=(0,r._P)("authOverviewPage"),c=(0,r._P)("EnableOAuth21"),u=(0,n.hN)(),{authenticationSignInProviders:h,authenticationRateLimits:m,authenticationEmails:T,authenticationMultiFactor:E,authenticationAttackProtection:I,authenticationAdvanced:_}=(0,d.x)(["authentication:sign_in_providers","authentication:rate_limits","authentication:emails","authentication:multi_factor","authentication:attack_protection","authentication:advanced"]);(0,l.$E)({projectRef:t});let y=e.pathname.split("/")[4];return(0,a.jsx)(o.l,{page:y,menu:(0,p.B)(t,{authenticationSignInProviders:h,authenticationRateLimits:m,authenticationEmails:T,authenticationMultiFactor:E,authenticationAttackProtection:I,authenticationAdvanced:_,authenticationShowOverview:i,authenticationShowSecurityNotifications:u,authenticationOauth21:c}),"data-sentry-element":"ProductMenu","data-sentry-component":"AuthProductMenu","data-sentry-source-file":"AuthLayout.tsx"})},m=(0,c.r)(e=>{let{children:t}=e;return(0,a.jsx)(u.k,{title:"Authentication",product:"Authentication",productMenu:(0,a.jsx)(h,{}),isBlocking:!1,"data-sentry-element":"ProjectLayout","data-sentry-component":"AuthLayout","data-sentry-source-file":"AuthLayout.tsx",children:t})})}}]);