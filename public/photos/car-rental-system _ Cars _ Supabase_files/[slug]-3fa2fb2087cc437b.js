try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1bb2e37a-b99f-4073-9340-72b6770c2b5c",e._sentryDebugIdIdentifier="sentry-dbid-1bb2e37a-b99f-4073-9340-72b6770c2b5c")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11326],{15192:(e,t,a)=>{"use strict";a.d(t,{B:()=>l});var n=a(85039);async function l(e){let t=await Promise.all([a.e(56154),a.e(89263)]).then(a.t.bind(a,89263,23)).then(e=>e.default),l="",r="",s=0;if(e&&""!==e)if(e.length>99)l="".concat(n.I9[0]," Maximum length of password exceeded"),r="Password should be less than 100 characters";else{var o,i,c,d,u,m;let a=t(e),h=null!=(c=null==a?void 0:a.score)?c:0,p=n.I9[h],x=null!=(d=null==(i=a.feedback)||null==(o=i.suggestions)?void 0:o.join(" "))?d:"";l="".concat(p," ").concat(x),s=h,h<n.p8&&(r="".concat((null==a||null==(u=a.feedback)?void 0:u.warning)?(null==a||null==(m=a.feedback)?void 0:m.warning)+".":""," You need a stronger password."))}return{message:l,warning:r,strength:s}}},22847:(e,t,a)=>{"use strict";a.d(t,{Cr:()=>s,R9:()=>o,kC:()=>i,wl:()=>c});var n=a(45908),l=a(71228),r=a(47418);function s(e){var t;return null!=(t=r.lJ.get(e))?t:e}function o(e){switch(e){case"AWS":case"AWS_K8S":return l.m_;case"AWS_NIMBUS":return{EAST_US:l.m_.EAST_US};case"FLY":return l.ac;default:throw Error("Invalid cloud provider")}}let i=e=>{var t;return(null==(t=n.N[e])?void 0:t.priceMonthly)||10},c=e=>{var t;return(null==(t=n.N[e])?void 0:t.label)||"Micro"}},25345:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/new/[slug]",function(){return a(80190)}])},26819:(e,t,a)=>{"use strict";a.d(t,{s:()=>c,v:()=>d});var n=a(80263),l=a(10115),r=a(53239),s=a(37724),o=a(883),i=a(80100);let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.bL,{className:(0,i.cn)("flex flex-col -space-y-px w-full",a),...r,ref:t})});c.displayName="RadioGroupStacked";let d=r.forwardRef((e,t)=>{let{image:a,label:r,showIndicator:c=!0,...d}=e;return(0,n.jsx)(l.q7,{ref:t,...d,className:(0,i.cn)("flex flex-col gap-2","w-full","bg-overlay/50 disabled:opacity-50","border","first-of-type:rounded-t-lg last-of-type:rounded-b-lg","shadow-sm","enabled:hover:bg-surface-300","enabled:hover:border-foreground-muted","enabled:cursor-pointer disabled:cursor-not-allowed","hover:z-[1] focus-visible:z-[1]","data-[state=checked]:z-[1]","data-[state=checked]:ring-1 data-[state=checked]:ring-border","data-[state=checked]:bg-surface-300","data-[state=checked]:border-foreground-muted","transition","group",d.className),children:(0,n.jsxs)("div",{className:"flex gap-3 w-full px-[21px] py-3",children:[c&&(0,n.jsx)("div",{className:(0,i.cn)("aspect-square h-4 w-4 min-w-4 min-h-4","rounded-full border group-data-[state=checked]:border-foreground-muted","group-focus:border-foreground-muted","group-hover:border-foreground-muted","ring-offset-background","group-focus:outline-none","group-focus-visible:ring-2 group-focus-visible:ring-ring group-focus-visible:ring-offset-2","flex items-center justify-center","transition"),children:(0,n.jsx)(l.C1,{className:"flex items-center justify-center",children:(0,n.jsx)(s.A,{className:"h-2.5 w-2.5 fill-current text-current"})})}),(0,n.jsxs)("div",{className:"flex flex-col gap-0.25 items-start",children:[(0,n.jsx)(o.J,{htmlFor:d.value,className:(0,i.cn)("block","-mt-[0.15rem]","text-sm transition-colors text-left","text-light","enabled:group-hover:text-foreground group-data-[state=checked]:text-foreground"),children:r}),d.description&&(0,n.jsx)("p",{className:"text-sm text-foreground-lighter",children:d.description}),d.children]})]})})});d.displayName="RadioGroupStackedItem"},39551:(e,t,a)=>{"use strict";var n=a(23727),l=a(93226).Buffer,r=a.g.crypto||a.g.msCrypto;r&&r.getRandomValues?e.exports=function(e,t){if(e>0xffffffff)throw RangeError("requested too many random bytes");var a=l.allocUnsafe(e);if(e>0)if(e>65536)for(var s=0;s<e;s+=65536)r.getRandomValues(a.slice(s,s+65536));else r.getRandomValues(a);return"function"==typeof t?n.nextTick(function(){t(null,a)}):a}:e.exports=function(){throw Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},40884:(e,t,a)=>{"use strict";a.d(t,{R:()=>n});let n={oauthApps:e=>[e,"oauth-apps"],authorizedApps:e=>[e,"authorized-apps"]}},41981:(e,t,a)=>{"use strict";a.d(t,{Qw:()=>o,mN:()=>i});var n=a(67850),l=a(24523),r=a(30659);async function s(e,t){let{cloudProvider:a,dbRegion:n,organizationSlug:r}=e;if(!r)throw Error("organizationSlug is required");let{data:s,error:o}=await (0,l.bE)("/platform/organizations/{slug}/available-versions",{params:{path:{slug:r}},body:{provider:a,region:n},signal:t});return o&&(0,l.H4)(o),s}let o=function(e){let{cloudProvider:t,dbRegion:a,organizationSlug:l}=e,{enabled:o=!0,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:r.n.projectCreationPostgresVersions(l,t,a),queryFn:e=>{let{signal:n}=e;return s({organizationSlug:l,cloudProvider:t,dbRegion:a},n)},enabled:o&&void 0!==l&&"_"!==l&&void 0!==a,...i})},i=(e,t)=>{var a;let{cloudProvider:n,dbRegion:l,organizationSlug:r}=e,{enabled:s}=t,{data:i}=o({cloudProvider:n,dbRegion:l,organizationSlug:r},{enabled:s});return(null!=(a=null==i?void 0:i.available_versions)?a:[]).find(e=>"17-oriole"===e.postgres_engine)}},45908:(e,t,a)=>{"use strict";a.d(t,{N:()=>l});var n=a(85039);let l={micro:{label:"Micro",ram:"1 GB",cpu:"2-core",priceHourly:.01344,priceMonthly:10,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id,n.xq.FLY.id]},small:{label:"Small",ram:"2 GB",cpu:"2-core",priceHourly:.0206,priceMonthly:15,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id,n.xq.FLY.id]},medium:{label:"Medium",ram:"4 GB",cpu:"2-core",priceHourly:.0822,priceMonthly:60,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id,n.xq.FLY.id]},large:{label:"Large",ram:"8 GB",cpu:"2-core",priceHourly:.1517,priceMonthly:110,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id,n.xq.FLY.id]},xlarge:{label:"XL",ram:"16 GB",cpu:"4-core",priceHourly:.2877,priceMonthly:210,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id,n.xq.FLY.id]},"2xlarge":{label:"2XL",ram:"32 GB",cpu:"8-core",priceHourly:.562,priceMonthly:410,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id,n.xq.FLY.id]},"4xlarge":{label:"4XL",ram:"64 GB",cpu:"16-core",priceHourly:1.32,priceMonthly:960,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id,n.xq.FLY.id]},"8xlarge":{label:"8XL",ram:"128 GB",cpu:"32-core",priceHourly:2.562,priceMonthly:1870,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]},"12xlarge":{label:"12XL",ram:"192 GB",cpu:"48-core",priceHourly:3.836,priceMonthly:2800,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]},"16xlarge":{label:"16XL",ram:"256 GB",cpu:"64-core",priceHourly:5.12,priceMonthly:3730,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]},"24xlarge":{label:"24XL",ram:"384 GB",cpu:"96-core",priceHourly:9.73,priceMonthly:7100,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]},"24xlarge_optimized_cpu":{label:"24XL - Optimized CPU",ram:"192 GB",cpu:"96-core",priceHourly:8.9,priceMonthly:6500,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]},"24xlarge_optimized_memory":{label:"24XL - Optimized Memory",ram:"768 GB",cpu:"96-core",priceHourly:13.84,priceMonthly:10100,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]},"24xlarge_high_memory":{label:"24XL - High Memory",ram:"1536 GB",cpu:"96-core",priceHourly:21.91,priceMonthly:16e3,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]},"48xlarge":{label:"48XL",ram:"768 GB",cpu:"192-core",priceHourly:19.47,priceMonthly:14200,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]},"48xlarge_optimized_cpu":{label:"48XL - Optimized CPU",ram:"384 GB",cpu:"192-core",priceHourly:17.8,priceMonthly:13e3,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]},"48xlarge_optimized_memory":{label:"48XL - Optimized Memory",ram:"1536 GB",cpu:"192-core",priceHourly:27.68,priceMonthly:20200,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]},"48xlarge_high_memory":{label:"48XL - High Memory",ram:"3072 GB",cpu:"192-core",priceHourly:43.84,priceMonthly:32e3,cloud_providers:[n.xq.AWS.id,n.xq.AWS_K8S.id,n.xq.AWS_NIMBUS.id]}}},53169:(e,t,a)=>{"use strict";a.d(t,{n:()=>o});var n=a(67850),l=a(24523),r=a(40884);async function s(e,t){let{slug:a}=e;if(!a)throw Error("Organization slug is required");let{data:n,error:r}=await (0,l.Jt)("/platform/organizations/{slug}/oauth/apps",{params:{path:{slug:a},query:{type:"authorized"}}});return r&&(0,l.H4)(r),n}let o=function(e){let{slug:t}=e,{enabled:a=!0,...l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:r.R.authorizedApps(t),queryFn:e=>{let{signal:a}=e;return s({slug:t},a)},enabled:a&&void 0!==t,...l})}},53421:(e,t,a)=>{"use strict";a.d(t,{w:()=>d});var n=a(80210),l=a(73969),r=a(24523),s=a(85039),o=a(64048),i=a(21890);async function c(e){let{name:t,organizationSlug:a,dbPass:n,dbRegion:l,regionSelection:o,dbSql:i,cloudProvider:c=s.xq.AWS.id,authSiteUrl:d,customSupabaseRequest:u,dbInstanceSize:m,dataApiExposedSchemas:h,dataApiUseApiSchema:p,postgresEngine:x,releaseChannel:g}=e,f={cloud_provider:c,organization_slug:a,name:t,db_pass:n,db_region:l,region_selection:o,db_sql:i,auth_site_url:d,...void 0!==u&&{custom_supabase_internal_requests:u},desired_instance_size:m,data_api_exposed_schemas:h,data_api_use_api_schema:p,postgres_engine:x,release_channel:g},{data:j,error:v}=await (0,r.bE)("/platform/projects",{body:f});return v&&(0,r.H4)(v),j}let d=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{invalidateProjectsQuery:r}=(0,i.XJ)();return(0,n.n)({mutationFn:e=>c(e),async onSuccess(t,a,n){await r(),await (null==e?void 0:e(t,a,n))},async onError(e,a,n){void 0===t?l.oR.error("Failed to create new project: ".concat(e.message)):t(e,a,n),(0,o.C)(e,"create project")},...a})}},54636:(e,t,a)=>{"undefined"!=typeof window&&(window.global=window.global||window);var n,l,r={randomBytes:a(39551)},s=e.exports,o=function(){(void 0===n||n>=l.length)&&(n=0,l=r.randomBytes(256));var e=l[n];return n+=1,e},i=function(e){for(var t=o();t>=256-256%e;)t=o();return t%e},c=/[ilLI|`oO0]/g,d=[{name:"lowercase",rule:/[a-z]/},{name:"uppercase",rule:/[A-Z]/},{name:"numbers",rule:/[0-9]/},{name:"symbols",rule:/[!@#$%^&*()+_\-=}{[\]|:;"/?.><,`~]/}],u=function(e,t){for(var a="",n=e.length,l=t.length,r=0;r<n;r++)a+=t[i(l)];return e.strict&&!d.every(function(t){return!1==e[t.name]||("symbols"===t.name&&"string"==typeof e[t.name]?RegExp("["+e[t.name]+"]").test(a):t.rule.test(a))})?u(e,t):a};s.generate=function(e){if(e=e||{},Object.prototype.hasOwnProperty.call(e,"length")||(e.length=10),Object.prototype.hasOwnProperty.call(e,"numbers")||(e.numbers=!1),Object.prototype.hasOwnProperty.call(e,"symbols")||(e.symbols=!1),Object.prototype.hasOwnProperty.call(e,"exclude")||(e.exclude=""),Object.prototype.hasOwnProperty.call(e,"uppercase")||(e.uppercase=!0),Object.prototype.hasOwnProperty.call(e,"lowercase")||(e.lowercase=!0),Object.prototype.hasOwnProperty.call(e,"excludeSimilarCharacters")||(e.excludeSimilarCharacters=!1),Object.prototype.hasOwnProperty.call(e,"strict")||(e.strict=!1),e.strict&&1+ +!!e.numbers+ +!!e.symbols+ +!!e.uppercase>e.length)throw TypeError("Length must correlate with strict guidelines");var t="";if(e.lowercase&&(t+="abcdefghijklmnopqrstuvwxyz"),e.uppercase&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),e.numbers&&(t+="0123456789"),e.symbols&&("string"==typeof e.symbols?t+=e.symbols:t+='!@#$%^&*()+_-=}{[]|:;"/?.><,`~'),!t)throw TypeError("At least one rule for pools must be true");e.excludeSimilarCharacters&&(t=t.replace(c,""));for(var a=e.exclude.length;a--;)t=t.replace(e.exclude[a],"");return u(e,t)},s.generateMultiple=function(e,t){for(var a=[],n=0;n<e;n++)a[n]=s.generate(t);return a}},56217:(e,t,a)=>{"use strict";a.d(t,{g:()=>l});var n=a(85039);function l(e){switch(e){case n.xq.AWS.id:return"ARM";case n.xq.FLY.id:return"x86 64-bit";default:return""}}},56409:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(67850),l=a(24523),r=a(19965);async function s(e,t){let{slug:a}=e;if(!a)throw Error("slug is required");let{data:n,error:r}=await (0,l.Jt)("/platform/organizations/{slug}/members/reached-free-project-limit",{params:{path:{slug:a}},signal:t});return r&&(0,l.H4)(r),n}let o=function(e){let{slug:t}=e,{enabled:a=!0,...l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:r.O.freeProjectLimitCheck(t),queryFn:e=>{let{signal:a}=e;return s({slug:t},a)},enabled:a&&void 0!==t,...l})}},57125:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(80263),l=a(98103),r=a(61113),s=a(86510),o=a(52555),i=a.n(o),c=a(53239),d=a(99779);let u=(0,c.forwardRef)((e,t)=>{let{icon:a,title:o,description:u,url:m,urlLabel:h="Read more",defaultVisibility:p=!1,hideCollapse:x=!1,button:g,className:f="",block:j=!1}=e,[v,y]=(0,c.useState)(p);return(0,n.jsx)("div",{ref:t,role:"alert",className:"".concat(j?"block w-full":"","\n      block w-full rounded-md border bg-surface-300/25 py-3 ").concat(f),children:(0,n.jsxs)("div",{className:"flex flex-col px-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[a&&(0,n.jsx)("span",{className:"text-foreground-lighter",children:a}),(0,n.jsx)("div",{className:"flex-grow",children:(0,n.jsx)("h5",{className:"text-foreground",children:o})})]}),u&&!x?(0,n.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>y(!v),children:v?(0,n.jsx)(l.A,{size:14,strokeWidth:1.5}):(0,n.jsx)(r.A,{size:14,strokeWidth:1.5})}):null]}),(u||m||g)&&(0,n.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(v?"mt-3":""),style:{maxHeight:500*!!v},children:[(0,n.jsx)("div",{className:"text-foreground-light text-sm",children:u}),m&&(0,n.jsx)("div",{children:(0,n.jsx)(d.$,{asChild:!0,type:"default",icon:(0,n.jsx)(s.A,{}),children:(0,n.jsx)(i(),{href:m,target:"_blank",rel:"noreferrer",children:h})})}),g&&(0,n.jsx)("div",{children:g})]})]})})});u.displayName="InformationBox";let m=u},64048:(e,t,a)=>{"use strict";a.d(t,{C:()=>s});var n=a(95130),l=a(5652);let r=["email must be an email","Password is known to be weak and easy to guess, please choose a different one","A user with this email already exists","Password should contain at least one character of each","You attempted to send email to an inactive recipient","New password should be different from the old password","Invalid TOTP code entered","No SSO provider assigned for this domain","The following organization members have reached their maximum limits for the number of active free projects","db_pass must be longer than or equal to 4 characters","There are overdue invoices in the organization(s)","name should not contain a . string","Project creation in the Supabase dashboard is disabled for this Vercel-managed organization.","Your account, which is handled by the Fly Supabase extension, cannot access this endpoint.","already exists in your organization."];function s(e,t){if(e instanceof Error,e.message){var a,n;if(e instanceof l.o)return void function(e,t){let{code:a,message:n,requestPathname:l}=e;l&&a?a>=500&&o({context:t,message:"requestPathname ".concat(l," w/ message: ").concat(n)}):o({message:"Response Error (no code or requestPathname) w/ message: ".concat(e.message),context:t})}(e,t);if(e instanceof Error)return void function(e,t){let a=e.message;a&&o({message:a,context:t})}(e,t);a=e,n=t,a&&"object"==typeof a&&"message"in a&&"string"==typeof a.message&&o({message:a.message,context:n})}}function o(e){let{message:t,context:a}=e;r.some(e=>t.includes(e))||n.wd("[CRITICAL][".concat(a,"] Failed: ").concat(t))}},73430:(e,t,a)=>{"use strict";a.d(t,{o:()=>g});var n=a(80263),l=a(8865),r=a(11743),s=a(52555),o=a.n(s),i=a(22891),c=a(78039),d=a(80100),u=a(21650);let m=e=>(0,n.jsx)(c.Zp,{className:(0,d.cn)("grow bg-surface-100 p-3 transition-colors hover:bg-surface-200 border border-light hover:border-default cursor-pointer",e.className),onClick:e.onClick,"data-sentry-element":"Card","data-sentry-component":"ActionCard","data-sentry-source-file":"ActionCard.tsx",children:(0,n.jsxs)("div",{className:"relative flex items-start gap-3",children:[e.isBeta&&(0,n.jsx)(u.E,{className:"absolute -right-5 -top-5 bg-surface-300 bg-opacity-100 text-xs text-foreground",children:"Coming soon"}),(0,n.jsx)("div",{className:"rounded-full ".concat(e.bgColor," w-8 h-8 flex items-center justify-center flex-shrink-0"),children:e.icon}),(0,n.jsxs)("div",{className:"flex-grow flex flex-col gap-0 min-w-0",children:[(0,n.jsx)("h3",{title:e.title,className:"text-sm text-foreground mb-0 truncate max-w-full",children:e.title}),"string"==typeof e.description?(0,n.jsx)("pre",{className:"text-xs text-foreground-light font-sans",children:e.description}):e.description]})]})});var h=a(21890),p=a(53239),x=a(30404);let g=e=>{var t;let{organization:a,href:s,isLink:c=!0,className:u}=e,g=(0,i.fG)(),{data:f}=(0,h.C0)({slug:a.slug}),j=null!=(t=null==f?void 0:f.pages[0].pagination.count)?t:0,v=a.organization_requires_mfa,y=c?o():p.Fragment;return(0,n.jsx)(y,{href:null!=s?s:"/org/".concat(a.slug),"data-sentry-element":"Parent","data-sentry-component":"OrganizationCard","data-sentry-source-file":"OrganizationCard.tsx",children:(0,n.jsx)(m,{bgColor:"bg border",className:(0,d.cn)("flex items-center min-h-[70px] [&>div]:w-full [&>div]:items-center",u),icon:(0,n.jsx)(l.A,{size:18,strokeWidth:1,className:"text-foreground"}),title:a.name,description:(0,n.jsxs)("div",{className:"flex items-center justify-between text-xs text-foreground-light font-sans",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-1.5",children:[(0,n.jsxs)("span",{children:[a.plan.name," Plan"]}),j>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"â€¢"}),(0,n.jsxs)("span",{children:[j," project",j>1?"s":""]})]})]}),v&&(0,n.jsxs)(x.m_,{children:[(0,n.jsx)(x.k$,{className:"cursor-default",children:(0,n.jsx)(r.A,{size:12})}),(0,n.jsx)(x.ZI,{side:"bottom",className:g?"":"w-80",children:"MFA enforced"})]})]}),"data-sentry-element":"ActionCard","data-sentry-source-file":"OrganizationCard.tsx"})})}},73699:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(80263),l=a(85039);let r=e=>{let{passwordStrengthScore:t=0,passwordStrengthMessage:a="",password:r="",generateStrongPassword:s}=e;return(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)("div",{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":l.Ny[t],"aria-valuetext":l.Ny[t],role:"progressbar",className:"mb-2 overflow-hidden transition-all border rounded bg-200 w-full",children:(0,n.jsx)("div",{style:{width:l.Ny[t]},className:"relative h-1 w-full ".concat(l.Yf[t]," transition-all duration-500 ease-out shadow-inner")})}),(0,n.jsxs)("p",{children:[(a||"This is the password to your Postgres database, so it must be strong and hard to guess.")+" ",(0,n.jsx)("span",{className:"text-inherit underline hover:text-foreground transition-colors cursor-pointer",onClick:s,children:"Generate a password"}),"."]})]})}},77643:(e,t,a)=>{"use strict";a.d(t,{u:()=>r});var n=a(92357),l=a.n(n);let r=()=>l().generate({length:16,numbers:!0,uppercase:!0})},78540:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,U:()=>o});var n=a(80263),l=a(9497);let r=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex w-full flex-col","data-sentry-component":"WizardLayout","data-sentry-source-file":"WizardLayout.tsx",children:(0,n.jsx)("div",{className:"overflow-auto",children:(0,n.jsx)("section",{className:"has-slide-in slide-in relative mx-auto my-10 max-w-2xl",children:t})})})},s=(0,l.r)(r),o=r},80190:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eG});var n=a(80263),l=a(32981),r=a(72112),s=a(52555),o=a.n(s),i=a(80814),c=a(53239),d=a(87494),u=a(73969),m=a(63324),h=a(22891),p=a(76196),x=a(41273),g=a(64778),f=a(85039),j=a(65887),v=a(26819),y=a(21650),b=a(80100),S=a(66755),w=a(44725),N=a(44053);let _=e=>{let{form:t,layout:a="horizontal",collapsible:l=!0}=e,r=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.zB,{name:"useOrioleDb",control:t.control,render:e=>{let{field:l}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(N.M,{layout:a,label:"Postgres Type",className:"[&>div>label]:!break-normal",children:[(0,n.jsx)(j.MJ,{children:(0,n.jsxs)(v.s,{onValueChange:e=>l.onChange("true"===e),defaultValue:l.value.toString(),children:[(0,n.jsx)(j.eI,{asChild:!0,children:(0,n.jsx)(j.MJ,{children:(0,n.jsx)(v.v,{value:"false",label:(0,n.jsxs)(n.Fragment,{children:["Postgres",(0,n.jsx)(y.E,{color:"scale",className:"ml-2",children:"Default"})]}),description:"Recommended for production workloads",className:"[&>div>div>p]:text-left [&>div>div>p]:text-xs"})})}),(0,n.jsx)(j.eI,{asChild:!0,children:(0,n.jsx)(j.MJ,{children:(0,n.jsx)(v.v,{value:"true",label:(0,n.jsxs)(n.Fragment,{children:["Postgres with OrioleDB",(0,n.jsx)(y.E,{color:"warning",className:"ml-2",children:"Alpha"})]}),description:"Not recommended for production workloads",className:(0,b.cn)("[&>div>div>p]:text-left [&>div>div>p]:text-xs",t.getValues("useOrioleDb")?"!rounded-b-none":"")})})})]})}),t.getValues("useOrioleDb")&&(0,n.jsx)(w.Z,{type:"warning",className:"rounded-t-none [&>div]:text-xs",title:"OrioleDB is not production ready",description:"Postgres with OrioleDB extension is currently in Public Alpha and not recommended for production usage yet.",children:(0,n.jsx)(x.A,{className:"mt-2",href:"".concat(f.aq,"/guides/database/orioledb")})})]})})}}),(0,n.jsx)("p",{className:"text-xs text-foreground-lighter mt-3",children:"These settings cannot be changed after the project is created"})]}),s=(0,n.jsxs)(S.Nt,{children:[(0,n.jsxs)(S.R6,{className:"group/advanced-trigger font-mono uppercase tracking-widest text-xs flex items-center gap-1 text-foreground-lighter/75 hover:text-foreground-light transition data-[state=open]:text-foreground-light",children:["Advanced Configuration",(0,n.jsx)(p.A,{size:16,strokeWidth:1,className:"mr-2 group-data-[state=open]/advanced-trigger:rotate-90 group-hover/advanced-trigger:text-foreground-light transition"})]}),(0,n.jsx)(S.Ke,{className:(0,b.cn)("pt-5 data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down"),children:r})]});return(0,n.jsx)(g.A.Content,{"data-sentry-element":"Panel.Content","data-sentry-component":"AdvancedConfiguration","data-sentry-source-file":"AdvancedConfiguration.tsx",children:l?s:r})};var A=a(14988),C=a(66329),P=a(10723),M=a(45908),z=a(56217);let q={AF:{lat:33,lon:65},AX:{lat:60.116667,lon:19.9},AL:{lat:41,lon:20},DZ:{lat:28,lon:3},AS:{lat:-14.3333,lon:-170},AD:{lat:42.5,lon:1.6},AO:{lat:-12.5,lon:18.5},AI:{lat:18.25,lon:-63.1667},AQ:{lat:-90,lon:0},AG:{lat:17.05,lon:-61.8},AR:{lat:-34,lon:-64},AM:{lat:40,lon:45},AW:{lat:12.5,lon:-69.9667},AU:{lat:-27,lon:133},AT:{lat:47.3333,lon:13.3333},AZ:{lat:40.5,lon:47.5},BS:{lat:24.25,lon:-76},BH:{lat:26,lon:50.55},BD:{lat:24,lon:90},BB:{lat:13.1667,lon:-59.5333},BY:{lat:53,lon:28},BE:{lat:50.8333,lon:4},BZ:{lat:17.25,lon:-88.75},BJ:{lat:9.5,lon:2.25},BM:{lat:32.3333,lon:-64.75},BT:{lat:27.5,lon:90.5},BO:{lat:-17,lon:-65},BQ:{lat:12.183333,lon:-68.233333},BA:{lat:44,lon:18},BW:{lat:-22,lon:24},BV:{lat:-54.4333,lon:3.4},BR:{lat:-10,lon:-55},IO:{lat:-6,lon:71.5},BN:{lat:4.5,lon:114.6667},BG:{lat:43,lon:25},BF:{lat:13,lon:-2},MM:{lat:22,lon:98},BI:{lat:-3.5,lon:30},KH:{lat:13,lon:105},CM:{lat:6,lon:12},CA:{lat:60,lon:-95},CV:{lat:16,lon:-24},KY:{lat:19.5,lon:-80.5},CF:{lat:7,lon:21},TD:{lat:15,lon:19},CL:{lat:-30,lon:-71},CN:{lat:35,lon:105},CX:{lat:-10.5,lon:105.6667},CC:{lat:-12.5,lon:96.8333},CO:{lat:4,lon:-72},KM:{lat:-12.1667,lon:44.25},CD:{lat:0,lon:25},CG:{lat:-1,lon:15},CK:{lat:-21.2333,lon:-159.7667},CR:{lat:10,lon:-84},CI:{lat:8,lon:-5},HR:{lat:45.1667,lon:15.5},CU:{lat:21.5,lon:-80},CW:{lat:12.166667,lon:-68.966667},CY:{lat:35,lon:33},CZ:{lat:49.75,lon:15.5},DK:{lat:56,lon:10},DJ:{lat:11.5,lon:43},DM:{lat:15.4167,lon:-61.3333},DO:{lat:19,lon:-70.6667},EC:{lat:-2,lon:-77.5},EG:{lat:27,lon:30},SV:{lat:13.8333,lon:-88.9167},GQ:{lat:2,lon:10},ER:{lat:15,lon:39},EE:{lat:59,lon:26},ET:{lat:8,lon:38},FK:{lat:-51.75,lon:-59},FO:{lat:62,lon:-7},FJ:{lat:-18,lon:175},FI:{lat:64,lon:26},FR:{lat:46,lon:2},GF:{lat:4,lon:-53},PF:{lat:-15,lon:-140},TF:{lat:-43,lon:67},GA:{lat:-1,lon:11.75},GM:{lat:13.4667,lon:-16.5667},GE:{lat:42,lon:43.5},DE:{lat:51,lon:9},GH:{lat:8,lon:-2},GI:{lat:36.1833,lon:-5.3667},GR:{lat:39,lon:22},GL:{lat:72,lon:-40},GD:{lat:12.1167,lon:-61.6667},GP:{lat:16.25,lon:-61.5833},GU:{lat:13.4667,lon:144.7833},GT:{lat:15.5,lon:-90.25},GG:{lat:49.5,lon:-2.56},GW:{lat:12,lon:-15},GN:{lat:11,lon:-10},GY:{lat:5,lon:-59},HT:{lat:19,lon:-72.4167},HM:{lat:-53.1,lon:72.5167},VA:{lat:41.9,lon:12.45},HN:{lat:15,lon:-86.5},HK:{lat:22.25,lon:114.1667},HU:{lat:47,lon:20},IS:{lat:65,lon:-18},IN:{lat:20,lon:77},ID:{lat:-5,lon:120},IR:{lat:32,lon:53},IQ:{lat:33,lon:44},IE:{lat:53,lon:-8},IM:{lat:54.23,lon:-4.55},IL:{lat:31.5,lon:34.75},IT:{lat:42.8333,lon:12.8333},JM:{lat:18.25,lon:-77.5},JP:{lat:36,lon:138},JE:{lat:49.21,lon:-2.13},JO:{lat:31,lon:36},KZ:{lat:48,lon:68},KE:{lat:1,lon:38},KI:{lat:1.4167,lon:173},KP:{lat:40,lon:127},KR:{lat:37,lon:127.5},XK:{lat:42.583333,lon:21},KW:{lat:29.3375,lon:47.6581},KG:{lat:41,lon:75},LA:{lat:18,lon:105},LV:{lat:57,lon:25},LB:{lat:33.8333,lon:35.8333},LS:{lat:-29.5,lon:28.5},LR:{lat:6.5,lon:-9.5},LY:{lat:25,lon:17},LI:{lat:47.1667,lon:9.5333},LT:{lat:56,lon:24},LU:{lat:49.75,lon:6.1667},MO:{lat:22.1667,lon:113.55},MK:{lat:41.8333,lon:22},MG:{lat:-20,lon:47},MW:{lat:-13.5,lon:34},MY:{lat:2.5,lon:112.5},MV:{lat:3.25,lon:73},ML:{lat:17,lon:-4},MT:{lat:35.8333,lon:14.5833},MH:{lat:9,lon:168},MQ:{lat:14.6667,lon:-61},MR:{lat:20,lon:-12},MU:{lat:-20.2833,lon:57.55},YT:{lat:-12.8333,lon:45.1667},MX:{lat:23,lon:-102},FM:{lat:6.9167,lon:158.25},MD:{lat:47,lon:29},MC:{lat:43.7333,lon:7.4},MN:{lat:46,lon:105},ME:{lat:42,lon:19},MS:{lat:16.75,lon:-62.2},MA:{lat:32,lon:-5},MZ:{lat:-18.25,lon:35},NA:{lat:-22,lon:17},NR:{lat:-.5333,lon:166.9167},NP:{lat:28,lon:84},AN:{lat:12.25,lon:-68.75},NL:{lat:52.5,lon:5.75},NC:{lat:-21.5,lon:165.5},NZ:{lat:-41,lon:174},NI:{lat:13,lon:-85},NE:{lat:16,lon:8},NG:{lat:10,lon:8},NU:{lat:-19.0333,lon:-169.8667},NF:{lat:-29.0333,lon:167.95},MP:{lat:15.2,lon:145.75},NO:{lat:62,lon:10},OM:{lat:21,lon:57},PK:{lat:30,lon:70},PW:{lat:7.5,lon:134.5},PS:{lat:32,lon:35.25},PA:{lat:9,lon:-80},PG:{lat:-6,lon:147},PY:{lat:-23,lon:-58},PE:{lat:-10,lon:-76},PH:{lat:13,lon:122},PN:{lat:-24.7,lon:-127.4},PL:{lat:52,lon:20},PT:{lat:39.5,lon:-8},PR:{lat:18.25,lon:-66.5},QA:{lat:25.5,lon:51.25},RE:{lat:-21.1,lon:55.6},RO:{lat:46,lon:25},RU:{lat:60,lon:100},RW:{lat:-2,lon:30},BL:{lat:17.897728,lon:-62.834244},SH:{lat:-15.9333,lon:-5.7},KN:{lat:17.3333,lon:-62.75},LC:{lat:13.8833,lon:-61.1333},MF:{lat:18.075278,lon:-63.06},PM:{lat:46.8333,lon:-56.3333},VC:{lat:13.25,lon:-61.2},WS:{lat:-13.5833,lon:-172.3333},SM:{lat:43.7667,lon:12.4167},ST:{lat:1,lon:7},SA:{lat:25,lon:45},SN:{lat:14,lon:-14},RS:{lat:44,lon:21},SC:{lat:-4.5833,lon:55.6667},SL:{lat:8.5,lon:-11.5},SG:{lat:1.3667,lon:103.8},SX:{lat:18.033333,lon:-63.05},SK:{lat:48.6667,lon:19.5},SI:{lat:46,lon:15},SB:{lat:-8,lon:159},SO:{lat:10,lon:49},ZA:{lat:-29,lon:24},GS:{lat:-54.5,lon:-37},SS:{lat:8,lon:30},ES:{lat:40,lon:-4},LK:{lat:7,lon:81},SD:{lat:15,lon:30},SR:{lat:4,lon:-56},SJ:{lat:78,lon:20},SZ:{lat:-26.5,lon:31.5},SE:{lat:62,lon:15},CH:{lat:47,lon:8},SY:{lat:35,lon:38},TW:{lat:23.5,lon:121},TJ:{lat:39,lon:71},TZ:{lat:-6,lon:35},TH:{lat:15,lon:100},TL:{lat:-8.55,lon:125.5167},TG:{lat:8,lon:1.1667},TK:{lat:-9,lon:-172},TO:{lat:-20,lon:-175},TT:{lat:11,lon:-61},TN:{lat:34,lon:9},TR:{lat:39,lon:35},TM:{lat:40,lon:60},TC:{lat:21.75,lon:-71.5833},TV:{lat:-8,lon:178},UG:{lat:1,lon:32},UA:{lat:49,lon:32},AE:{lat:24,lon:54},GB:{lat:54,lon:-2},UM:{lat:19.2833,lon:166.6},US:{lat:38,lon:-97},UY:{lat:-33,lon:-56},UZ:{lat:41,lon:64},VU:{lat:-16,lon:167},VE:{lat:8,lon:-66},VN:{lat:16,lon:106},VG:{lat:18.5,lon:-64.5},VI:{lat:18.3333,lon:-64.8333},WF:{lat:-13.3,lon:-176.2},EH:{lat:24.5,lon:-13},YE:{lat:15,lon:48},ZM:{lat:-15,lon:30},ZW:{lat:-20,lon:30}},I=/^[^@:\/]*$/,E=["micro","small","medium"],B=e=>{let{form:t}=e;return(0,n.jsx)(g.A.Content,{"data-sentry-element":"Panel.Content","data-sentry-component":"ComputeSizeSelector","data-sentry-source-file":"ComputeSizeSelector.tsx",children:(0,n.jsx)(j.zB,{control:t.control,name:"instanceSize",render:e=>{let{field:a}=e;return(0,n.jsx)(N.M,{layout:"horizontal",label:"Compute size",description:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("p",{children:["The size for your dedicated database. You can change this later. Learn more about"," ",(0,n.jsx)(P.g,{target:"_blank",rel:"noopener noreferrer",className:"text-inherit hover:text-foreground transition-colors",href:"".concat(f.aq,"/guides/platform/compute-add-ons"),children:"compute add-ons"})," ","and"," ",(0,n.jsx)(P.g,{target:"_blank",rel:"noopener noreferrer",className:"text-inherit hover:text-foreground transition-colors",href:"".concat(f.aq,"/guides/platform/manage-your-usage/compute"),children:"compute billing"}),"."]})}),children:(0,n.jsxs)(C.l6,{value:a.value,onValueChange:e=>a.onChange(e),children:[(0,n.jsx)(C.bq,{className:"[&>span>div>div>[data-field=instance-details]]:hidden",children:(0,n.jsx)(C.yv,{placeholder:"Select a compute size"})}),(0,n.jsx)(C.gC,{children:(0,n.jsxs)(C.s3,{children:[E.filter(e=>M.N[e].cloud_providers.includes(t.getValues("cloudProvider"))).map(e=>(0,n.jsx)(C.eb,{value:e,children:(0,n.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,n.jsx)("div",{className:"text-center w-[80px]",children:(0,n.jsx)(y.E,{variant:"micro"===e?"default":"brand",className:"rounded-md w-16 text-center flex justify-center font-mono uppercase",children:M.N[e].label})}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsxs)("span",{className:"text-foreground",children:[M.N[e].ram," RAM /"," ",M.N[e].cpu," ",(0,z.g)(t.getValues("cloudProvider"))," ","CPU"]}),(0,n.jsxs)("p",{translate:"no",className:"text-xs text-foreground-light","data-field":"instance-details",children:["$",M.N[e].priceHourly,"/hour (~$",M.N[e].priceMonthly,"/month)"]})]})]})},e)),(0,n.jsx)(C.eb,{value:"disabled",disabled:!0,children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,n.jsx)("span",{children:"Larger instance sizes available after creation"})})},"disabled")]})})]})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"ComputeSizeSelector.tsx"})})};var W=a(27371),R=a(73699),F=a(15192),T=a(77643),O=a(64758);let V=()=>(0,n.jsxs)("p",{className:"mb-2","data-sentry-component":"SpecialSymbolsCallout","data-sentry-source-file":"SpecialSymbolsCallout.tsx",children:["Note: If using the Postgres connection string, you will need to"," ",(0,n.jsx)(P.g,{href:"".concat(f.aq,"/guides/database/postgres/roles#special-symbols-in-passwords"),"data-sentry-element":"InlineLink","data-sentry-source-file":"SpecialSymbolsCallout.tsx",children:"percent-encode"})," ","the password"]}),L=e=>{let{form:t,passwordStrengthMessage:a,setPasswordStrengthMessage:l,setPasswordStrengthWarning:r}=e;async function s(e){let{message:a,warning:n,strength:s}=await (0,F.B)(e);t.setValue("dbPassStrength",s),t.trigger("dbPassStrength"),t.trigger("dbPass"),r(n),l(a)}function o(){let e=(0,T.u)();t.setValue("dbPass",e),s(e)}return(0,n.jsx)(g.A.Content,{"data-sentry-element":"Panel.Content","data-sentry-component":"DatabasePasswordInput","data-sentry-source-file":"DatabasePasswordInput.tsx",children:(0,n.jsx)(j.zB,{control:t.control,name:"dbPass",render:e=>{let{field:l}=e,r=l.value.length>0&&!l.value.match(I);return(0,n.jsx)(N.M,{label:"Database password",layout:"horizontal",description:(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)(V,{}),(0,n.jsx)(R.A,{passwordStrengthScore:t.getValues("dbPassStrength"),password:l.value,passwordStrengthMessage:a,generateStrongPassword:o})]}),children:(0,n.jsx)(j.MJ,{children:(0,n.jsx)(O.p,{copy:l.value.length>0,type:"password",placeholder:"Type in a strong password",...l,autoComplete:"off",onChange:async e=>{l.onChange(e),t.trigger("dbPassStrength");let a=e.target.value;""===e.target.value?(await t.setValue("dbPassStrength",0),await t.trigger("dbPass")):await s(a)}})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"DatabasePasswordInput.tsx"})})};var k=a(12123),U=a(57125);let G=e=>{let{title:t}=e;return(0,n.jsx)(g.A.Content,{className:"pb-8","data-sentry-element":"Panel.Content","data-sentry-component":"DisabledWarningDueToIncident","data-sentry-source-file":"DisabledWarningDueToIncident.tsx",children:(0,n.jsx)(U.A,{icon:(0,n.jsx)(k.A,{size:20,strokeWidth:1.5}),defaultVisibility:!0,hideCollapse:!0,title:t,description:(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsxs)("p",{className:"text-sm leading-normal",children:["Our engineers are currently working on a fix. You can follow updates on"," ",(0,n.jsx)("a",{className:"text-brand",href:"https://status.supabase.com/",children:"https://status.supabase.com/"})]})}),"data-sentry-element":"InformationBox","data-sentry-source-file":"DisabledWarningDueToIncident.tsx"})})};var K=a(86541);let D=e=>{let{membersExceededLimit:t}=e;return(0,n.jsx)(g.A.Content,{"data-sentry-element":"Panel.Content","data-sentry-component":"FreeProjectLimitWarning","data-sentry-source-file":"FreeProjectLimitWarning.tsx",children:(0,n.jsx)(w.Z,{type:"default",title:"The organization has members who have exceeded their free project limits",description:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("p",{className:"text-sm leading-normal",children:"The following members have reached their maximum limits for the number of active free plan projects within organizations where they are an administrator or owner:"}),(0,n.jsx)("ul",{className:"pl-5 list-disc",children:t.map((e,t)=>(0,n.jsxs)("li",{children:[e.username||e.primary_email," (Limit: ",e.free_project_limit," free projects)"]},"member-".concat(t)))}),(0,n.jsx)("p",{className:"text-sm leading-normal",children:"These members will need to either delete, pause, or upgrade one or more of these projects before you're able to create a free project within this organization."}),(0,n.jsx)(K.I,{source:"freeProjectLimitWarning",children:"Upgrade plan"})]}),"data-sentry-element":"Admonition","data-sentry-source-file":"FreeProjectLimitWarning.tsx"})})};var H=a(22238),Y=a(80090),J=a(84512),Z=a(44168),X=a(73640),$=a(73430);let Q=e=>{let{slug:t}=e,{data:a,isSuccess:l,isLoading:r,isError:s,error:o}=(0,H.Ad)();return(0,n.jsxs)(n.Fragment,{children:["_"!==t&&(0,n.jsxs)(w.Z,{type:"danger",children:["The selected organization does not exist or you don't have permission to access it."," ",t?(0,n.jsxs)(n.Fragment,{children:["Contact the owner or administrator to create a new project in the ",(0,n.jsx)("code",{children:t})," ","organization."]}):(0,n.jsx)(n.Fragment,{children:"Contact the owner or administrator to create a new project."})]}),(0,n.jsx)("h3",{className:"text-sm",children:"Select an organization to create your new project in"}),(0,n.jsxs)("div",{className:"grid gap-2 grid-cols-2",children:[r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(X.E,{className:"h-[62px] rounded-md"}),(0,n.jsx)(X.E,{className:"h-[62px] rounded-md"}),(0,n.jsx)(X.E,{className:"h-[62px] rounded-md"})]}),s&&(0,n.jsx)(Z.A,{error:o,subject:"Failed to load organizations"}),l&&(null==a?void 0:a.map(e=>(0,n.jsx)($.o,{organization:e,href:"/new/".concat(e.slug)},e.slug)))]})]})},ee=e=>{let{slug:t}=e;return(0,n.jsx)("div",{className:"mt-4","data-sentry-component":"NotOrganizationOwnerWarning","data-sentry-source-file":"NotOrganizationOwnerWarning.tsx",children:(0,n.jsx)(U.A,{icon:(0,n.jsx)(k.A,{size:"20",strokeWidth:1.5}),defaultVisibility:!0,hideCollapse:!0,title:"You do not have permission to create a project",description:(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsx)("p",{className:"text-sm leading-normal",children:t?(0,n.jsxs)(n.Fragment,{children:["Contact the owner or administrator to create a new project in the"," ",(0,n.jsx)("code",{children:t})," organization."]}):(0,n.jsx)(n.Fragment,{children:"Contact the owner or administrator to create a new project."})})}),"data-sentry-element":"InformationBox","data-sentry-source-file":"NotOrganizationOwnerWarning.tsx"})})},et=e=>{var t;let{form:a}=e,l=(0,i.useRouter)(),{slug:s}=(0,h.g)(),{data:o}=(0,J.s)(),{can:c}=(0,Y.Qp)(r.aG.CREATE,"projects"),{data:d,isSuccess:u}=(0,H.Ad)(),m=u&&void 0===o,p=(null!=(t=null==d?void 0:d.length)?t:0)>0&&m;return(0,n.jsxs)(g.A.Content,{className:"space-y-4","data-sentry-element":"Panel.Content","data-sentry-component":"OrganizationSelector","data-sentry-source-file":"OrganizationSelector.tsx",children:[c&&!m&&(0,n.jsx)(j.zB,{control:a.control,name:"organization",render:e=>{var t;let{field:a}=e;return(0,n.jsx)(N.M,{label:"Organization",layout:"horizontal",children:(null!=(t=null==d?void 0:d.length)?t:0)>0&&(0,n.jsxs)(C.l6,{onValueChange:e=>{a.onChange(e),l.push("/new/".concat(e))},value:a.value,defaultValue:a.value,children:[(0,n.jsx)(j.MJ,{children:(0,n.jsx)(C.bq,{children:(0,n.jsx)(C.yv,{placeholder:"Select an organization"})})}),(0,n.jsx)(C.gC,{children:(0,n.jsx)(C.s3,{children:null==d?void 0:d.map(e=>(0,n.jsxs)(C.eb,{value:e.slug,className:"flex justify-between",children:[(0,n.jsx)("span",{className:"mr-2",children:e.name}),(0,n.jsx)(y.E,{children:e.plan.name})]},e.id))})})]})})}}),u&&!c&&!p&&(0,n.jsx)(ee,{slug:s}),p&&(0,n.jsx)(Q,{slug:s})]})};var ea=a(96639),en=a(10663);let el=en.Ik({organization:en.Yj({required_error:"Please select an organization"}),projectName:en.Yj().trim().min(1,"Please enter a project name.").min(3,"Project name must be at least 3 characters long.").max(64,"Project name must be no longer than 64 characters."),postgresVersion:en.Yj({required_error:"Please enter a Postgres version."}),dbRegion:en.Yj({required_error:"Please select a region."}),cloudProvider:en.Yj({required_error:"Please select a cloud provider."}),dbPassStrength:en.ai(),dbPass:en.Yj({required_error:"Please enter a database password."}).min(1,"Password is required."),instanceSize:en.Yj().optional(),dataApi:en.zM(),useApiSchema:en.zM(),postgresVersionSelection:en.Yj(),useOrioleDb:en.zM()});var er=a(22847),es=a(28202),eo=a(78511),ei=a(61548),ec=a(99779),ed=a(4969);let eu=e=>{var t,a;let{form:l,canCreateProject:r,instanceSize:s,organizationProjects:o,isCreatingNewProject:c,isSuccessNewProject:d}=e,u=(0,i.useRouter)(),{data:m}=(0,J.s)(),p=(null==m||null==(t=m.plan)?void 0:t.id)==="free",x=(0,h._P)("disableProjectCreationAndUpdate"),[g]=(0,es.U)(h.rS.LAST_VISITED_ORGANIZATION,""),j=10*(0===o.length),v=p?0:M.N[s].priceMonthly-j,b=o.reduce((e,t)=>{let a=t.databases.find(e=>e.identifier===t.ref);return e+(a?(0,er.kC)(a.infra_compute_size):0)},0)+(0,er.kC)(s)-10;return(0,n.jsxs)("div",{className:"grid grid-cols-12 w-full gap-4 items-center","data-sentry-component":"ProjectCreationFooter","data-sentry-source-file":"ProjectCreationFooter.tsx",children:[(0,n.jsx)("div",{className:"col-span-4",children:!p&&!x&&r&&v>0&&(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{children:"Additional costs"}),(0,n.jsxs)("div",{className:"text-brand flex gap-1 items-center font-mono font-medium",children:[(0,n.jsxs)("span",{children:["$",v,"/m"]}),(0,n.jsxs)(ed.I,{side:"top",className:"max-w-[450px] p-0",children:[(0,n.jsxs)("div",{className:"p-4 text-sm text-foreground-light space-y-1",children:[(0,n.jsxs)("p",{children:["Each project includes a dedicated Postgres instance running on its own server. You are charged for the"," ",(0,n.jsx)(P.g,{href:"".concat(f.aq,"/guides/platform/billing-on-supabase"),children:"Compute resource"})," ","of that server, independent of your database usage."]}),b>0&&(0,n.jsx)("p",{children:"Compute costs are applied on top of your subscription plan costs."})]}),(0,n.jsxs)(eo.XI,{className:"mt-2",children:[(0,n.jsx)(eo.A0,{className:"[&_th]:h-7",children:(0,n.jsxs)(eo.Hj,{className:"py-2",children:[(0,n.jsx)(eo.nd,{className:"w-[170px]",children:"Project"}),(0,n.jsx)(eo.nd,{children:"Compute Size"}),(0,n.jsx)(eo.nd,{className:"text-right",children:"Monthly Costs"})]})}),(0,n.jsxs)(eo.BF,{className:"[&_td]:py-2",children:[o.map(e=>{let t=e.databases.find(t=>t.identifier===e.ref);return(0,n.jsxs)(eo.Hj,{className:"text-foreground-light",children:[(0,n.jsx)(eo.nA,{className:"w-[170px] truncate",children:e.name}),(0,n.jsx)(eo.nA,{className:"text-center",children:(0,er.wl)(null==t?void 0:t.infra_compute_size)}),(0,n.jsxs)(eo.nA,{className:"text-right",children:["$",(0,er.kC)(null==t?void 0:t.infra_compute_size)]})]},e.ref)}),(0,n.jsxs)(eo.Hj,{children:[(0,n.jsxs)(eo.nA,{className:"w-[170px] flex gap-2",children:[(0,n.jsx)("span",{className:"truncate",children:null!=(a=l.getValues("projectName"))?a:"New project"}),(0,n.jsx)(y.E,{size:"small",variant:"default",children:"NEW"})]}),(0,n.jsx)(eo.nA,{className:"text-center",children:(0,er.wl)(s)}),(0,n.jsxs)(eo.nA,{className:"text-right",children:["$",(0,er.kC)(s)]})]})]})]}),(0,n.jsx)(ei.zT,{}),(0,n.jsxs)(eo.XI,{children:[(0,n.jsx)(eo.A0,{className:"[&_th]:h-7",children:(0,n.jsxs)(eo.Hj,{children:[(0,n.jsx)(eo.nd,{colSpan:2,children:"Compute Credits"}),(0,n.jsx)(eo.nd,{colSpan:1,className:"text-right",children:"-$10"})]})}),(0,n.jsx)(eo.BF,{className:"[&_td]:py-2",children:(0,n.jsxs)(eo.Hj,{className:"text-foreground",children:[(0,n.jsxs)(eo.nA,{colSpan:2,children:["Total Monthly Compute Costs",o.length>0&&(0,n.jsx)("p",{className:"text-xs text-foreground-lighter",children:"Excluding Read replicas"})]}),(0,n.jsxs)(eo.nA,{colSpan:1,className:"text-right",children:["$",b]})]})})]})]})]})]})}),(0,n.jsxs)("div",{className:"flex items-end col-span-8 space-x-2 ml-auto",children:[(0,n.jsx)(ec.$,{type:"default",disabled:c||d,onClick:()=>{g?u.push("/org/".concat(g)):u.push("/organizations")},"data-sentry-element":"Button","data-sentry-source-file":"ProjectCreationFooter.tsx",children:"Cancel"}),(0,n.jsx)(ec.$,{htmlType:"submit",loading:c||d,disabled:!r,"data-sentry-element":"Button","data-sentry-source-file":"ProjectCreationFooter.tsx",children:"Create new project"})]})]},"panel-footer")},em=e=>{let{form:t}=e;return(0,n.jsx)(g.A.Content,{"data-sentry-element":"Panel.Content","data-sentry-component":"ProjectNameInput","data-sentry-source-file":"ProjectNameInput.tsx",children:(0,n.jsx)(j.zB,{control:t.control,name:"projectName",render:e=>{let{field:t}=e;return(0,n.jsx)(N.M,{label:"Project name",layout:"horizontal",children:(0,n.jsx)(j.MJ,{children:(0,n.jsx)(W.p,{...t,placeholder:"Project name"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"ProjectNameInput.tsx"})})};var eh=a(67850),ep=a(56581),ex=a(24523),eg=a(6436),ef=a(71228),ej=a(34961);async function ev(e){let{cloudProvider:t,restrictedPool:a,useRestrictedPool:n=!0}=e;if(!t)throw Error("Cloud provider is required");try{let e=await (0,ex.x8)("https://www.cloudflare.com/cdn-cgi/trace").then(e=>e.text()),l=q[Object.fromEntries(e.split("\n").map(e=>e.split("="))).loc];if(void 0===l)return;let r=["AWS","AWS_K8S"].includes(t),s=r?ep.Ed:ep.Qx,o=n&&a?Object.entries(s).filter(e=>a.includes(e[0])).reduce((e,t)=>({...e,[t[0]]:t[1]}),{}):s,i=Object.keys(o).map(e=>{let t={lat:o[e][1],lon:o[e][0]};return(0,eg.US)(l.lat,l.lon,t.lat,t.lon)}),c=Math.min(...i),d=Object.keys(o)[i.indexOf(c)];return r?ef.m_[d].displayName:ef.ac[d].displayName}catch(e){throw e}}let ey=function(e){let{cloudProvider:t,useRestrictedPool:a}=e,{enabled:n=!0,...l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,h._P)("defaultRegionRestrictedPool"),s=(0,eg.Bl)(r);return(0,eh.I)({queryKey:ej.d.defaultRegion(t,null==a||a),queryFn:()=>ev({cloudProvider:t,restrictedPool:s,useRestrictedPool:a}),enabled:n&&void 0!==t&&void 0!==s,retry:e=>e<1,...l})};var eb=a(19965);async function eS(e,t){let{slug:a,cloudProvider:n,desiredInstanceSize:l}=e;if(!a)throw Error("slug is required");let{data:r,error:s}=await (0,ex.Jt)("/platform/projects/available-regions",{params:{query:{cloud_provider:n,organization_slug:a,desired_instance_size:l}},signal:t});return s&&(0,ex.H4)(s),r}let ew=function(e){let{slug:t,cloudProvider:a,desiredInstanceSize:n}=e,{enabled:l=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,eh.I)({queryKey:eb.O.availableRegions(t,a,n),queryFn:e=>{let{signal:l}=e;return eS({slug:t,cloudProvider:a,desiredInstanceSize:n},l)},enabled:l&&void 0!==t,...r})};var eN=a(30404);let e_=e=>"APAC"===e?"Asia-Pacific":e,eA=e=>{var t,a;let{form:l,instanceSize:r,layout:s="horizontal"}=e,{slug:o}=(0,h.g)(),i=l.getValues("cloudProvider"),c=(0,h._P)("enableSmartRegion"),{isLoading:d}=ey({cloudProvider:i},{enabled:!c}),{data:u,isLoading:m,isError:p,error:x}=ew({slug:o,cloudProvider:i,desiredInstanceSize:r},{enabled:c,staleTime:3e5}),v=null!=(t=null==u?void 0:u.all.smartGroup)?t:[],S=null!=(a=null==u?void 0:u.all.specific)?a:[],w=new Set([null==u?void 0:u.recommendations.smartGroup.code].filter(Boolean)),_=new Set(null==u?void 0:u.recommendations.specific.map(e=>e.code)),A=Object.entries((0,er.R9)(f.xq[i].id)).map(e=>{let[t,a]=e;return{code:a.code,name:a.displayName,provider:i,status:void 0}}),P=c?S:A,M=c?m:d,z=[...v,...P];return p?(0,n.jsx)(Z.A,{subject:"Error loading available regions",error:x}):(0,n.jsx)(g.A.Content,{"data-sentry-element":"Panel.Content","data-sentry-component":"RegionSelector","data-sentry-source-file":"RegionSelector.tsx",children:(0,n.jsx)(j.zB,{control:l.control,name:"dbRegion",render:e=>{let{field:t}=e,a=z.find(e=>!!e.name&&e.name===t.value);return(0,n.jsx)(N.M,{layout:s,label:"Region",description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"Select the region closest to your users for the best performance."}),!1]}),children:(0,n.jsxs)(C.l6,{value:t.value,onValueChange:t.onChange,disabled:M,children:[(0,n.jsx)(C.bq,{className:"[&>:nth-child(1)]:w-full [&>:nth-child(1)]:flex [&>:nth-child(1)]:items-start",children:(0,n.jsx)(C.yv,{placeholder:M?"Loading available regions...":"Select a region for your project..",children:void 0!==t.value&&(0,n.jsxs)("div",{className:"flex items-center gap-x-3",children:[(null==a?void 0:a.code)&&(0,n.jsx)("img",{alt:"region icon",className:"w-5 rounded-sm",src:"".concat(f.o2,"/img/regions/").concat(a.code,".svg")}),(0,n.jsx)("span",{className:"text-foreground",children:(null==a?void 0:a.name)?e_(a.name):t.value})]})})}),(0,n.jsxs)(C.gC,{children:[c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(C.s3,{children:[(0,n.jsx)(C.TR,{children:"General regions"}),v.map(e=>(0,n.jsx)(C.eb,{value:e.name,className:"w-full [&>:nth-child(2)]:w-full",children:(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,n.jsx)("img",{alt:"region icon",className:"w-5 rounded-sm",src:"".concat(f.o2,"/img/regions/").concat(e.code,".svg")}),(0,n.jsx)("span",{className:"text-foreground",children:e_(e.name)})]}),(0,n.jsx)("div",{children:w.has(e.code)&&(0,n.jsx)(y.E,{variant:"success",className:"mr-1",children:"Recommended"})})]})},e.code))]}),(0,n.jsx)(C.mi,{})]}),(0,n.jsxs)(C.s3,{children:[(0,n.jsx)(C.TR,{children:"Specific regions"}),P.map(e=>(0,n.jsx)(C.eb,{value:e.name,className:(0,b.cn)("w-full [&>:nth-child(2)]:w-full",void 0!==e.status&&"!pointer-events-auto"),disabled:void 0!==e.status,children:(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between w-full gap-x-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,n.jsx)("img",{alt:"region icon",className:"w-5 rounded-sm",src:"".concat(f.o2,"/img/regions/").concat(e.code,".svg")}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsx)("span",{className:"text-foreground",children:e.name}),(0,n.jsx)("span",{className:"text-xs text-foreground-lighter font-mono",children:e.code})]})]}),_.has(e.code)&&(0,n.jsx)(y.E,{variant:"success",className:"mr-1",children:"Recommended"}),void 0!==e.status&&"capacity"===e.status&&(0,n.jsxs)(eN.m_,{children:[(0,n.jsx)(eN.k$,{children:(0,n.jsx)(y.E,{variant:"warning",className:"mr-1",children:"Unavailable"})}),(0,n.jsx)(eN.ZI,{children:"Temporarily unavailable due to this region being at capacity."})]})]})},e.code))]})]})]})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"RegionSelector.tsx"})})},eC=e=>{let{form:t,layout:a="horizontal",collapsible:l=!0}=e,r=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.zB,{name:"dataApi",control:t.control,render:e=>{let{field:l}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(N.M,{layout:a,className:"[&>div>label]:!break-normal",label:"What connections do you plan to use?",children:[(0,n.jsx)(j.MJ,{children:(0,n.jsxs)(v.s,{onValueChange:e=>l.onChange("true"===e),defaultValue:l.value.toString(),children:[(0,n.jsx)(j.eI,{asChild:!0,children:(0,n.jsx)(j.MJ,{children:(0,n.jsx)(v.v,{value:"true",className:"[&>div>div>p]:text-left [&>div>div>p]:text-xs",label:"Data API + Connection String",description:"Connect to Postgres via autogenerated HTTP APIs or the Postgres protocol"})})}),(0,n.jsx)(j.eI,{asChild:!0,children:(0,n.jsx)(j.MJ,{children:(0,n.jsx)(v.v,{label:"Only Connection String",value:"false",description:"Use Postgres without the autogenerated APIs",className:(0,b.cn)(!t.getValues("dataApi")&&"!rounded-b-none","[&>div>div>p]:text-left [&>div>div>p]:text-xs"),onClick:()=>t.setValue("useApiSchema",!1)})})})]})}),!t.getValues("dataApi")&&(0,n.jsx)(w.Z,{className:"rounded-t-none",type:"warning",title:"Data API will effectively be disabled",children:"PostgREST which powers the Data API will have no schemas available to it."})]})})}}),t.getValues("dataApi")&&(0,n.jsx)(j.zB,{name:"useApiSchema",control:t.control,render:e=>{let{field:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(N.M,{className:"mt-6",layout:a,label:"Data API configuration",children:(0,n.jsx)(j.MJ,{children:(0,n.jsxs)(v.s,{defaultValue:t.value.toString(),onValueChange:e=>t.onChange("true"===e),children:[(0,n.jsx)(j.eI,{asChild:!0,children:(0,n.jsx)(j.MJ,{children:(0,n.jsx)(v.v,{value:"false",label:(0,n.jsxs)(n.Fragment,{children:["Use public schema for Data API",(0,n.jsx)(y.E,{color:"scale",className:"ml-2",children:"Default"})]}),description:(0,n.jsxs)(n.Fragment,{children:["Query all tables in the ",(0,n.jsx)("code",{className:"text-xs",children:"public"})," schema"]}),className:"[&>div>div>p]:text-left [&>div>div>p]:text-xs"})})}),(0,n.jsx)(j.eI,{asChild:!0,children:(0,n.jsx)(j.MJ,{children:(0,n.jsx)(v.v,{value:"true",label:"Use dedicated API schema for Data API",description:(0,n.jsxs)(n.Fragment,{children:["Query allowlisted tables in a dedicated"," ",(0,n.jsx)("code",{className:"text-xs",children:"api"})," schema"]}),className:"[&>div>div>p]:text-left [&>div>div>p]:text-xs"})})})]})})})})}}),(0,n.jsx)("p",{className:"text-xs text-foreground-lighter mt-3",children:"These two security options can be changed after your project is created"})]}),s=(0,n.jsxs)(S.Nt,{children:[(0,n.jsxs)(S.R6,{className:"group/advanced-trigger font-mono uppercase tracking-widest text-xs flex items-center gap-1 text-foreground-lighter/75 hover:text-foreground-light transition data-[state=open]:text-foreground-light",children:["Security options",(0,n.jsx)(p.A,{size:16,strokeWidth:1,className:"mr-2 group-data-[state=open]/advanced-trigger:rotate-90 group-hover/advanced-trigger:text-foreground-light transition"})]}),(0,n.jsx)(S.Ke,{className:(0,b.cn)("pt-5 data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down"),children:r})]});return(0,n.jsx)(g.A.Content,{className:l?"":"p-0","data-sentry-element":"Panel.Content","data-sentry-component":"SecurityOptions","data-sentry-source-file":"SecurityOptions.tsx",children:l?s:r})};var eP=a(10508),eM=a(78540),ez=a(29805),eq=a(41981),eI=a(39797),eE=a(53169),eB=a(56409),eW=a(21890),eR=a(53421),eF=a(2657),eT=a(9497),eO=a(51982),eV=a(68421);let eL=["micro","small"],ek=()=>{var e,t,a;let s=(0,eO.n)(),p=(0,i.useRouter)(),{slug:x,projectName:v}=(0,h.g)(),y=(0,f.gh)(),{data:b}=(0,J.s)(),S=(null==b||null==(e=b.plan)?void 0:e.id)==="free",N=!S,[A]=(0,es.U)(h.rS.LAST_VISITED_ORGANIZATION,""),{can:C}=(0,Y.Qp)(r.aG.CREATE,"projects"),P=(0,eF.x)("project_creation:show_advanced_config"),z=(0,h._P)("enableSmartRegion"),q=(0,h._P)("disableProjectCreationAndUpdate"),I=(0,h._P)("showPostgresVersionSelector"),W=(0,h._P)("enableFlyCloudProvider"),R=(0,h._P)("homeNew"),F=(null==b?void 0:b.managed_by)==="vercel-marketplace",T=!["team","enterprise"].includes(null!=(t=null==b?void 0:b.plan.id)?t:"");"last-visited-org"===x&&(A?p.replace("/new/".concat(A),void 0,{shallow:!0}):p.replace("/new/_",void 0,{shallow:!0}));let[O,V]=(0,c.useState)(void 0),[k,U]=(0,c.useState)(""),[K,Z]=(0,c.useState)(""),[X,$]=(0,c.useState)(!1);el.superRefine((e,t)=>{let{dbPassStrength:a}=e;a<f.p8&&t.addIssue({code:m.eq.custom,path:["dbPass"],message:K||"Password not secure enough"})});let Q=(0,d.mN)({resolver:(0,l.u)(el),mode:"onChange",defaultValues:{organization:x,projectName:v||"",postgresVersion:"",cloudProvider:f.xq[y].id,dbPass:"",dbPassStrength:0,dbRegion:void 0,instanceSize:N?E[0]:void 0,dataApi:!0,useApiSchema:!1,postgresVersionSelection:"",useOrioleDb:!1}}),{instanceSize:ee,cloudProvider:en,dbRegion:eo,organization:ei}=Q.watch(),ed=N?null!=ee?ee:E[0]:void 0,{data:eh=[]}=(0,eB.A)({slug:x},{enabled:S}),ep=eh.length>0,ex=S&&ep,{data:eg=[],isSuccess:ej}=(0,H.Ad)(),ev=ej&&eg.length<=0,{data:eb=[]}=(0,eE.n)({slug:x},{enabled:!S&&"_"!==x}),eS=eb.length>0,{data:eN=[]}=(0,eI.E)({enabled:T}),e_=eN.filter(e=>e.organization_id===(null==b?void 0:b.id)),eP=T&&e_.length>0,{data:eM}=(0,eW.C0)({slug:null==b?void 0:b.slug}),eT=(0,c.useMemo)(()=>null==eM?void 0:eM.pages.flatMap(e=>e.projects),[null==eM?void 0:eM.pages]),ek=null!=(a=null==O?void 0:O.filter(e=>e.status!==f.BU.INACTIVE))?a:[],eU=10*(0===ek.length),eG=S?0:M.N[ed].priceMonthly-eU,{data:eK,error:eD}=ey({cloudProvider:f.xq[y].id},{enabled:!z,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnReconnect:!1,retry:!1}),{data:eH,error:eY}=ew({slug:x,cloudProvider:f.xq[en].id,desiredInstanceSize:ed},{enabled:z,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnReconnect:!1}),eJ=z?null==eH?void 0:eH.recommendations.smartGroup.name:void 0,eZ=z&&"AWS_NIMBUS"!==y?eY:eD,eX="AWS_NIMBUS"===y?ef.m_.EAST_US.displayName:z?null==eH?void 0:eH.recommendations.smartGroup.name:eK,e$=C&&!ex&&!F&&!eP,eQ=(0,er.Cr)(eo),e0=(0,eq.mN)({cloudProvider:en,dbRegion:z?eQ:eo,organizationSlug:ei},{enabled:null!==b&&!F}),{mutate:e1,isPending:e3,isSuccess:e5}=(0,eR.w)({onSuccess:e=>{s("project_creation_simple_version_submitted",{instanceSize:Q.getValues("instanceSize")},{project:e.ref,organization:e.organization_slug}),p.push(R?"/project/".concat(e.ref):"/project/".concat(e.ref,"/building"))}}),e2=async e=>{let t=e.instanceSize&&!eL.includes(e.instanceSize);eG>0&&(eS||t)?(s("project_creation_simple_version_confirm_modal_opened",{instanceSize:e.instanceSize}),$(!0)):await e6(e)},e6=async e=>{var t,a;if(!b)return console.error("Unable to retrieve current organization");let{cloudProvider:n,projectName:l,dbPass:r,dbRegion:s,postgresVersion:o,instanceSize:i,dataApi:c,useApiSchema:d,postgresVersionSelection:m,useOrioleDb:h}=e;if(h&&!e0)return u.oR.error("No available OrioleDB image found, only Postgres is available");let{postgresEngine:p,releaseChannel:x}=(0,ea.q)(m),{smartGroup:g=[],specific:f=[]}=null!=(t=null==eH?void 0:eH.all)?t:{},j=z?null!=(a=g.find(e=>e.name===s))?a:f.find(e=>e.name===s):void 0,v={dbPass:r,cloudProvider:n,organizationSlug:b.slug,name:l,dbPricingTierId:"tier_free",dbInstanceSize:S?void 0:i,dataApiExposedSchemas:c?void 0:[],dataApiUseApiSchema:!!c&&d,postgresEngine:h?null==e0?void 0:e0.postgres_engine:p,releaseChannel:h?null==e0?void 0:e0.release_channel:x,...z?{regionSelection:j}:{dbRegion:s}};o&&(o.match(/1[2-9]\..*/)||u.oR.error("Invalid Postgres version, should start with a number between 12-19, a dot and additional characters, i.e. 15.2 or 15.2.0-3"),v.customSupabaseRequest={ami:{search_tags:{"tag:postgresVersion":o}}}),e1(v)};return(0,c.useEffect)(()=>{eT&&eT.length>0&&!O&&V(eT)},[eT,O,V]),(0,c.useEffect)(()=>{ev&&p.push("/new")},[ev,p]),(0,c.useEffect)(()=>{x&&"_"!==x&&Q.setValue("organization",x),v&&Q.setValue("projectName",v||"")},[x]),(0,c.useEffect)(()=>{void 0===Q.getValues("dbRegion")&&eX&&Q.setValue("dbRegion",eX)},[eX]),(0,c.useEffect)(()=>{eZ&&Q.setValue("dbRegion",f.xq[y].default_region.displayName)},[eZ]),(0,c.useEffect)(()=>{eJ&&Q.setValue("dbRegion",eJ)},[eJ]),(0,c.useEffect)(()=>{ee!==ed&&Q.setValue("instanceSize",ed,{shouldDirty:!1,shouldValidate:!1,shouldTouch:!1})},[ed,ee,Q]),(0,n.jsx)(j.lV,{...Q,"data-sentry-element":"Form_Shadcn_","data-sentry-component":"Wizard","data-sentry-source-file":"[slug].tsx",children:(0,n.jsxs)("form",{onSubmit:Q.handleSubmit(e2),children:[(0,n.jsx)(g.A,{loading:!ej,title:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Create a new project"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter text-balance",children:"Your project will have its own dedicated instance and full Postgres database. An API will be set up so you can easily interact with your new database."})]},"panel-title"),footer:(0,n.jsx)(eu,{form:Q,canCreateProject:e$,instanceSize:ed,organizationProjects:ek,isCreatingNewProject:e3,isSuccessNewProject:e5}),"data-sentry-element":"Panel","data-sentry-source-file":"[slug].tsx",children:(0,n.jsx)(n.Fragment,{children:q?(0,n.jsx)(G,{title:"Project creation is currently disabled"}):(0,n.jsxs)("div",{className:"divide-y divide-border-muted",children:[(0,n.jsx)(et,{form:Q}),e$&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(em,{form:Q}),W&&!1,N&&(0,n.jsx)(B,{form:Q}),(0,n.jsx)(L,{form:Q,passwordStrengthMessage:k,setPasswordStrengthMessage:U,setPasswordStrengthWarning:Z}),(0,n.jsx)(eA,{form:Q,instanceSize:ed}),I&&(0,n.jsx)(g.A.Content,{children:(0,n.jsx)(j.zB,{control:Q.control,name:"postgresVersionSelection",render:e=>{let{field:t}=e;return(0,n.jsx)(ea.Z,{field:t,form:Q,cloudProvider:Q.getValues("cloudProvider"),organizationSlug:x,dbRegion:Q.getValues("dbRegion")})}})}),!1,(0,n.jsx)(eC,{form:Q}),P&&!!e0&&(0,n.jsx)(_,{form:Q})]}),ex?C&&x&&(0,n.jsx)(D,{membersExceededLimit:eh||[]}):F?(0,n.jsx)(g.A.Content,{children:(0,n.jsx)(ez.A,{managedBy:f.Kf.VERCEL_MARKETPLACE,resource:"Projects",cta:{installationId:null==b?void 0:b.partner_id,message:"Visit Vercel to create a project"}})}):eP?(0,n.jsx)(g.A.Content,{children:(0,n.jsx)(w.Z,{type:"default",title:"Your organization has overdue invoices",description:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("p",{className:"text-sm leading-normal",children:"Please resolve all outstanding invoices first before creating a new project"}),(0,n.jsx)("div",{children:(0,n.jsx)(ec.$,{asChild:!0,type:"default",children:(0,n.jsx)(o(),{href:"/org/".concat(x,"/billing#invoices"),children:"View invoices"})})})]})})}):null]})})}),(0,n.jsx)(eV.A,{size:"large",loading:!1,visible:X,title:"Confirm compute costs",confirmLabel:"I understand",onCancel:()=>$(!1),onConfirm:async()=>{let e=Q.getValues();await e6(e),$(!1)},variant:"warning","data-sentry-element":"ConfirmationModal","data-sentry-source-file":"[slug].tsx",children:(0,n.jsx)("div",{className:"text-sm text-foreground-light space-y-1",children:(0,n.jsxs)("p",{children:['Launching a project on compute size "',(0,er.wl)(ed),'" increases your monthly costs by $',eG,', independent of how actively you use it. By clicking "I understand", you agree to the additional costs.'," ",(0,n.jsx)(o(),{href:"".concat(f.aq,"/guides/platform/manage-your-usage/compute"),target:"_blank",className:"underline","data-sentry-element":"Link","data-sentry-source-file":"[slug].tsx",children:"Compute Costs"})," ","are non-refundable."]})})})]})})},eU=(0,eT.r)(e=>{let{children:t}=e;return(0,n.jsx)(eM.U,{children:t})});ek.getLayout=e=>(0,n.jsx)(eP.A,{headerTitle:"New project",children:(0,n.jsx)(eU,{children:e})});let eG=ek},86541:(e,t,a)=>{"use strict";a.d(t,{I:()=>u,W:()=>d});var n=a(80263),l=a(52555),r=a.n(l),s=a(27695),o=a(2657),i=a(84512),c=a(99779);let d="<Specify which plan to upgrade to: Pro | Team | Enterprise>",u=e=>{var t;let{source:a,type:l="default",plan:u,href:m,disabled:h,children:p}=e,{data:x}=(0,i.s)(),g=null!=(t=null==x?void 0:x.slug)?t:"_",{billingAll:f}=(0,o.x)(["billing:all"]),j="Name: ".concat(null==x?void 0:x.name,"\nSlug: ").concat(null==x?void 0:x.slug,"\nRequested plan: ").concat(null!=u?u:d),v=f?null!=m?m:"/org/".concat(g,"/billing?panel=subscriptionPlan").concat(a?"&source=".concat(a):""):"",y=p||"Upgrade to ".concat(u),b=f?(0,n.jsx)(r(),{href:v,children:y}):(0,n.jsx)(s.Y,{queryParams:{orgSlug:g,category:"Plan_upgrade",subject:"Enquiry to upgrade ".concat(u?"to ".concat(u," "):"","plan for organization"),message:j},children:y});return(0,n.jsx)(c.$,{asChild:!0,type:l,disabled:h,"data-sentry-element":"Button","data-sentry-component":"UpgradePlanButton","data-sentry-source-file":"UpgradePlanButton.tsx",children:b})}},92357:(e,t,a)=>{e.exports=a(54636)},93226:(e,t,a)=>{var n=a(15599),l=n.Buffer;function r(e,t){for(var a in e)t[a]=e[a]}function s(e,t,a){return l(e,t,a)}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?e.exports=n:(r(n,t),t.Buffer=s),s.prototype=Object.create(l.prototype),r(l,s),s.from=function(e,t,a){if("number"==typeof e)throw TypeError("Argument must not be a number");return l(e,t,a)},s.alloc=function(e,t,a){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=l(e);return void 0!==t?"string"==typeof a?n.fill(t,a):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return l(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},96639:(e,t,a)=>{"use strict";a.d(t,{Z:()=>j,q:()=>f});var n=a(80263),l=a(53239),r=a(41981),s=a(67850),o=a(24523),i=a(30659);async function c(e,t){let{projectRef:a}=e;if(!a)throw Error("projectRef is required");let{data:n,error:l}=await (0,o.Jt)("/platform/projects/{ref}/restore/versions",{params:{path:{ref:a}},signal:t});return l&&(0,o.H4)(l),n}let d=function(e){let{projectRef:t}=e,{enabled:a=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.I)({queryKey:i.n.projectUnpausePostgresVersions(t),queryFn:e=>{let{signal:a}=e;return c({projectRef:t},a)},enabled:a&&void 0!==t,...n})};var u=a(9620),m=a(66329),h=a(21650),p=a(44053),x=a(22847);let g=e=>{let{postgres_engine:t,release_channel:a}=e;return"".concat(t,"|").concat(a)},f=e=>{if(!e)return{postgresEngine:void 0,releaseChannel:void 0};let[t,a]=e.split("|");return{postgresEngine:t,releaseChannel:a}},j=e=>{var t,a;let{cloudProvider:s,dbRegion:o,organizationSlug:i,field:c,form:f,type:j="create",layout:v="horizontal",label:y="Postgres version"}=e,{data:b}=(0,u.YA)(),S=(0,x.Cr)(o),{data:w,isLoading:N,isSuccess:_}=(0,r.Qw)({cloudProvider:s,dbRegion:S,organizationSlug:i},{enabled:"create"===j}),{data:A,isLoading:C}=d({projectRef:null==b?void 0:b.ref},{enabled:"unpause"===j}),P=("create"===j?null!=(t=null==w?void 0:w.available_versions)?t:[]:null!=(a=null==A?void 0:A.available_versions)?a:[]).sort((e,t)=>e.version.localeCompare(t.version)).reverse(),{postgresVersionSelection:M}=f.watch();return(0,l.useEffect)(()=>{if(P.length>0){let e=P.find(e=>"ga"===e.release_channel),t=e?g(e):g(P[0]);f.setValue("postgresVersionSelection",t)}},[_,P,f]),(0,n.jsx)(p.M,{label:y,layout:v,"data-sentry-element":"FormItemLayout","data-sentry-component":"PostgresVersionSelector","data-sentry-source-file":"PostgresVersionSelector.tsx",children:(0,n.jsxs)(m.l6,{value:M,onValueChange:c.onChange,disabled:0===P.length||"create"===j&&N||"unpause"===j&&C,"data-sentry-element":"Select_Shadcn_","data-sentry-source-file":"PostgresVersionSelector.tsx",children:[(0,n.jsx)(m.bq,{className:"[&>:nth-child(1)]:w-full [&>:nth-child(1)]:flex [&>:nth-child(1)]:items-start","data-sentry-element":"SelectTrigger_Shadcn_","data-sentry-source-file":"PostgresVersionSelector.tsx",children:(0,n.jsx)(m.yv,{placeholder:"Select a Postgres version for your project","data-sentry-element":"SelectValue_Shadcn_","data-sentry-source-file":"PostgresVersionSelector.tsx"})}),(0,n.jsx)(m.gC,{"data-sentry-element":"SelectContent_Shadcn_","data-sentry-source-file":"PostgresVersionSelector.tsx",children:(0,n.jsx)(m.s3,{"data-sentry-element":"SelectGroup_Shadcn_","data-sentry-source-file":"PostgresVersionSelector.tsx",children:P.map(e=>{let t=e.version.split("supabase-postgres-")[1].replace("-orioledb","");return(0,n.jsx)(m.eb,{value:g(e),className:"w-full [&>:nth-child(2)]:w-full",children:(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[(0,n.jsx)("span",{className:"text-foreground",children:t}),(0,n.jsxs)("div",{children:["ga"!==e.release_channel&&(0,n.jsx)(h.E,{variant:"warning",className:"mr-1 capitalize",children:e.release_channel}),e.postgres_engine.includes("oriole")&&(0,n.jsx)(h.E,{variant:"default",className:"mr-1",children:"OrioleDB"})]})]})},g(e))})})})]})})}},98103:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(86848).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])}},e=>{e.O(0,[60858,15599,16110,27764,36538,44033,76984,72391,35035,40545,596,10508,90636,46593,38792],()=>e(e.s=25345)),_N_E=e.O()}]);