try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cee51931-4254-4a50-b4dd-9e2e588c1085",e._sentryDebugIdIdentifier="sentry-dbid-cee51931-4254-4a50-b4dd-9e2e588c1085")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93048],{1324:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(86848).A)("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]])},2838:(e,t,s)=>{s.d(t,{g:()=>l});var r=s(22891),a=s(84512);let l=()=>{var e;let{data:t}=(0,a.s)(),s=(0,r._P)("etlPrivateAlpha"),l="string"==typeof s?s.split(",").map(e=>e.trim()):[];return(0,r._P)("etlPrivateAlphaOverride")||l.includes(null!=(e=null==t?void 0:t.slug)?e:"")}},3209:(e,t,s)=>{s.d(t,{X:()=>l});var r=s(75211),a=s(5652);let l=(e,t)=>!(t instanceof a.o&&503===t.code&&t.message.includes("feature flag is required"))&&e<r.de},17086:(e,t,s)=>{s.d(t,{Rx:()=>i,YI:()=>o});var r=s(80263),a=s(48510),l=s(1324);let n={height:24,width:24,className:"text-foreground-light"},o=[{value:"webhook",name:"Custom Endpoint",description:"Forward logs as a POST request to a custom HTTP endpoint",icon:(0,r.jsx)(l.A,{...n})},{value:"datadog",name:"Datadog",description:"Datadog is a monitoring service for cloud-scale applications",icon:(0,r.jsx)(a.Zm,{...n,fill:"currentColor",strokeWidth:0})},{value:"loki",name:"Loki",description:"Loki is an open-source log aggregation system designed to store and query logs from multiple sources",icon:(0,r.jsx)(a.Dg,{...n,fill:"currentColor",strokeWidth:0})},{value:"sentry",name:"Sentry",description:"Sentry is an application monitoring service that helps developers identify and debug performance issues and errors",icon:(0,r.jsx)(a.sQ,{...n,fill:"currentColor",strokeWidth:0})}];o.map(e=>e.value);let i=[{label:"AP1",value:"AP1"},{label:"AP2",value:"AP2"},{label:"EU",value:"EU"},{label:"US1",value:"US1"},{label:"US1-FED",value:"US1-FED"},{label:"US3",value:"US3"},{label:"US5",value:"US5"}]},24051:(e,t,s)=>{s.d(t,{$:()=>c});var r=s(51355),a=s(80210),l=s(73969),n=s(24523),o=s(1206);async function i(e,t){let{projectRef:s,ids:r}=e,{data:a,error:l}=await (0,n.yH)("/platform/projects/{ref}/content",{headers:{Version:"2"},params:{path:{ref:s},query:{ids:r.join(",")}},signal:t});return l&&(0,n.H4)(l),a.map(e=>e.id)}let c=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,r.jE)();return(0,a.n)({mutationFn:e=>i(e),async onSuccess(t,s,r){let{projectRef:a}=s;await Promise.all([n.invalidateQueries({queryKey:o.M.allContentLists(a)}),n.invalidateQueries({queryKey:o.M.infiniteList(a)})]),await (null==e?void 0:e(t,s,r))},async onError(e,s,r){void 0===t?l.oR.error("Failed to delete contents: ".concat(e.message)):t(e,s,r)},...s})}},26004:(e,t,s)=>{s.d(t,{l:()=>r});let r={sources:e=>["projects",e,"sources"],destinations:e=>["projects",e,"destinations"],destinationById:(e,t)=>["projects",e,"destinations",t],publications:(e,t)=>["projects",e,"sources",t,"publications"],tables:(e,t)=>["projects",e,"sources",t,"tables"],pipelines:e=>["projects",e,"pipelines"],pipelineById:(e,t)=>["projects",e,"pipelines",t],pipelinesStatus:(e,t)=>["projects",e,"pipelines",t,"status"],pipelinesReplicationStatus:(e,t)=>["projects",e,"pipelines",t,"replication-status"],pipelinesVersion:(e,t)=>["projects",e,"pipelines",t,"version"]}},39339:(e,t,s)=>{s.d(t,{T:()=>d});var r=s(80263),a=s(66711),l=s(52555),n=s.n(l),o=s(80100),i=s(21162),c=s(99779);function d(e){let{label:t,icon:s,dropdownItems:l,href:d,isActive:u,onClick:m}=e;return(0,r.jsxs)("div",{className:(0,o.cn)({"bg-foreground-lighter/10":u},"relative flex [&:has([data-state=open])]:bg-foreground-lighter/10 [&:has([data-state=open])]:text-foreground hover:text-foreground hover:bg-foreground-lighter/10 transition-all text-foreground-light group"),"data-sentry-component":"LogsSidebarItem","data-sentry-source-file":"SidebarItem.tsx",children:[(0,r.jsxs)(n(),{onClick:m,href:d,className:"h-7 flex-1 text-sm px-4 flex items-center gap-2 truncate","data-sentry-element":"Link","data-sentry-source-file":"SidebarItem.tsx",children:[(0,r.jsx)("span",{children:s}),(0,r.jsx)("span",{className:"truncate",children:t})]}),l&&(0,r.jsxs)(i.rI,{children:[(0,r.jsx)(i.ty,{asChild:!0,onClick:e=>{e.preventDefault()},children:(0,r.jsx)(c.$,{type:"text",title:"Actions",className:"space-x-0 h-7 px-1.5 opacity-0 group-hover:opacity-100 !bg-transparent data-[state=open]:opacity-100",icon:(0,r.jsx)(a.A,{size:14}),children:(0,r.jsx)("div",{className:"sr-only",children:"Actions"})})}),(0,r.jsx)(i.SQ,{className:"w-48",align:"end",children:l})]})]})}},39624:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(80263),a=s(12123);let l=e=>{let{resourceText:t,isFullPage:s=!1}=e,l=()=>(0,r.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200","data-sentry-component":"NoPermissionMessage","data-sentry-source-file":"NoPermission.tsx",children:(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)(a.A,{size:20,"data-sentry-element":"AlertCircle","data-sentry-source-file":"NoPermission.tsx"})}),(0,r.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return s?(0,r.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,r.jsx)("div",{className:"w-[550px]",children:(0,r.jsx)(l,{})})}):(0,r.jsx)(l,{})}},49151:(e,t,s)=>{s.d(t,{A:()=>i});var r=s(80263),a=s(53239),l=s(57459),n=s(7760);function o(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function i(e){let{validate:t,...s}=e,[i,c]=(0,a.useReducer)(o,null),d=(0,l.Wx)({validateOnBlur:!0,...s,validationSchema:s.validationSchema,initialValues:s.initialValues,onSubmit:s.onSubmit,validate:t||function(){return i}});return(0,r.jsx)("form",{id:s.id,name:s.name,onSubmit:d.handleSubmit,className:s.className,style:s.style,method:"POST","data-sentry-component":"Form","data-sentry-source-file":"Form.tsx",children:(0,r.jsx)(n.h,{values:d.values,errors:d.errors,formContextOnChange:d.handleChange,handleBlur:d.handleBlur,touched:d.touched,fieldLevelValidation:function(e,t){c({key:e,error:t})},"data-sentry-element":"FormContextProvider","data-sentry-source-file":"Form.tsx",children:s.children({errors:d.errors,touched:d.touched,isSubmitting:d.isSubmitting,isValidating:d.isValidating,submitCount:d.submitCount,initialValues:d.initialValues,values:d.values,handleReset:d.handleReset,resetForm:d.resetForm,setFieldValue:d.setFieldValue})})})}},50154:(e,t,s)=>{s.d(t,{A:()=>b});var r=s(80263),a=s(80814),l=s(53239),n=s(73969),o=s(22891),i=s(24051),c=s(8579),d=s(21162),u=s(68421),m=s(6217),p=s(49151),x=s(80421),g=s(99779);let f=e=>{let{visible:t,onCancel:s,onSubmit:a,initialValues:l}=e;return(0,r.jsx)(m.A,{visible:t,onCancel:s,hideFooter:!0,header:"Update saved query",size:"medium","data-sentry-element":"Modal","data-sentry-component":"UpdateSavedQueryModal","data-sentry-source-file":"Logs.UpdateSavedQueryModal.tsx",children:(0,r.jsx)(p.A,{onReset:s,validateOnBlur:!0,initialValues:l,validate:function(e){let t={};return e.name||(t.name="Required"),t},onSubmit:a,"data-sentry-element":"Form","data-sentry-source-file":"Logs.UpdateSavedQueryModal.tsx",children:e=>{let{isSubmitting:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A.Content,{children:(0,r.jsx)(x.A,{label:"Name",id:"name",name:"name"})}),(0,r.jsx)(m.A.Content,{children:(0,r.jsx)(x.A.TextArea,{label:"Description",id:"description",placeholder:"Describe query",size:"medium",textAreaClassName:"resize-none"})}),(0,r.jsx)(m.A.Separator,{}),(0,r.jsxs)(m.A.Content,{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)(g.$,{htmlType:"reset",type:"default",onClick:s,disabled:t,children:"Cancel"}),(0,r.jsx)(g.$,{htmlType:"submit",loading:t,disabled:t,children:"Save query"})]})]})}})})};var h=s(3225),y=s(33922),j=s(48510),v=s(39339);let b=e=>{let{item:t}=e,s=(0,a.useRouter)(),{ref:m}=(0,o.g)(),[p,x]=(0,l.useState)(!1),[g,b]=(0,l.useState)(!1),{mutate:N}=(0,i.$)({onSuccess:()=>{x(!1),n.oR.success("Successfully deleted query")},onError:e=>{n.oR.error("Failed to delete saved query: ".concat(e.message))}}),{mutate:S}=(0,c.v)({onSuccess:()=>{b(!1),n.oR.success("Successfully updated query")},onError:e=>{n.oR.error("Failed to update query: ".concat(e.message))}}),w=async()=>{if(!m||"string"!=typeof m)return console.error("Invalid project reference");N({projectRef:m,ids:[t.id]})},C=async e=>{let{name:s,description:r}=e;if(!m||"string"!=typeof m)return console.error("Invalid project reference");S({projectRef:m,payload:{...t,name:s,description:r||void 0,type:"log_sql",visibility:"user"}})},k=s.query.queryId===t.id;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.T,{label:t.name,icon:(0,r.jsx)(j.mx,{size:"15"}),href:"/project/".concat(m,"/logs/explorer?queryId=").concat(encodeURIComponent(t.id),"&q=").concat(encodeURIComponent(t.content.sql)),isActive:k,dropdownItems:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d._2,{onClick:()=>b(!0),children:[(0,r.jsx)(h.A,{size:14,className:"mr-2"}),"Edit query"]}),(0,r.jsx)(d.mB,{}),(0,r.jsxs)(d._2,{onClick:()=>{x(!0)},children:[(0,r.jsx)(y.A,{size:14,className:"mr-2"}),"Delete query"]})]}),"data-sentry-element":"LogsSidebarItem","data-sentry-source-file":"Logs.SavedQueriesItem.tsx"}),(0,r.jsx)(u.A,{variant:"destructive",visible:p,confirmLabel:"Delete query",title:"Confirm to delete saved query",onCancel:()=>{x(!1)},onConfirm:w,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"Logs.SavedQueriesItem.tsx",children:(0,r.jsxs)("p",{className:"text-sm text-foreground-light",children:["Are you sure you want to delete ",t.name,"?"]})}),(0,r.jsx)(f,{visible:g,initialValues:{name:t.name,description:t.description},onCancel:()=>{b(!1)},onSubmit:e=>{C(e)},"data-sentry-element":"UpdateSavedQueryModal","data-sentry-source-file":"Logs.SavedQueriesItem.tsx"})]})}},64327:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(86848).A)("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]])},66711:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(86848).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},71492:(e,t,s)=>{s.d(t,{c:()=>a});var r=s(84512);function a(){let{data:e}=(0,r.s)();return e?{plan:null==e?void 0:e.plan,usageBillingEnabled:null==e?void 0:e.usage_billing_enabled,isLoading:!1,isSuccess:!0}:{plan:null,usageBillingEnabled:null,isLoading:!0,isSuccess:!1}}},77308:(e,t,s)=>{s.d(t,{OJ:()=>v,Pl:()=>k,Pq:()=>y,Q5:()=>A,RK:()=>w,a0:()=>S,ag:()=>N,hm:()=>h,i9:()=>C,qP:()=>j,ue:()=>b});var r=s(80263),a=s(76196),l=s(73886),n=s(31092),o=s(64327),i=s(52555),c=s.n(i),d=s(53239),u=s(66755),m=s(80100),p=s(91786),x=s(27371),g=s(21162),f=s(30404);let h=(0,d.forwardRef)((e,t)=>{let{...s}=e;return(0,r.jsx)(u.Nt,{ref:t,...s,className:(0,m.cn)("w-full px-2 group",s.className)})}),y=(0,d.forwardRef)((e,t)=>{let{...s}=e;return(0,r.jsxs)(u.R6,{ref:t,...s,className:(0,m.cn)("w-full flex gap-1 items-center group px-3 text-sm font-normal font-mono uppercase text-lighter tracking-wide",s.className),children:[(0,r.jsx)(a.A,{className:"transition-all text-foreground-muted group-data-[state=open]:rotate-90",size:16,strokeWidth:1.5}),(0,r.jsx)("span",{className:"group-hover:not-disabled:text-foreground",children:s.title})]})}),j=(0,d.forwardRef)((e,t)=>{let{...s}=e;return(0,r.jsx)(u.Ke,{ref:t,...s,className:(0,m.cn)("w-full flex flex-col gap-0",s.className)})}),v=(0,d.forwardRef)((e,t)=>(0,r.jsx)("div",{ref:t,...e,className:(0,m.cn)("h-px bg-border-muted",e.className)})),b=(0,d.forwardRef)((e,t)=>{let{className:s,isActive:a,forceHoverState:l,...n}=e;return(0,r.jsx)(c(),{ref:t,...n,"aria-current":a,className:(0,m.cn)("text-sm","h-7 pl-3 pr-2","flex items-center justify-between rounded-md group relative",a?"bg-selection":"hover:bg-surface-200",l&&"bg-surface-200",a?"text-foreground":"text-foreground-light hover:text-foreground",s)})}),N=(0,d.forwardRef)((e,t)=>{let{isActive:s=!0,forceHoverState:a,isPreview:l,isOpened:n=!0,...o}=e;return(0,r.jsxs)(c(),{ref:t,...o,"aria-current":s,className:(0,m.cn)((0,p.u2)({isSelected:s&&!l,isOpened:n&&!l,isPreview:l}),"px-4",o.className),children:[!l&&s&&(0,r.jsx)("div",{className:"absolute left-0 h-full w-0.5 bg-foreground"}),o.children]})}),S=(0,d.forwardRef)((e,t)=>(0,r.jsx)("div",{ref:t,...e,className:(0,m.cn)("flex px-2 gap-2 items-center",e.className)})),w=(0,d.forwardRef)((e,t)=>{let{children:s,isLoading:a=!1,...o}=e;return(0,r.jsxs)("label",{htmlFor:o.name,className:"relative w-full",children:[(0,r.jsx)("span",{className:"sr-only",children:o["aria-labelledby"]}),(0,r.jsx)(x.p,{ref:t,type:"text",className:(0,m.cn)("h-[32px] md:h-[28px] w-full","text-base md:text-xs","pl-7","pr-7","w-full","rounded",o.className),...o}),s,a?(0,r.jsx)(l.A,{className:"animate-spin absolute left-2 text-foreground-muted",style:{top:7},size:14,strokeWidth:1.5}):(0,r.jsx)(n.A,{className:"absolute left-2 top-2 text-foreground-muted",size:14,strokeWidth:1.5})]})}),C=(0,d.forwardRef)((e,t)=>{let{value:s,onValueChange:a,contentClassName:l,triggerClassName:n,...i}=e;return(0,r.jsxs)(g.rI,{modal:!1,children:[(0,r.jsxs)(f.m_,{delayDuration:0,children:[(0,r.jsx)(g.ty,{asChild:!0,className:(0,m.cn)("absolute right-1 top-[.4rem] md:top-[.3rem]","text-foreground transition-colors hover:text-foreground data-[state=open]:text-foreground",n),children:(0,r.jsx)(f.k$,{children:(0,r.jsx)(o.A,{size:18,strokeWidth:1})})}),(0,r.jsx)(f.ZI,{side:"bottom",children:"Sort By"})]}),(0,r.jsx)(g.SQ,{side:"bottom",align:"end",className:(0,m.cn)("w-48",l),children:(0,r.jsx)(g.Hr,{value:s,onValueChange:a,children:i.children})})]})}),k=(0,d.forwardRef)((e,t)=>(0,r.jsx)(g.Ht,{ref:t,...e})),A=(0,d.forwardRef)((e,t)=>{let{illustration:s,title:a,description:l,actions:n,...o}=e;return(0,r.jsx)("div",{ref:t,...o,className:(0,m.cn)("border border-muted bg-surface-100 dark:bg-surface-75 flex flex-col gap-y-3 items-center justify-center rounded-md px-5 py-4",o.className),children:(0,r.jsxs)("div",{className:"w-full flex flex-col gap-y-1 items-center",children:[s,a&&(0,r.jsx)("p",{className:"text-xs text-foreground-light",children:a}),l&&(0,r.jsx)("p",{className:"text-xs text-foreground-lighter text-center",children:l}),n&&(0,r.jsx)("div",{className:"mt-2",children:n}),o.children]})})})},82702:(e,t,s)=>{s.d(t,{D:()=>o});var r=s(67850),a=s(24523),l=s(1206);async function n(e,t){let{projectRef:s,type:r,name:l,limit:n=10}=e;if(void 0===s)throw Error("projectRef is required for getContent");let{data:o,error:i}=await (0,a.Jt)("/platform/projects/{ref}/content",{params:{path:{ref:s},query:{type:r,name:l,limit:n.toString()}},signal:t});return i&&(0,a.H4)(i),{cursor:o.cursor,content:o.data}}let o=function(e){let{projectRef:t,type:s,name:a,limit:o}=e,{enabled:i=!0,...c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.I)({queryKey:l.M.list(t,{type:s,name:a,limit:o}),queryFn:e=>{let{signal:r}=e;return n({projectRef:t,type:s,name:a,limit:o},r)},enabled:i&&void 0!==t,...c})}},93048:(e,t,s)=>{s.d(t,{A:()=>D});var r=s(80263),a=s(72112),l=s(39624),n=s(80090),o=s(9497),i=s(29471),c=s(76196),d=s(62284),u=s(90376),m=s(52555),p=s.n(m),x=s(80814),g=s(53239),f=s(22891),h=s(91958),y=s(2838),j=s(17086),v=s(50154),b=s(39339),N=s(23729),S=s(82702),w=s(97003),C=s(71492),k=s(2657),A=s(66755),L=s(21650),R=s(99779),V=s(80100),q=s(75878),P=s(77308),F=s(16488),I=s(96828);let _=e=>{let{className:t}=e;return(0,r.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"15px",width:"15px",className:t,xmlns:"http://www.w3.org/2000/svg","data-sentry-element":"svg","data-sentry-component":"SupaIcon","data-sentry-source-file":"LogsSidebarMenuV2.tsx",children:(0,r.jsx)("path",{d:"M10.9997 2.59833V13.9694H3.90013C3.23055 13.9694 2.83063 13.1846 3.25654 12.6326L10.9997 2.59833ZM12.9997 8.03061V2.33296C12.9997 0.521514 10.7034 -0.291434 9.58194 1.16185L1.67316 11.4108C0.246185 13.26 1.54768 15.9694 3.90013 15.9694H10.9997V21.6671C10.9997 23.4785 13.296 24.2915 14.4175 22.8382L22.3262 12.5892C23.7532 10.74 22.4517 8.03061 20.0993 8.03061H12.9997ZM12.9997 10.0306H20.0993C20.7688 10.0306 21.1688 10.8155 20.7429 11.3674L12.9997 21.4017V10.0306Z","data-sentry-element":"path","data-sentry-source-file":"LogsSidebarMenuV2.tsx"})})};function M(e){let{children:t,title:s,defaultOpen:a}=e;return(0,r.jsxs)(A.Nt,{defaultOpen:a,"data-sentry-element":"Collapsible_Shadcn_","data-sentry-component":"SidebarCollapsible","data-sentry-source-file":"LogsSidebarMenuV2.tsx",children:[(0,r.jsxs)(A.R6,{className:"flex items-center gap-x-2 px-4 [&[data-state=open]>svg]:!rotate-90 pb-2","data-sentry-element":"CollapsibleTrigger_Shadcn_","data-sentry-source-file":"LogsSidebarMenuV2.tsx",children:[(0,r.jsx)(c.A,{size:16,className:"text-foreground-light transition-transform duration-200","data-sentry-element":"ChevronRight","data-sentry-source-file":"LogsSidebarMenuV2.tsx"}),(0,r.jsx)("span",{className:"text-foreground-light font-mono text-sm uppercase",children:s})]}),(0,r.jsx)(A.Ke,{"data-sentry-element":"CollapsibleContent_Shadcn_","data-sentry-source-file":"LogsSidebarMenuV2.tsx",children:t})]})}function E(){var e,t,s;let a=(0,x.useRouter)(),{ref:l}=(0,f.g)(),n=(0,f._P)("unifiedLogs"),{selectFeaturePreview:o}=(0,h.j_)(),{enable:i}=(0,h.nW)(),[c,m]=(0,g.useState)(""),{projectAuthAll:A,projectStorageAll:E,realtimeAll:D,logsTemplates:T,logsCollections:z}=(0,k.x)(["project_storage:all","project_auth:all","realtime:all","logs:templates","logs:collections"]),U=(0,y.g)(),{data:O,isLoading:Q}=(0,w.Y)({projectRef:l},{enabled:U,retry:!1,refetchOnMount:!1,refetchOnWindowFocus:!1}),B=U&&(null!=(t=null==O||null==(e=O.sources)?void 0:e.length)?t:0)>0&&!Q,{plan:H}=(0,C.c)(),W=(null==H?void 0:H.id)==="free",{data:$,isLoading:K}=(0,S.D)({projectRef:l,type:"log_sql"}),Y=[...null!=(s=null==$?void 0:$.content)?s:[]].filter(e=>"log_sql"===e.type).sort((e,t)=>e.name.localeCompare(t.name));function G(e){return a.asPath.includes(e)}let Z=[{name:"API Gateway",key:"edge-logs",url:"/project/".concat(l,"/logs/edge-logs"),items:[]},{name:"Postgres",key:"postgres-logs",url:"/project/".concat(l,"/logs/postgres-logs"),items:[]},{name:"PostgREST",key:"postgrest-logs",url:"/project/".concat(l,"/logs/postgrest-logs"),items:[]},f.pe?{name:W?"Pooler":"Shared Pooler",key:"pooler-logs",url:"/project/".concat(l,"/logs/pooler-logs"),items:[]}:null,!W&&f.pe?{name:"Dedicated Pooler",key:"dedicated-pooler-logs",url:"/project/".concat(l,"/logs/dedicated-pooler-logs"),items:[]}:null,A?{name:"Auth",key:"auth-logs",url:"/project/".concat(l,"/logs/auth-logs"),items:[]}:null,E?{name:"Storage",key:"storage-logs",url:"/project/".concat(l,"/logs/storage-logs"),items:[]}:null,D?{name:"Realtime",key:"realtime-logs",url:"/project/".concat(l,"/logs/realtime-logs"),items:[]}:null,{name:"Edge Functions",key:"edge-functions-logs",url:"/project/".concat(l,"/logs/edge-functions-logs"),items:[]},{name:"Cron",key:"pg_cron",url:"/project/".concat(l,"/logs/pgcron-logs"),items:[]},B?{name:"ETL Replication",key:"etl_replication_logs",url:"/project/".concat(l,"/logs/etl-replication-logs"),items:[]}:null].filter(e=>null!==e),J=f.pe?[{name:"Postgres Version Upgrade",key:"pg-upgrade-logs",url:"/project/".concat(l,"/logs/pg-upgrade-logs"),items:[]}]:[],X=Z.filter(e=>null==e?void 0:e.name.toLowerCase().includes(c.toLowerCase())),ee=J.filter(e=>null==e?void 0:e.name.toLowerCase().includes(c.toLowerCase()));return(0,r.jsxs)("div",{className:"pb-4 relative","data-sentry-component":"LogsSidebarMenuV2","data-sentry-source-file":"LogsSidebarMenuV2.tsx",children:[f.pe&&!n&&(0,r.jsx)(I.V,{className:"mx-4 mt-4",illustration:(0,r.jsx)(L.E,{variant:"default",children:"Coming soon"}),title:"New logs",description:"Get early access",actions:(0,r.jsx)(p(),{href:"https://forms.supabase.com/unified-logs-signup",target:"_blank",children:(0,r.jsx)(R.$,{type:"default",size:"tiny",children:"Early access"})})}),n&&(0,r.jsx)(I.V,{className:"mx-4 mt-4",title:"New Logs Interface",description:"Unified view across all services with improved filtering and real-time updates",illustration:(0,r.jsx)(L.E,{variant:"brand",children:"Feature Preview"}),actions:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.$,{size:"tiny",type:"default",onClick:()=>{i(),a.push("/project/".concat(l,"/logs"))},children:"Enable preview"}),(0,r.jsx)(N.G,{type:"default",className:"px-1.5",icon:(0,r.jsx)(d.A,{}),onClick:()=>o("supabase-ui-preview-unified-logs"),tooltip:{content:{side:"bottom",text:"More information"}}})]})}),(0,r.jsxs)("div",{className:(0,V.cn)("flex gap-x-2 items-center sticky top-0 bg-background-200 z-[1] px-4",T?"py-4":"pt-4"),children:[(0,r.jsx)(P.a0,{className:"w-full p-0 gap-0","data-sentry-element":"InnerSideBarFilters","data-sentry-source-file":"LogsSidebarMenuV2.tsx",children:(0,r.jsx)(P.RK,{name:"search-collections",placeholder:"Search collections...","aria-labelledby":"Search collections",value:c,onChange:e=>m(e.target.value),"data-sentry-element":"InnerSideBarFilterSearchInput","data-sentry-source-file":"LogsSidebarMenuV2.tsx"})}),(0,r.jsx)(R.$,{type:"default",icon:(0,r.jsx)(u.A,{className:"text-foreground"}),className:"w-[26px]",onClick:()=>a.push("/project/".concat(l,"/logs/explorer")),"data-sentry-element":"Button","data-sentry-source-file":"LogsSidebarMenuV2.tsx"})]}),T&&(0,r.jsx)("div",{className:"px-2",children:(0,r.jsx)(P.ue,{title:"Templates",isActive:G("/project/".concat(l,"/logs/explorer/templates")),href:"/project/".concat(l,"/logs/explorer/templates"),children:"Templates"})}),(0,r.jsx)(q.w,{className:"my-4","data-sentry-element":"Separator","data-sentry-source-file":"LogsSidebarMenuV2.tsx"}),z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M,{title:"Collections",defaultOpen:!0,children:X.map(e=>{var t,s,a,l;let n=G(null!=(t=null==e?void 0:e.url)?t:"");return(0,r.jsx)(b.T,{isActive:n,href:null!=(s=null==e?void 0:e.url)?s:"",icon:(0,r.jsx)(_,{className:"text-foreground-light"}),label:null!=(a=null==e?void 0:e.name)?a:""},null!=(l=null==e?void 0:e.key)?l:"")})}),J.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.w,{className:"my-4"}),(0,r.jsx)(M,{title:"Database operations",defaultOpen:!0,children:ee.map(e=>(0,r.jsx)(b.T,{isActive:G(e.url),href:e.url,icon:(0,r.jsx)(_,{className:"text-foreground-light"}),label:e.name},e.key))})]}),(0,r.jsx)(q.w,{className:"my-4"})]}),(0,r.jsxs)(M,{title:"Queries",defaultOpen:!0,"data-sentry-element":"SidebarCollapsible","data-sentry-source-file":"LogsSidebarMenuV2.tsx",children:[K&&(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(F.yV,{})}),0===Y.length&&(0,r.jsx)(P.Q5,{className:"mx-4",title:"No queries created yet",description:"Create and save your queries to use them in the explorer",actions:(0,r.jsx)(R.$,{asChild:!0,type:"default",children:(0,r.jsx)(p(),{href:"/project/".concat(l,"/logs/explorer"),children:"Create query"})})}),Y.map(e=>(0,r.jsx)(v.A,{item:e},e.id))]}),(0,r.jsx)(q.w,{className:"my-4","data-sentry-element":"Separator","data-sentry-source-file":"LogsSidebarMenuV2.tsx"}),(0,r.jsx)(I.V,{className:"mx-4 mt-4",title:"Capture your logs",description:"Send logs to your preferred observability or storage platform.",illustration:(0,r.jsx)("div",{className:"flex items-center gap-4",children:j.YI.map(e=>g.cloneElement(e.icon,{height:20,width:20}))}),actions:(0,r.jsx)(R.$,{asChild:!0,type:"default",children:(0,r.jsx)(p(),{href:"/project/".concat(l,"/settings/log-drains"),children:"Go to Log Drains"})}),"data-sentry-element":"FeaturePreviewSidebarPanel","data-sentry-source-file":"LogsSidebarMenuV2.tsx"})]})}let D=(0,o.r)(e=>{let{title:t,children:s}=e,{isLoading:o,can:c}=(0,n.Qp)(a.aG.ANALYTICS_READ,"logflare");if(!c){if(o)return(0,r.jsx)(i.k,{isLoading:!0});if(!o&&!c)return(0,r.jsx)(i.k,{children:(0,r.jsx)(l.A,{isFullPage:!0,resourceText:"access your project's logs"})})}return(0,r.jsx)(i.k,{title:t,product:"Logs & Analytics",productMenu:(0,r.jsx)(E,{}),"data-sentry-element":"ProjectLayout","data-sentry-component":"LogsLayout","data-sentry-source-file":"LogsLayout.tsx",children:s})})},96828:(e,t,s)=>{s.d(t,{V:()=>l});var r=s(80263),a=s(80100);function l(e){let{title:t,description:s,illustration:l,actions:n,className:o}=e;return(0,r.jsxs)("div",{className:(0,a.cn)("rounded-lg border p-4 space-y-3","bg-muted/10 border-border/50","text-left [&_*]:text-left [&_div]:items-start",o),"data-sentry-component":"FeaturePreviewSidebarPanel","data-sentry-source-file":"FeaturePreviewSidebarPanel.tsx",children:[l&&(0,r.jsx)("div",{className:"flex justify-start items-start",children:l}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h3",{className:"font-medium text-sm text-foreground",children:t}),(0,r.jsx)("p",{className:"text-xs text-foreground-light",children:s})]}),n&&(0,r.jsx)("div",{className:"flex justify-start items-start gap-x-2",children:n})]})}},97003:(e,t,s)=>{s.d(t,{Y:()=>i});var r=s(67850),a=s(24523),l=s(26004),n=s(3209);async function o(e,t){let{projectRef:s}=e;if(!s)throw Error("projectRef is required");let{data:r,error:l}=await (0,a.Jt)("/platform/replication/{ref}/sources",{params:{path:{ref:s}},signal:t});return l&&(0,a.H4)(l),r}let i=function(e){let{projectRef:t}=e,{enabled:s=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.I)({queryKey:l.l.sources(t),queryFn:e=>{let{signal:s}=e;return o({projectRef:t},s)},enabled:s&&void 0!==t,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:n.X,...a})}}}]);