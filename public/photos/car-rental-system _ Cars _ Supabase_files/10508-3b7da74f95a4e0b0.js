try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="942fbdad-3db5-4b67-94e2-6208c1805c6c",e._sentryDebugIdIdentifier="sentry-dbid-942fbdad-3db5-4b67-94e2-6208c1805c6c")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10508],{1458:(e,t,a)=>{"use strict";a.d(t,{B:()=>r});var n=a(85039);let r=(e,t)=>{let{authenticationSignInProviders:a,authenticationRateLimits:r,authenticationEmails:s,authenticationMultiFactor:o,authenticationAttackProtection:l,authenticationAdvanced:i,authenticationShowOverview:c,authenticationShowSecurityNotifications:d,authenticationOauth21:u}=null!=t?t:{};return[{title:"Manage",items:[...c?[{name:"Overview",key:"overview",url:"/project/".concat(e,"/auth/overview"),items:[]}]:[],{name:"Users",key:"users",url:"/project/".concat(e,"/auth/users"),items:[]},...u?[{name:"OAuth Apps",key:"oauth-apps",url:"/project/".concat(e,"/auth/oauth-apps"),items:[]}]:[]]},...s&&d&&n.pe?[{title:"Notifications",items:[...s?[{name:"Email",key:"email",pages:["templates","smtp"],url:"/project/".concat(e,"/auth/templates"),items:[]}]:[]]}]:[],{title:"Configuration",items:[{name:"Policies",key:"policies",url:"/project/".concat(e,"/auth/policies"),items:[]},...n.pe?[...a?[{name:"Sign In / Providers",key:"sign-in-up",pages:["providers","third-party"],url:"/project/".concat(e,"/auth/providers"),items:[]}]:[],...u?[{name:"OAuth Server",key:"oauth-server",url:"/project/".concat(e,"/auth/oauth-server"),label:"BETA"}]:[],{name:"Sessions",key:"sessions",url:"/project/".concat(e,"/auth/sessions"),items:[]},...r?[{name:"Rate Limits",key:"rate-limits",url:"/project/".concat(e,"/auth/rate-limits"),items:[]}]:[],...s&&!d?[{name:"Emails",key:"emails",pages:["templates","smtp"],url:"/project/".concat(e,"/auth/templates"),items:[]}]:[],...o?[{name:"Multi-Factor",key:"mfa",url:"/project/".concat(e,"/auth/mfa"),items:[]}]:[],{name:"URL Configuration",key:"url-configuration",url:"/project/".concat(e,"/auth/url-configuration"),items:[]},...l?[{name:"Attack Protection",key:"protection",url:"/project/".concat(e,"/auth/protection"),items:[]}]:[],{name:"Auth Hooks",key:"hooks",url:"/project/".concat(e,"/auth/hooks"),items:[],label:"BETA"},{name:"Audit Logs",key:"audit-logs",url:"/project/".concat(e,"/auth/audit-logs"),items:[]},...i?[{name:"Advanced",key:"advanced",url:"/project/".concat(e,"/auth/advanced"),items:[]}]:[]]:[]]}]}},4969:(e,t,a)=>{"use strict";a.d(t,{I:()=>l});var n=a(80263),r=a(53239),s=a(30404);let o=(0,r.forwardRef)((e,t)=>(0,n.jsx)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...e,children:(0,n.jsx)("path",{d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM9 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM6.75 8a.75.75 0 0 0 0 1.5h.75v1.75a.75.75 0 0 0 1.5 0v-2.5A.75.75 0 0 0 8.25 8h-1.5Z",fillRule:"evenodd",clipRule:"evenodd"})})),l=(0,r.forwardRef)((e,t)=>{let{...a}=e;return(0,n.jsxs)(s.m_,{children:[(0,n.jsx)(s.k$,{type:"button",role:"button",className:"flex [&_svg]:data-[state=delayed-open]:fill-foreground-lighter [&_svg]:data-[state=instant-open]:fill-foreground-lighter",children:(0,n.jsx)(o,{strokeWidth:2,className:"transition-colors fill-foreground-muted w-4 h-4"})}),(0,n.jsx)(s.ZI,{...a})]})})},6637:(e,t,a)=>{"use strict";a.d(t,{x:()=>l});var n=a(67850),r=a(24523),s=a(63408);async function o(e,t){let{organizationSlug:a}=e;if(!a)throw Error("organizationSlug is required");let{data:n,error:s}=await (0,r.Jt)("/platform/organizations/{slug}/cloud-marketplace/redirect",{params:{path:{slug:a}},signal:t});return s&&(0,r.H4)(s),n}let l=function(e){let{organizationSlug:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:s.Z.awsRedirect(t),queryFn:e=>{let{signal:a}=e;return o({organizationSlug:t},a)},enabled:a&&void 0!==t,...r})}},10170:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(80263),r=a(80814),s=a(53239),o=a(68906),l=a(86297),i=a(65346),c=a(29244),d=a(80100);let u=e=>{var t,a;let{children:u,open:p=!1,onOpenChange:m}=e,h=(0,r.useRouter)(),{width:f}=(0,l.A)(),x=null==h||null==(a=h.asPath)||null==(t=a.split("?"))?void 0:t[0];return(0,s.useEffect)(()=>{m(!1)},[x]),(0,s.useEffect)(()=>{m(!1)},[f]),(0,n.jsx)(i.cj,{open:p,onOpenChange:m,"data-sentry-element":"Sheet","data-sentry-component":"MobileSheetNav","data-sentry-source-file":"MobileSheetNav.tsx",children:(0,n.jsx)(i.h,{id:"mobile-sheet-content",showClose:!1,size:"full",side:"bottom",className:(0,d.cn)("rounded-t-lg overflow-hidden overflow-y-scroll h-[85dvh] md:max-h-[500px]"),"data-sentry-element":"SheetContent","data-sentry-source-file":"MobileSheetNav.tsx",children:(0,n.jsx)(o.tH,{FallbackComponent:()=>(0,n.jsx)(c.xL,{}),"data-sentry-element":"ErrorBoundary","data-sentry-source-file":"MobileSheetNav.tsx",children:u})})})}},10508:(e,t,a)=>{"use strict";a.d(t,{A:()=>aa});var n=a(80263),r=a(80814),s=a(22891),o=a(71602),l=a(63503),i=a(99155),c=a(28202),d=a(53434),u=a.n(d),p=a(53239),m=a(73969),h=a(80316),f=a(60793),x=a(99779);let g=e=>{let{id:t}=e,a=(0,r.useRouter)();return(0,n.jsxs)("div",{className:"flex gap-3 flex-col w-full","data-sentry-component":"DeployCheckToast","data-sentry-source-file":"use-check-latest-deploy.tsx",children:[(0,n.jsxs)("div",{className:"flex gap-3 flex-row",children:[(0,n.jsx)(f.kW,{variant:"default",className:"mt-0.5","data-sentry-element":"StatusIcon","data-sentry-source-file":"use-check-latest-deploy.tsx"}),(0,n.jsxs)("div",{className:"flex w-full justify-between flex-col text-sm",children:[(0,n.jsx)("p",{className:"text-foreground",children:"A new version of this page is available"}),(0,n.jsx)("p",{className:"text-foreground-light",children:"Refresh to see the latest changes."})]})]}),(0,n.jsxs)("div",{className:"flex gap-5 justify-end",children:[(0,n.jsx)(x.$,{type:"outline",onClick:()=>m.oR.dismiss(t),"data-sentry-element":"Button","data-sentry-source-file":"use-check-latest-deploy.tsx",children:"Not now"}),(0,n.jsx)(x.$,{onClick:()=>a.reload(),"data-sentry-element":"Button","data-sentry-source-file":"use-check-latest-deploy.tsx",children:"Refresh"})]})]})};var b=a(39148),y=a(19097),v=a(39260),j=a(88712),w=a(97507),k=a(23019),N=a(52555),S=a.n(N),C=a(91958),_=a(72112),A=a(6780),I=a(86510),R=a(23850),P=a(96776),E=a(76174),D=a(86759),T=a(44168),L=a(34016),M=a(10723),F=a(53931),z=a(11521),B=a(15298),O=a(63351),U=a(78937),q=a(36261),W=a(84512),H=a(85039),G=a(6436),V=a(72341),K=a(80100),$=a(95137),Y=a(66329),Z=a(95052),J=a(75878),Q=a(66755),X=a(21650),ee=a(44725),et=a(27311),ea=a(68152),en=a(98404),er=a(76196),es=a(23892),eo=a(9753),el=a(38904);let ei=e=>{let{parameters:t}=e,[a,r]=(0,p.useState)(!1),[s,o]=(0,p.useState)({});return(0,n.jsxs)(Q.Nt,{open:a,onOpenChange:r,className:"group -space-y-px","data-sentry-element":"Collapsible_Shadcn_","data-sentry-component":"ConnectionParameters","data-sentry-source-file":"ConnectionParameters.tsx",children:[(0,n.jsx)(Q.R6,{asChild:!0,className:"w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none data-[state=open]:border-light border-light px-3","data-sentry-element":"CollapsibleTrigger_Shadcn_","data-sentry-source-file":"ConnectionParameters.tsx",children:(0,n.jsx)(x.$,{type:"default",size:"tiny",className:"text-foreground-lighter !bg-dash-sidebar",icon:(0,n.jsx)(er.A,{className:(0,K.cn)("text-foreground-muted transition-transform",a?"rotate-90":"")}),"data-sentry-element":"Button","data-sentry-source-file":"ConnectionParameters.tsx",children:"View parameters"})}),(0,n.jsxs)(Q.Ke,{className:"bg-dash-sidebar rounded-b border font-mono text-sm","data-sentry-element":"CollapsibleContent_Shadcn_","data-sentry-source-file":"ConnectionParameters.tsx",children:[(0,n.jsx)("div",{className:"px-4 py-2",children:t.map(e=>(0,n.jsx)("div",{className:"py-0.5 group/param",children:(0,n.jsxs)("div",{className:"text-xs flex items-center",children:[(0,n.jsxs)("span",{className:"text-foreground-lighter",children:[e.key,": "]}),(0,n.jsx)("span",{className:"ml-1 text-foreground",children:e.value}),(0,n.jsx)("button",{onClick:()=>{(0,el.l)(e.value,()=>{o(t=>({...t,[e.key]:!0})),setTimeout(()=>{o(t=>({...t,[e.key]:!1}))},1e3)})},className:(0,K.cn)("text-foreground-lighter","ml-2 opacity-0 group-hover/param:opacity-100","hover:text-foreground rounded-sm p-1",s[e.key]&&"opacity-100","transition-all"),children:s[e.key]?(0,n.jsx)(es.A,{size:12,strokeWidth:1.5}):(0,n.jsx)(eo.A,{size:12,strokeWidth:1.5})})]})},e.key))}),(0,n.jsx)(J.w,{"data-sentry-element":"Separator","data-sentry-source-file":"ConnectionParameters.tsx"}),(0,n.jsx)("div",{className:"text-foreground-muted text-xs px-4 py-1 font-sans",children:"For security reasons, your database password is never shown."})]})]})},ec=e=>{let{className:t,active:a}=e;return(0,n.jsxs)("div",{className:(0,K.cn)("relative inline-flex",t),"data-sentry-component":"IPv4StatusIcon","data-sentry-source-file":"ConnectionPanel.tsx",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1",stroke:"currentColor",className:"size-6 stroke-foreground-lighter","data-sentry-element":"svg","data-sentry-source-file":"ConnectionPanel.tsx",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418","data-sentry-element":"path","data-sentry-source-file":"ConnectionPanel.tsx"})}),a?(0,n.jsx)("div",{className:"absolute -right-1.5 -top-1.5 bg-brand-500 rounded w-4 h-4 flex items-center justify-center",children:(0,n.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M8.33325 2.5L3.74992 7.08333L1.66659 5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):(0,n.jsx)("div",{className:"absolute -right-1.5 -top-1.5 bg-destructive rounded w-4 h-4 flex items-center justify-center",children:(0,n.jsx)(ea.A,{size:10,strokeWidth:4,className:"text-white rounded-full"})})]})},ed=e=>{let{title:t}=e;return(0,n.jsx)("div",{className:"flex items-center justify-between px-4 py-1 bg-surface-100/50 border border-b-0 border-surface rounded-t","data-sentry-component":"CodeBlockFileHeader","data-sentry-source-file":"ConnectionPanel.tsx",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(en.A,{size:12,className:"text-foreground-muted",strokeWidth:1.5,"data-sentry-element":"FileCode","data-sentry-source-file":"ConnectionPanel.tsx"}),(0,n.jsx)("span",{className:"text-xs text-foreground-light",children:t})]})})},eu=e=>{var t;let{type:a="direct",badge:r,title:o,description:l,contentFooter:i,connectionString:c,ipv4Status:d,notice:u,parameters:p=[],lang:m="bash",fileTitle:h,children:g,onCopyCallback:b}=e,{ref:y}=(0,s.g)(),v=(0,V.RE)(),{data:j}=(0,B.A)({projectRef:y}),w=null==j?void 0:j.find(e=>e.identifier===v.selectedDatabaseId),k=(null==w?void 0:w.pool_mode)==="session",N=null!=(t=d.links)?t:[],C="transaction"===a&&"Dedicated Pooler"===r;return(0,n.jsxs)("div",{className:"relative text-sm flex flex-col gap-5 lg:grid lg:grid-cols-12 w-full","data-sentry-component":"ConnectionPanel","data-sentry-source-file":"ConnectionPanel.tsx",children:[(0,n.jsxs)("div",{className:"col-span-4 flex flex-col",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-2 mb-2",children:[(0,n.jsx)("h1",{className:"text-sm",children:o}),!!r&&!C&&(0,n.jsx)(X.E,{children:r})]}),(0,n.jsx)("p",{className:"text-sm text-foreground-light mb-4",children:l}),i]}),(0,n.jsxs)("div",{className:"col-span-8 flex flex-col gap-2",children:[C&&(0,n.jsx)("div",{className:"text-xs flex items-center text-foreground-light",children:"Using the Dedicated Pooler:"}),(0,n.jsxs)("div",{className:"flex flex-col -space-y-px",children:[h&&(0,n.jsx)(ed,{title:h}),"transaction"===a&&k?(0,n.jsx)(ee.Z,{showIcon:!1,type:"default",className:"[&>h5]:text-xs [&>div]:text-xs",title:"Transaction pooler is unavailable as pool mode is set to Session",description:"If you'd like to use transaction mode, update your pool mode to Transaction for the connection pooler in your project's Database Settings.",children:(0,n.jsx)(x.$,{asChild:!0,type:"default",className:"mt-2",children:(0,n.jsx)(S(),{href:"/project/".concat(y,"/database/settings#connection-pooler"),className:"text-xs text-light hover:text-foreground",children:"Database Settings"})})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z.N,{wrapperClassName:(0,K.cn)("[&_pre]:rounded-b-none [&_pre]:px-4 [&_pre]:py-3",h&&"[&_pre]:rounded-t-none"),language:m,value:c,className:"[&_code]:text-[12px] [&_code]:text-foreground [&_code]:!whitespace-normal",hideLineNumbers:!0,onCopyCallback:b}),u&&(0,n.jsx)("div",{className:"border px-4 py-1 w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-light",children:null==u?void 0:u.map(e=>(0,n.jsx)("p",{className:"text-xs text-foreground-lighter",children:e},e))}),p.length>0&&(0,n.jsx)(ei,{parameters:p})]})]}),(0,n.jsxs)("div",{className:"flex flex-col -space-y-px w-full",children:[H.pe&&(0,n.jsxs)("div",{className:"border border-muted px-5 flex gap-7 items-center py-3 first:rounded-t last:rounded-b",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)(ec,{active:"success"===d.type})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs text-foreground",children:d.title}),d.description&&("string"==typeof d.description?(0,n.jsx)("span",{className:"text-xs text-foreground-lighter",children:d.description}):d.description),N.length>0&&(0,n.jsx)("div",{className:"flex items-center gap-x-2 mt-2",children:N.map(e=>(0,n.jsx)(x.$,{asChild:!0,type:"default",size:"tiny",children:(0,n.jsx)(S(),{href:e.url,className:"text-xs text-light hover:text-foreground",children:e.text})},e.text))})]})]}),"session"===a&&(0,n.jsxs)("div",{className:"border border-muted px-5 flex gap-7 items-center py-3 first:rounded-t last:rounded-b bg-alternative/50",children:[(0,n.jsx)("div",{className:"flex w-6 h-6 rounded items-center justify-center gap-2 flex-shrink-0 bg-surface-100",children:(0,n.jsx)(f.id,{})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs text-foreground",children:"Only use on a IPv4 network"}),(0,n.jsxs)("div",{className:"flex flex-col text-xs text-foreground-lighter",children:[(0,n.jsx)("p",{children:"Session pooler connections are IPv4 proxied for free."}),(0,n.jsx)("p",{children:"Use Direct Connection if connecting via an IPv6 network."})]})]})]}),H.pe&&"error"===d.type&&(0,n.jsxs)(Q.Nt,{className:"group -space-y-px",children:[(0,n.jsx)(Q.R6,{asChild:!0,className:"group/collapse w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-muted",children:(0,n.jsx)(x.$,{type:"default",size:"tiny",className:"text-foreground-lighter !bg-dash-sidebar",icon:(0,n.jsx)(er.A,{className:(0,K.cn)("group-data-[state=open]/collapse:rotate-90 text-foreground-muted transition-transform")}),children:"Some platforms are IPv4-only:"})}),(0,n.jsx)(Q.Ke,{className:"bg-dash-sidebar rounded-b border px-3 py-2",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{className:"text-xs text-foreground-light max-w-xs",children:"A few major platforms are IPv4-only and may not work with a Direct Connection:"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("div",{className:"text-foreground text-xs",children:"Vercel"}),(0,n.jsx)("div",{className:"text-foreground text-xs",children:"GitHub Actions"}),(0,n.jsx)("div",{className:"text-foreground text-xs",children:"Render"}),(0,n.jsx)("div",{className:"text-foreground text-xs",children:"Retool"})]}),(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter max-w-xs",children:["If you wish to use a Direct Connection with these, please purchase"," ",(0,n.jsx)(S(),{href:"/project/".concat(y,"/settings/addons?panel=ipv4"),className:"text-xs text-light hover:text-foreground",children:"IPv4 support"}),"."]}),(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter max-w-xs",children:["You may also use the"," ",(0,n.jsx)("span",{className:"text-foreground-light",children:"Session Pooler"})," or"," ",(0,n.jsx)("span",{className:"text-foreground-light",children:"Transaction Pooler"})," if you are on a IPv4 network."]})]})})]})]}),g]})]})};var ep=a(16841);let em={nodejs:{installCommands:["npm install postgres"],files:[{name:"db.js",content:"import postgres from 'postgres'\n\nconst connectionString = process.env.DATABASE_URL\nconst sql = postgres(connectionString)\n\nexport default sql"}]},golang:{installCommands:["go get github.com/jackc/pgx/v5"],files:[{name:"main.go",content:'package main\n\nimport (\n	"context"\n	"log"\n	"os"\n	"github.com/jackc/pgx/v5"\n)\n\nfunc main() {\n	conn, err := pgx.Connect(context.Background(), os.Getenv("DATABASE_URL"))\n	if err != nil {\n		log.Fatalf("Failed to connect to the database: %v", err)\n	}\n	defer conn.Close(context.Background())\n\n	// Example query to test connection\n	var version string\n	if err := conn.QueryRow(context.Background(), "SELECT version()").Scan(&version); err != nil {\n		log.Fatalf("Query failed: %v", err)\n	}\n\n	log.Println("Connected to:", version)\n}'}]},dotnet:{installCommands:["dotnet add package Microsoft.Extensions.Configuration.Json --version YOUR_DOTNET_VERSION"],postInstallCommands:["dotnet add package Microsoft.Extensions.Configuration.Json --version YOUR_DOTNET_VERSION"]},python:{installCommands:["pip install python-dotenv psycopg2"],files:[{name:"main.py",content:'import psycopg2\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env\nload_dotenv()\n\n# Fetch variables\nUSER = os.getenv("user")\nPASSWORD = os.getenv("password")\nHOST = os.getenv("host")\nPORT = os.getenv("port")\nDBNAME = os.getenv("dbname")\n\n# Connect to the database\ntry:\n    connection = psycopg2.connect(\n        user=USER,\n        password=PASSWORD,\n        host=HOST,\n        port=PORT,\n        dbname=DBNAME\n    )\n    print("Connection successful!")\n    \n    # Create a cursor to execute SQL queries\n    cursor = connection.cursor()\n    \n    # Example query\n    cursor.execute("SELECT NOW();")\n    result = cursor.fetchone()\n    print("Current Time:", result)\n\n    # Close the cursor and connection\n    cursor.close()\n    connection.close()\n    print("Connection closed.")\n\nexcept Exception as e:\n    print(f"Failed to connect: {e}")'}]},sqlalchemy:{installCommands:["pip install python-dotenv sqlalchemy psycopg2"],files:[{name:"main.py",content:'from sqlalchemy import create_engine\n# from sqlalchemy.pool import NullPool\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env\nload_dotenv()\n\n# Fetch variables\nUSER = os.getenv("user")\nPASSWORD = os.getenv("password")\nHOST = os.getenv("host")\nPORT = os.getenv("port")\nDBNAME = os.getenv("dbname")\n\n# Construct the SQLAlchemy connection string\nDATABASE_URL = f"postgresql+psycopg2://{USER}:{PASSWORD}@{HOST}:{PORT}/{DBNAME}?sslmode=require"\n\n# Create the SQLAlchemy engine\nengine = create_engine(DATABASE_URL)\n# If using Transaction Pooler or Session Pooler, we want to ensure we disable SQLAlchemy client side pooling -\n# https://docs.sqlalchemy.org/en/20/core/pooling.html#switching-pool-implementations\n# engine = create_engine(DATABASE_URL, poolclass=NullPool)\n\n# Test the connection\ntry:\n    with engine.connect() as connection:\n        print("Connection successful!")\nexcept Exception as e:\n    print(f"Failed to connect: {e}")'}]}},eh=e=>{let{number:t,children:a,...r}=e;return(0,n.jsxs)("div",{...r,className:(0,K.cn)("flex items-center gap-2",r.className),"data-sentry-component":"StepLabel","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,n.jsx)("div",{className:"flex font-mono text-xs items-center justify-center min-w-6 w-6 h-6 border border-strong rounded-md bg-surface-100",children:t}),(0,n.jsx)("span",{children:a})]})},ef=()=>{var e,t,a,r,o,l,i,c,d,u,m,h,f,g,b,y,v,j,w,k,N,C,_;let{ref:A}=(0,s.g)(),{data:ea}=(0,W.s)(),en=(0,V.RE)(),[er,es]=(0,R.ZA)("type",R.tU.withDefault("uri")),[eo,el]=(0,R.ZA)("source",R.tU),[ei,ec]=(0,R.ZA)("method",R.tU.withDefault("direct")),[ef,eg]=(0,p.useState)("uri"),[eb,ey]=(0,p.useState)("direct"),ev=(0,p.useMemo)(()=>{var e;return(null==ea||null==(e=ea.plan)?void 0:e.id)==="free"},[ea]);(0,p.useEffect)(()=>{let e=et.V3.map(e=>e.id);er&&e.includes(er)?eg(er):er&&!e.includes(er)&&(es("uri"),eg("uri"));let t=["direct","transaction","session"];ei&&t.includes(ei)?ey(ei):ei&&!t.includes(ei)&&(ec("direct"),ey("direct")),eo&&eo!==en.selectedDatabaseId?en.setSelectedDatabaseId(eo):eo||en.selectedDatabaseId===A||en.setSelectedDatabaseId(A)},[er,ei,eo,en]),(0,p.useEffect)(()=>{en.selectedDatabaseId&&en.selectedDatabaseId!==eo&&(en.selectedDatabaseId===A?el(null):el(en.selectedDatabaseId))},[en.selectedDatabaseId,eo,A]);let{data:ej,error:ew,isLoading:ek,isError:eN,isSuccess:eS}=(0,z.N)({projectRef:A}),{data:eC,error:e_,isLoading:eA,isError:eI,isSuccess:eR}=(0,B.A)({projectRef:A}),{data:eP,error:eE,isLoading:eD,isError:eT,isSuccess:eL}=(0,O.Vh)({projectRef:A}),eM=!!H.pe&&(ev?ek:eA),eF=H.pe?ev?eN:eI:void 0,ez=!H.pe||(ev?eS:eR),eB=null==eC?void 0:eC.find(e=>e.identifier===en.selectedDatabaseId),eO=ev?eB:ej,eU=(null!=eP?eP:[]).find(e=>e.identifier===en.selectedDatabaseId),eq=(null==eU?void 0:eU.identifier)!==A,{data:eW}=(0,U.Q)({projectRef:A}),{ipv4:eH}=(0,D.EN)(null!=(r=null==eW?void 0:eW.selected_addons)?r:[]),{mutate:eG}=(0,q.h)(),eV=(0,G.Av)(eU||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),eK=(e,t)=>{var a,n,r;let s=et.V3.find(t=>t.id===e);eG({action:"connection_string_copied",properties:{connectionType:null!=(a=null==s?void 0:s.label)?a:"Unknown",lang:null!=(n=null==s?void 0:s.lang)?n:"Unknown",connectionMethod:t,connectionTab:"Connection String"},groups:{project:null!=A?A:"Unknown",organization:null!=(r=null==ea?void 0:ea.slug)?r:"Unknown"}})},e$=(0,ep.H)({connectionInfo:eV,poolingInfo:{connectionString:null!=(o=null==eB?void 0:eB.connection_string)?o:"",db_host:eq?eV.db_host:null!=(l=null==eB?void 0:eB.db_host)?l:"",db_name:null!=(i=null==eB?void 0:eB.db_name)?i:"",db_port:null!=(c=null==eB?void 0:eB.db_port)?c:0,db_user:null!=(d=null==eB?void 0:eB.db_user)?d:""},metadata:{projectRef:A}}),eY=(0,ep.H)({connectionInfo:eV,poolingInfo:{connectionString:eq?null!=(u=null==eO?void 0:eO.connection_string.replace(null==eO?void 0:eO.db_host,eV.db_host))?u:"":null!=(m=null==eO?void 0:eO.connection_string)?m:"",db_host:eq?eV.db_host:null==eO?void 0:eO.db_host,db_name:null!=(h=null==eO?void 0:eO.db_name)?h:"",db_port:null!=(f=null==eO?void 0:eO.db_port)?f:0,db_user:null!=(g=null==eO?void 0:eO.db_user)?g:""},metadata:{projectRef:A}}),eZ=null!=(b=null==(e=et.V3.find(e=>e.id===ef))?void 0:e.lang)?b:"bash",eJ=null!=(y=null==(t=et.V3.find(e=>e.id===ef))?void 0:t.contentType)?y:"input",eQ=em[ef],eX=null==eQ?void 0:eQ.files,e0=null==eQ?void 0:eQ.installCommands,e1=null==eQ?void 0:eQ.postInstallCommands,e2=eX||e0,e5=null==(a=et.V3.find(e=>e.id===ef))?void 0:a.fileTitle,e3=0,e4={text:"Pooler settings",url:"/project/".concat(A,"/database/settings#connection-pooling")},e6=eH?[{text:"IPv4 settings",url:"/project/".concat(A,"/settings/addons?panel=ipv4")},...ev?[e4]:[]]:[{text:"IPv4 add-on",url:"/project/".concat(A,"/settings/addons?panel=ipv4")},...ev?[e4]:[]],e8=ev?"Shared Pooler":"Dedicated Pooler";return(0,n.jsxs)("div",{className:"flex flex-col","data-sentry-component":"DatabaseConnectionString","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,n.jsxs)("div",{className:(0,K.cn)("w-full flex flex-col items-start gap-2 lg:gap-3",$.UP),children:[(0,n.jsxs)("div",{className:"flex w-full flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("span",{className:"w-1/2 md:w-auto flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Type"}),(0,n.jsxs)(Y.l6,{value:ef,onValueChange:e=>{eg(e),es(e)},"data-sentry-element":"Select_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,n.jsx)(Y.bq,{size:"small",className:"w-full md:w-auto rounded-l-none","data-sentry-element":"SelectTrigger_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:(0,n.jsx)(Y.yv,{"data-sentry-element":"SelectValue_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx"})}),(0,n.jsx)(Y.gC,{"data-sentry-element":"SelectContent_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:et.V3.map(e=>(0,n.jsx)(Y.eb,{value:e.id,children:e.label},e.id))})]})]}),(0,n.jsx)(L.A,{portal:!1,buttonProps:{size:"small",className:"w-full justify-between pr-2.5 [&_svg]:h-4"},className:"w-full md:w-auto [&>span]:w-1/2 [&>span]:md:w-auto",onSelectId:e=>{e===A?el(null):el(e)},"data-sentry-element":"DatabaseSelector","data-sentry-source-file":"DatabaseConnectionString.tsx"}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("span",{className:"w-1/2 md:w-auto flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Method"}),(0,n.jsxs)(Y.l6,{value:eb,onValueChange:e=>{ey(e),ec(e)},"data-sentry-element":"Select_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,n.jsx)(Y.bq,{size:"small",className:"w-full md:w-auto rounded-l-none","data-sentry-element":"SelectTrigger_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:(0,n.jsx)(Y.yv,{size:"tiny","data-sentry-element":"SelectValue_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:et.D$[eb].label})}),(0,n.jsx)(Y.gC,{className:"max-w-sm","data-sentry-element":"SelectContent_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:Object.keys(et.D$).map(e=>(0,n.jsx)(ex,{method:e,poolerBadge:"transaction"===e?e8:void 0},e))})]})]})]}),(0,n.jsxs)("p",{className:"text-xs inline-flex items-center gap-1 text-foreground-lighter",children:[(0,n.jsx)(P.A,{size:12,strokeWidth:1.5,className:"-mb-px","data-sentry-element":"BookOpen","data-sentry-source-file":"DatabaseConnectionString.tsx"})," Learn how to connect to your Postgres databases.",(0,n.jsxs)(S(),{href:"https://supabase.com/docs/guides/database/connecting-to-postgres",className:"underline transition hover:text-foreground inline-flex items-center gap-1",target:"_blank",rel:"noreferrer",title:"Read docs","data-sentry-element":"Link","data-sentry-source-file":"DatabaseConnectionString.tsx",children:["Read docs ",(0,n.jsx)(I.A,{size:12,strokeWidth:1.5,"data-sentry-element":"ExternalLink","data-sentry-source-file":"DatabaseConnectionString.tsx"})]})]})]}),(eM||eD)&&(0,n.jsx)("div",{className:"p-7",children:(0,n.jsx)(F.Ay,{className:"h-8 w-full"})}),(eF||eT)&&(0,n.jsx)("div",{className:"p-7",children:(0,n.jsx)(T.A,{error:(ev?ew:e_)||eE,subject:"Failed to retrieve database settings"})}),ez&&eL&&(0,n.jsxs)("div",{className:"flex flex-col divide-y divide-border",children:[e2&&(0,n.jsxs)("div",{className:"flex flex-col w-full",children:[(0,n.jsxs)("div",{className:"grid lg:grid-cols-3 gap-4 lg:gap-5 py-8 px-4 md:px-7",children:[(0,n.jsx)(eh,{number:++e3,className:"items-start",children:"Install the following"}),null==e0?void 0:e0.map(e=>(0,n.jsx)(Z.N,{className:"[&_code]:text-[12px] [&_code]:text-foreground",wrapperClassName:"lg:col-span-2",value:e,hideLineNumbers:!0,language:"bash",children:e},"example-install-command-".concat(e)))]}),eX&&(null==eX?void 0:eX.length)>0&&(0,n.jsxs)("div",{className:"grid lg:grid-cols-3 gap-4 lg:gap-5 border-t py-8 px-4 md:px-7",children:[(0,n.jsx)(eh,{number:++e3,className:"items-start",children:"Add file to project"}),null==eX?void 0:eX.map(e=>(0,n.jsxs)("div",{className:"lg:col-span-2",children:[(0,n.jsx)(ed,{title:e.name}),(0,n.jsx)(Z.N,{wrapperClassName:"[&_pre]:max-h-40 [&_pre]:px-4 [&_pre]:py-3 [&_pre]:rounded-t-none",value:e.content,hideLineNumbers:!0,language:eZ,className:"[&_code]:text-[12px] [&_code]:text-foreground"})]},"example-files-".concat(e.name)))]})]}),(0,n.jsxs)("div",{children:[e2&&(0,n.jsx)("div",{className:"px-4 md:px-7 pt-8",children:(0,n.jsx)(eh,{number:++e3,children:"Connect to your database"})}),(0,n.jsxs)("div",{className:"px-4 md:px-7 py-8",children:["direct"===eb&&(0,n.jsx)(eu,{type:"direct",title:et.D$.direct.label,contentType:eJ,lang:eZ,fileTitle:e5,description:et.D$.direct.description,connectionString:eY.direct[ef],ipv4Status:{type:eH?"success":"error",title:eH?"IPv4 compatible":"Not IPv4 compatible",description:ev||eH?ev?"Use Session Pooler if on a IPv4 network or purchase IPv4 add-on":et.HE:et.JA,links:e6},parameters:[{...et.Kl.host,value:eV.db_host},{...et.Kl.port,value:eV.db_port},{...et.Kl.database,value:eV.db_name},{...et.Kl.user,value:eV.db_user}],onCopyCallback:()=>eK(ef,"direct")}),"transaction"===eb&&H.pe&&(0,n.jsx)(eu,{type:"transaction",title:et.D$.transaction.label,contentType:eJ,lang:eZ,badge:e8,fileTitle:e5,description:et.D$.transaction.description,connectionString:eY.pooler[ef],ipv4Status:{type:ev||eH?"success":"error",title:ev||eH?"IPv4 compatible":"Not IPv4 compatible",description:ev||eH?ev?"Transaction pooler connections are IPv4 proxied for free.":et.HE:et.JA,links:ev?void 0:e6},notice:["Does not support PREPARE statements"],parameters:[{...et.Kl.host,value:null!=(v=null==eO?void 0:eO.db_host)?v:""},{...et.Kl.port,value:null!=(j=null==eO?void 0:eO.db_port.toString())?j:"6543"},{...et.Kl.database,value:null!=(w=null==eO?void 0:eO.db_name)?w:""},{...et.Kl.user,value:null!=(k=null==eO?void 0:eO.db_user)?k:""},{...et.Kl.pool_mode,value:"transaction"}],onCopyCallback:()=>eK(ef,"transaction_pooler"),children:!ev&&!eH&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(J.w,{className:"w-full"}),(0,n.jsxs)(Q.Nt,{className:"group",children:[(0,n.jsx)(Q.R6,{asChild:!0,className:"w-full justify-start !last:rounded-b group-data-[state=open]:rounded-b-none border-light px-3",children:(0,n.jsx)(x.$,{type:"default",size:"large",iconRight:(0,n.jsx)(E.A,{className:"transition group-data-[state=open]:rotate-180"}),className:"text-foreground !bg-dash-sidebar justify-between",children:(0,n.jsxs)("div",{className:"text-xs flex items-center py-2 px-1",children:[(0,n.jsx)("span",{children:"Using the Shared Pooler"}),(0,n.jsx)(X.E,{variant:"brand",size:"small",className:"ml-2",children:"IPv4 compatible"})]})})}),(0,n.jsxs)(Q.Ke,{className:"bg-dash-sidebar rounded-b border text-xs",children:[(0,n.jsx)(Z.N,{wrapperClassName:(0,K.cn)("[&_pre]:border-x-0 [&_pre]:border-t-0 [&_pre]:px-4 [&_pre]:py-3","[&_pre]:rounded-t-none"),language:eZ,value:e$.pooler[ef],className:"[&_code]:text-[12px] [&_code]:text-foreground",hideLineNumbers:!0,onCopyCallback:()=>eK(ef,"transaction_pooler")}),(0,n.jsx)("p",{className:"px-3 py-2 text-foreground-light",children:"Only recommended when your network does not support IPv6. Added latency compared to dedicated pooler."})]})]})]})}),"session"===eb&&H.pe&&(0,n.jsxs)(n.Fragment,{children:[ev&&eH&&(0,n.jsx)(ee.Z,{type:"warning",title:"Highly recommended to not use Session Pooler",className:"[&>div]:gap-0 px-8 [&>svg]:left-7 border-0 border-b rounded-none border-border-muted !py-4 mb-0",children:(0,n.jsx)("p",{className:"text-sm text-foreground-lighter !mb-0",children:"If you are using Session Pooler, we recommend switching to Direct Connection."})}),(0,n.jsx)(eu,{type:"session",title:et.D$.session.label,contentType:eJ,lang:eZ,badge:"Shared Pooler",fileTitle:e5,description:et.D$.session.description,connectionString:e$.pooler[ef].replace("6543","5432"),ipv4Status:{type:"success",title:"IPv4 compatible",description:"Session pooler connections are IPv4 proxied for free",links:void 0},parameters:[{...et.Kl.host,value:null!=(N=null==eB?void 0:eB.db_host)?N:""},{...et.Kl.port,value:"5432"},{...et.Kl.database,value:null!=(C=null==eB?void 0:eB.db_name)?C:""},{...et.Kl.user,value:null!=(_=null==eB?void 0:eB.db_user)?_:""},{...et.Kl.pool_mode,value:"session"}],onCopyCallback:()=>eK(ef,"session_pooler")})]})]})]}),e1&&(0,n.jsxs)("div",{className:"grid lg:grid-cols-3 gap-4 lg:gap-5 w-full px-4 md:px-7 py-8",children:[(0,n.jsx)(eh,{number:++e3,className:"items-start",children:"Add the configuration package to read the settings"}),null==e1?void 0:e1.map(e=>(0,n.jsx)(Z.N,{className:"text-sm",wrapperClassName:"lg:col-span-2",value:e,hideLineNumbers:!0,language:"bash",children:e},"example-post-install-commands-".concat(e)))]})]}),"python"===ef&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(J.w,{}),(0,n.jsxs)(Q.Nt,{className:"px-8 py-5",children:[(0,n.jsx)(Q.R6,{className:"group [&[data-state=open]>div>svg]:!-rotate-180",children:(0,n.jsxs)("div",{className:"flex items-center gap-x-2 w-full",children:[(0,n.jsx)("p",{className:"text-xs text-foreground-light group-hover:text-foreground transition",children:"Connecting to SQL Alchemy"}),(0,n.jsx)(E.A,{className:"transition-transform duration-200",strokeWidth:1.5,size:14})]})}),(0,n.jsx)(Q.Ke,{className:"my-2",children:(0,n.jsxs)("div",{className:"text-foreground-light text-xs grid gap-2",children:[(0,n.jsxs)("p",{children:["Please use ",(0,n.jsx)("code",{children:"postgresql://"})," instead of ",(0,n.jsx)("code",{children:"postgres://"})," as your dialect when connecting via SQLAlchemy."]}),(0,n.jsxs)("p",{children:["Example:",(0,n.jsx)("code",{children:'create_engine("postgresql+psycopg2://...")'})]}),(0,n.jsx)("p",{className:"text-sm font-mono tracking-tight text-foreground-lighter"})]})})]})]}),(0,n.jsx)(J.w,{"data-sentry-element":"Separator","data-sentry-source-file":"DatabaseConnectionString.tsx"}),(0,n.jsxs)("div",{className:"px-8 pt-5 flex flex-col gap-y-1",children:[(0,n.jsx)("p",{className:"text-sm",children:"Reset your database password"}),(0,n.jsxs)("p",{className:"text-sm text-foreground-lighter",children:["You may reset your database password in your project's"," ",(0,n.jsx)(M.g,{href:"/project/".concat(A,"/database/settings"),className:"text-foreground-lighter hover:text-foreground","data-sentry-element":"InlineLink","data-sentry-source-file":"DatabaseConnectionString.tsx",children:"Database Settings"})]})]})]})},ex=e=>{let{method:t,poolerBadge:a}=e,r=[];return"direct"!==t&&r.push((0,n.jsx)(X.E,{className:"flex gap-x-1",children:"Shared Pooler"})),"Dedicated Pooler"===a&&r.push((0,n.jsx)(X.E,{className:"flex gap-x-1",children:a})),(0,n.jsx)(Y.eb,{value:t,className:"[&>span:first-child]:top-3.5","data-sentry-element":"SelectItem_Shadcn_","data-sentry-component":"ConnectionStringMethodSelectItem","data-sentry-source-file":"DatabaseConnectionString.tsx",children:(0,n.jsxs)("div",{className:"flex flex-col w-full py-1",children:[(0,n.jsx)("div",{className:"flex gap-x-2 items-center",children:et.D$[t].label}),(0,n.jsx)("div",{className:"text-foreground-lighter text-xs",children:et.D$[t].description}),(0,n.jsx)("div",{className:"flex items-center gap-0.5 flex-wrap mt-1.5",children:r.map(e=>e)})]})})};var eg=a(64778),eb=a(51982),ey=a(796),ev=a(22101),ej=a(61548),ew=a(29244);let ek=e=>{let{basePath:t,theme:a="dark",supportsDarkMode:r,iconFolder:s,connection:o}=e;return(0,n.jsx)("img",{src:"".concat(t,"/img/").concat(s,"/").concat(o.toLowerCase()).concat(r&&"dark"===a?"-dark":"","-icon.svg"),alt:"".concat(o," logo"),width:14,height:14,"data-sentry-component":"ConnectionIcon","data-sentry-source-file":"ConnectionIcon.tsx"})},eN=e=>{let{basePath:t,theme:a="light",label:r="Client",clients:s,selectedClient:o,onClientChange:l}=e,[i,c]=(0,p.useState)(!1);return(0,n.jsxs)(ej.AM,{open:i,onOpenChange:c,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"ClientSelectDropdown","data-sentry-source-file":"ClientSelectDropdown.tsx",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:r}),(0,n.jsx)(ej.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"ClientSelectDropdown.tsx",children:(0,n.jsx)(x.$,{size:"small",type:"default",className:"gap-0 rounded-l-none",iconRight:(0,n.jsx)(E.A,{strokeWidth:1.5,className:(0,K.cn)("transition-transform duration-200",i&&"rotate-180")}),"data-sentry-element":"Button","data-sentry-source-file":"ClientSelectDropdown.tsx",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(null==o?void 0:o.icon)?(0,n.jsx)(ek,{basePath:t,iconFolder:"mcp-clients",connection:o.icon,theme:a,supportsDarkMode:!0}):(0,n.jsx)(ev.A,{size:12,"aria-hidden":!0}),null==o?void 0:o.label]})})})]}),(0,n.jsx)(ej.hl,{className:"mt-0 p-0 max-w-48",side:"bottom",align:"start",portal:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"ClientSelectDropdown.tsx",children:(0,n.jsxs)(ew.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"ClientSelectDropdown.tsx",children:[(0,n.jsx)(ew.G7,{placeholder:"Search...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"ClientSelectDropdown.tsx"}),(0,n.jsxs)(ew.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"ClientSelectDropdown.tsx",children:[(0,n.jsx)(ew.xL,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"ClientSelectDropdown.tsx",children:"No results found."}),(0,n.jsx)(ew.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"ClientSelectDropdown.tsx",children:s.map(e=>(0,n.jsxs)(ew.h_,{value:e.key,onSelect:()=>{l(e.key),c(!1),c(!1)},className:"flex gap-2 items-center",children:[e.icon?(0,n.jsx)(ek,{basePath:t,iconFolder:"mcp-clients",connection:e.icon,theme:a,supportsDarkMode:!0}):(0,n.jsx)(ev.A,{size:12,"aria-hidden":!0}),e.label,(0,n.jsx)(es.A,{"aria-label":e.key===o.key?"selected":void 0,size:15,className:(0,K.cn)("ml-auto",e.key===o.key?"opacity-100":"opacity-0")})]},e.key))})]})]})})]})};var eS=a(90652),eC=a.n(eS);function e_(e){let{selectedClient:t,clientConfig:a,className:r,theme:s="dark",basePath:o,onCopyCallback:l,onInstallCallback:i}=e,c=function(e){let{basePath:t,theme:a,client:n,clientConfig:r}=e;if(n.generateDeepLink){let e=n.generateDeepLink(r);return e?{deepLink:e,imageSrc:"".concat(t,"/img/mcp-clients/").concat(n.icon).concat("dark"===a?"-dark":"","-icon.svg"),label:n.label}:null}return null}({basePath:o,theme:s,client:t,clientConfig:a});return(0,n.jsxs)("div",{className:(0,K.cn)("space-y-4",r),"data-sentry-component":"McpConfigurationDisplay","data-sentry-source-file":"McpConfigurationDisplay.tsx",children:[c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-xs text-foreground-light",children:"Install in one click:"}),(0,n.jsx)(x.$,{type:"secondary",size:"small",asChild:!0,children:(0,n.jsxs)("a",{href:c.deepLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 [&>span]:flex [&>span]:items-center [&>span]:gap-2",onClick:i,children:[(0,n.jsx)(eC(),{src:c.imageSrc,alt:"",width:16,height:16,className:"shrink-0"}),"Add to ",t.label]})})]}),t.primaryInstructions&&t.primaryInstructions(a,l),t.configFile&&(0,n.jsxs)("div",{className:"text-xs text-foreground-light",children:[t.primaryInstructions?"Alternatively, add":c?"Or add":"Add"," ","this configuration to"," ",(0,n.jsx)("code",{className:"px-1 py-0.5 bg-surface-200 rounded",children:t.configFile}),":"]}),(0,n.jsx)(Z.N,{value:JSON.stringify(a,null,2),language:"json",className:"max-h-64 overflow-y-auto",focusable:!1,onCopyCallback:()=>null==l?void 0:l("json"),"data-sentry-element":"CodeBlock","data-sentry-source-file":"McpConfigurationDisplay.tsx"}),t.alternateInstructions&&t.alternateInstructions(a,l),(t.docsUrl||t.externalDocsUrl)&&(0,n.jsxs)("div",{className:"flex items-center gap-2 text-xs text-foreground-light",children:[(0,n.jsx)("span",{children:"Need help?"}),t.docsUrl&&(0,n.jsxs)("a",{href:t.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-brand hover:underline inline-flex items-center",children:["View setup guide",(0,n.jsx)(I.A,{className:"h-3 w-3 ml-1"})]}),t.externalDocsUrl&&(0,n.jsxs)("a",{href:t.externalDocsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-brand hover:underline inline-flex items-center",children:["View ",t.label," docs",(0,n.jsx)(I.A,{className:"h-3 w-3 ml-1"})]})]})]})}var eA=a(72608),eI=a(883),eR=a(4969),eP=a(49742);function eE(e){let{isPlatform:t,readonly:a,onReadonlyChange:r,selectedFeatures:s,onFeaturesChange:o,featureGroups:l,className:i}=e;return(0,n.jsxs)("div",{className:(0,K.cn)("flex flex-col gap-4 lg:flex-row lg:gap-12 lg:items-baseline",i),"data-sentry-component":"McpConfigurationOptions","data-sentry-source-file":"McpConfigurationOptions.tsx",children:[(0,n.jsxs)("div",{className:"space-y-3 lg:flex-shrink-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(eI.J,{htmlFor:"readonly",className:"text-sm","data-sentry-element":"Label","data-sentry-source-file":"McpConfigurationOptions.tsx",children:"Read-only"}),(0,n.jsx)(eR.I,{"data-sentry-element":"InfoTooltip","data-sentry-source-file":"McpConfigurationOptions.tsx",children:"Only allow read operations on your database"})]}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)(eA.d,{id:"readonly",checked:a,onCheckedChange:r,"data-sentry-element":"Switch","data-sentry-source-file":"McpConfigurationOptions.tsx"})})]}),(0,n.jsxs)("div",{className:"space-y-3 lg:flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(eI.J,{className:"text-sm","data-sentry-element":"Label","data-sentry-source-file":"McpConfigurationOptions.tsx",children:"Feature Groups"}),(0,n.jsx)(eR.I,{"data-sentry-element":"InfoTooltip","data-sentry-source-file":"McpConfigurationOptions.tsx",children:"Only enable a subset of features. Helps keep the number of tools within MCP client limits"})]}),(0,n.jsxs)(eP.xf,{values:s,onValuesChange:o,"data-sentry-element":"MultiSelector","data-sentry-source-file":"McpConfigurationOptions.tsx",children:[(0,n.jsx)(eP.hw,{className:"w-full",label:"All features except Storage enabled by default",badgeLimit:"wrap",showIcon:!0,"data-sentry-element":"MultiSelectorTrigger","data-sentry-source-file":"McpConfigurationOptions.tsx"}),(0,n.jsx)(eP.sD,{"data-sentry-element":"MultiSelectorContent","data-sentry-source-file":"McpConfigurationOptions.tsx",children:(0,n.jsx)(eP.DG,{"data-sentry-element":"MultiSelectorList","data-sentry-source-file":"McpConfigurationOptions.tsx",children:l.map(e=>(0,n.jsx)(eP.Oe,{value:e.id,children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"font-medium",children:e.name}),(0,n.jsx)("span",{className:"text-xs text-foreground-light",children:e.description})]})},e.id))})})]})]})]})}var eD=a(15599).Buffer;let eT=[{id:"docs",name:"Documentation",description:"Access Supabase documentation and guides"},{id:"account",name:"Account",description:"Manage account settings and preferences"},{id:"database",name:"Database",description:"Query and manage database schema and data"},{id:"debugging",name:"Debugging",description:"Debug and troubleshoot issues"},{id:"development",name:"Development",description:"Development tools and utilities"},{id:"functions",name:"Functions",description:"Manage and deploy Edge Functions"},{id:"branching",name:"Branching",description:"Manage database branches"},{id:"storage",name:"Storage",description:"Manage files and storage buckets"}],eL=eT.filter(e=>["docs","database","development","debugging"].includes(e.id)),eM=[{key:"cursor",label:"Cursor",icon:"cursor",configFile:".cursor/mcp.json",externalDocsUrl:"https://docs.cursor.com/context/mcp",generateDeepLink:e=>{let t=eD.from(JSON.stringify(e.mcpServers.supabase)).toString("base64");return"cursor://anysphere.cursor-deeplink/mcp/install?name=".concat("supabase","&config=").concat(encodeURIComponent(t))}},{key:"vscode",label:"VS Code",icon:"vscode",configFile:".vscode/mcp.json",externalDocsUrl:"https://code.visualstudio.com/docs/copilot/chat/mcp-servers",transformConfig:e=>({mcpServers:{supabase:{type:"http",url:e.mcpServers.supabase.url}}}),generateDeepLink:e=>{let t={name:"supabase",...e.mcpServers.supabase};return"vscode:mcp/install?".concat(encodeURIComponent(JSON.stringify(t)))}},{key:"windsurf",label:"Windsurf",icon:"windsurf",configFile:"~/.codeium/windsurf/mcp_config.json",externalDocsUrl:"",transformConfig:e=>({mcpServers:{supabase:{command:"npx",args:["-y","mcp-remote",e.mcpServers.supabase.url]}}}),alternateInstructions:(e,t)=>(0,n.jsx)("p",{className:"text-xs text-foreground-light",children:"Windsurf does not currently support remote MCP servers over HTTP transport. You need to use the mcp-remote package as a proxy."})},{key:"claude-code",label:"Claude Code",icon:"claude",configFile:".mcp.json",externalDocsUrl:"https://docs.anthropic.com/en/docs/claude-code/mcp",transformConfig:e=>({mcpServers:{supabase:{type:"http",url:e.mcpServers.supabase.url}}}),primaryInstructions:(e,t)=>{let a='claude mcp add --scope project --transport http supabase "'.concat(e.mcpServers.supabase.url,'"');return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("p",{className:"text-xs text-foreground-light",children:"Add the MCP server to your project config using the command line:"}),(0,n.jsx)(Z.N,{value:a,language:"bash",focusable:!1,className:"block",onCopyCallback:()=>null==t?void 0:t("command")})]})},alternateInstructions:(e,t)=>(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("p",{className:"text-xs text-foreground-light",children:"After configuring the MCP server, you need to authenticate. In a regular terminal (not the IDE extension) run:"}),(0,n.jsx)(Z.N,{value:"claude /mcp",language:"bash",focusable:!1,className:"block",onCopyCallback:()=>null==t?void 0:t("command")}),(0,n.jsx)("p",{className:"text-xs text-foreground-light",children:'Select the "supabase" server, then "Authenticate" to begin the authentication flow.'})]})}];function eF(e){let{basePath:t,projectRef:a,initialSelectedClient:r,onClientSelect:s,onCopyCallback:o,onInstallCallback:l,className:i,theme:c="dark",isPlatform:d,apiUrl:u}=e,[m,h]=(0,p.useState)(!1),[f,x]=(0,p.useState)([]),[g,b]=(0,p.useState)(null!=r?r:eM[0]),y=d?eT:eL,v=(0,p.useMemo)(()=>f.filter(e=>y.some(t=>t.id===e)),[f,y]),{mcpUrl:j,clientConfig:w}=function(e){let{projectRef:t,isPlatform:a,apiUrl:n,readonly:r=!1,features:s=[],selectedClient:o}=e,l=new URL(function(e){let{isPlatform:t,apiUrl:a}=e;if(t)return"https://mcp.supabase.com/mcp";return a?"".concat(a,"/mcp"):"http://localhost:54321/mcp"}({isPlatform:a,apiUrl:n}));t&&a&&l.searchParams.set("project_ref",t),r&&l.searchParams.set("read_only","true"),s.length>0&&l.searchParams.set("features",s.join(","));let i=l.toString(),c={mcpServers:{supabase:{url:i}}};return(null==o?void 0:o.transformConfig)&&(c=o.transformConfig(c)),{mcpUrl:i,clientConfig:c}}({projectRef:a,isPlatform:d,apiUrl:u,readonly:m,features:v,selectedClient:g});p.useEffect(()=>{null==s||s(g)},[g,s]);let k="px-4 py-3";return(0,n.jsxs)("div",{className:(0,K.cn)("space-y-6",i),"data-sentry-component":"McpConfigPanel","data-sentry-source-file":"McpConfigPanel.tsx",children:[(0,n.jsxs)("div",{className:(0,K.cn)("border rounded-lg"),children:[(0,n.jsx)("h3",{className:k,children:"Options"}),(0,n.jsx)(J.w,{"data-sentry-element":"Separator","data-sentry-source-file":"McpConfigPanel.tsx"}),(0,n.jsx)(eE,{className:k,isPlatform:d,readonly:m,onReadonlyChange:h,selectedFeatures:v,onFeaturesChange:x,featureGroups:d?eT:eL,"data-sentry-element":"McpConfigurationOptions","data-sentry-source-file":"McpConfigPanel.tsx"}),(0,n.jsx)("div",{className:k,children:(0,n.jsx)(Z.N,{focusable:!1,title:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:["Server URL",(0,n.jsx)(eR.I,{children:"MCP clients should support the Streamable HTTP transport".concat(d?" and OAuth 2.1 with dynamic client registration":"")})]}),hideLineNumbers:!0,language:"http",className:"max-h-64 overflow-y-auto",onCopyCallback:()=>null==o?void 0:o("url"),"data-sentry-element":"CodeBlock","data-sentry-source-file":"McpConfigPanel.tsx",children:j})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,n.jsx)(eN,{label:"Client",clients:eM,selectedClient:g,onClientChange:e=>{let t=eM.find(t=>t.key===e);t&&b(t)},basePath:t,theme:c,"data-sentry-element":"ClientSelectDropdown","data-sentry-source-file":"McpConfigPanel.tsx"}),(0,n.jsx)("p",{className:"text-xs text-foreground-lighter",children:"Configure your MCP client to connect with your Supabase project"})]}),(0,n.jsxs)("div",{className:(0,K.cn)("border rounded-lg"),children:[(0,n.jsx)("div",{className:k,children:(0,n.jsx)("h3",{children:"Installation"})}),(0,n.jsx)(J.w,{"data-sentry-element":"Separator","data-sentry-source-file":"McpConfigPanel.tsx"}),(0,n.jsx)(e_,{className:k,theme:c,basePath:t,selectedClient:g,clientConfig:w,onCopyCallback:o,onInstallCallback:l,"data-sentry-element":"McpConfigurationDisplay","data-sentry-source-file":"McpConfigPanel.tsx"})]})]})}let ez=e=>{let{projectKeys:t}=e,{ref:a}=(0,s.g)();return(0,n.jsx)(eg.A,{className:"bg-inherit border-none shadow-none","data-sentry-element":"Panel","data-sentry-component":"McpTabContent","data-sentry-source-file":"McpTabContent.tsx",children:a?(0,n.jsx)(eO,{projectRef:a,projectKeys:t}):(0,n.jsx)(eB,{})})},eB=()=>(0,n.jsxs)("div",{className:"flex flex-col gap-2","data-sentry-component":"McpTabContentInnerLoading","data-sentry-source-file":"McpTabContent.tsx",children:[(0,n.jsx)(F.Ay,{className:"w-3/4","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"McpTabContent.tsx"}),(0,n.jsx)(F.Ay,{className:"w-1/2","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"McpTabContent.tsx"})]}),eO=e=>{var t;let{projectRef:a,projectKeys:r}=e,{resolvedTheme:o}=(0,ey.D)(),l=(0,eb.n)(),[i,c]=(0,p.useState)(null);return(0,n.jsx)(eF,{basePath:H.o2,projectRef:a,theme:o,isPlatform:s.pe,apiUrl:null!=(t=r.apiUrl)?t:void 0,onCopyCallback:e=>{let t;switch(e){case"command":t="Command Line";break;case"json":t="JSON";break;default:t="MCP URL"}l("connection_string_copied",{connectionTab:"MCP",selectedItem:null==i?void 0:i.label,connectionType:t,source:"studio"})},onInstallCallback:()=>{(null==i?void 0:i.label)&&l("mcp_install_button_clicked",{client:i.label,source:"studio"})},onClientSelect:c,"data-sentry-element":"McpConfigPanel","data-sentry-component":"McpTabContentInnerLoaded","data-sentry-source-file":"McpTabContent.tsx"})};var eU=a(23729),eq=a(76750),eW=a(27664),eH=a(80090),eG=a(2657),eV=a(9620),eK=a(11101),e$=a(71505),eY=a(77200);let eZ=e=>{let{state:t,updateState:a,label:r,items:s,iconFolder:o,supportsDarkMode:l}=e,[i,c]=(0,p.useState)(!1),d=s.find(e=>e.key===t);return(0,n.jsxs)(ej.AM,{open:i,onOpenChange:c,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"ConnectDropdown","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,n.jsxs)("div",{className:"flex ",children:[(0,n.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:r}),(0,n.jsx)(ej.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,n.jsx)(x.$,{size:"small",type:"default",className:"gap-0 rounded-l-none",iconRight:(0,n.jsx)(E.A,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(null==d?void 0:d.icon)?(0,n.jsx)(eY.s,{icon:d.icon,iconFolder:o,supportsDarkMode:l}):(0,n.jsx)(e$.A,{size:12}),null==d?void 0:d.label]})})})]}),(0,n.jsx)(ej.hl,{className:"p-0 max-w-48",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,n.jsxs)(ew.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,n.jsx)(ew.G7,{placeholder:"Search...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx"}),(0,n.jsxs)(ew.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,n.jsx)(ew.xL,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:"No results found."}),(0,n.jsx)(ew.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:s.map(e=>(0,n.jsxs)(ew.h_,{value:e.key,onSelect:()=>{a(e.key),c(!1),c(!1)},className:"flex gap-2 items-center",children:[e.icon?(0,n.jsx)(eY.s,{icon:e.icon,iconFolder:o,supportsDarkMode:l}):(0,n.jsx)(e$.A,{size:12}),e.label,(0,n.jsx)(es.A,{size:15,className:(0,K.cn)("ml-auto  ",e.key===t?"opacity-100":"opacity-0")})]},e.key))})]})]})})]})};var eJ=a(26080),eQ=a.n(eJ),eX=a(53626);let e0=(0,p.forwardRef)((e,t)=>{var r,o,l,i,c,d;let{projectKeys:u,filePath:m,connectionTab:h,selectedFrameworkOrTool:f,...x}=e,{ref:g}=(0,s.g)(),b=(0,eb.n)(),{data:y}=(0,W.s)(),v=(0,p.useMemo)(()=>(null==y?void 0:y.plan.id)!=="free",[y]),j=()=>{let e={connectionTab:h,selectedItem:f};if("ORMs"!==h){var t;e.connectionType="Framework snippet",e.lang=null!=(t=m.split("/").pop())?t:"unknown"}b("connection_string_copied",e)},{data:w}=(0,eW.G)({projectRef:g}),{data:k}=(0,z.N)({projectRef:g}),{data:N}=(0,B.A)({projectRef:g}),{data:S}=(0,U.Q)({projectRef:g}),{ipv4:C}=(0,D.EN)(null!=(r=null==S?void 0:S.selected_addons)?r:[]),_=(0,G.Av)(w||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),A=null==N?void 0:N.find(e=>"PRIMARY"===e.database_type),I=v?k:void 0,R=(0,ep.H)({connectionInfo:_,poolingInfo:{connectionString:null!=(o=null==A?void 0:A.connection_string)?o:"",db_host:null!=(l=null==A?void 0:A.db_host)?l:"",db_name:null!=(i=null==A?void 0:A.db_name)?i:"",db_port:null!=(c=null==A?void 0:A.db_port)?c:0,db_user:null!=(d=null==A?void 0:A.db_user)?d:""},metadata:{projectRef:g}}),P=void 0!==I?(0,ep.H)({connectionInfo:_,poolingInfo:{connectionString:I.connection_string,db_host:I.db_host,db_name:I.db_name,db_port:I.db_port,db_user:I.db_user},metadata:{projectRef:g}}):void 0,E=(0,p.useMemo)(()=>eQ()(()=>a(74988)("./".concat(m,"/content")),{loading:()=>(0,n.jsx)("div",{className:"p-4 min-h-[331px]",children:(0,n.jsx)(F.yV,{})})}),[m]);return(0,n.jsx)("div",{ref:t,...x,className:(0,K.cn)("border rounded-lg",x.className),children:(0,n.jsx)(eX.A.Provider,{value:j,children:(0,n.jsx)(E,{projectKeys:u,filePath:m,connectionTab:h,selectedFrameworkOrTool:f,connectionStringPooler:{transactionShared:R.pooler.uri,sessionShared:R.pooler.uri.replace("6543","5432"),transactionDedicated:null==P?void 0:P.pooler.uri,sessionDedicated:null==P?void 0:P.pooler.uri.replace("6543","5432"),ipv4SupportedForDedicatedPooler:!!C,direct:R.direct.uri},onCopy:j})})})});e0.displayName="ConnectTabContent";let e1=()=>{var e,t,a,o,l,i,c,d;let u=(0,r.useRouter)(),{ref:m}=(0,s.g)(),{data:h}=(0,eV.YA)(),f=(null==h?void 0:h.status)===H.BU.ACTIVE_HEALTHY,{projectConnectionShowAppFrameworks:g,projectConnectionShowMobileFrameworks:b,projectConnectionShowOrms:y}=(0,eG.x)(["project_connection:show_app_frameworks","project_connection:show_mobile_frameworks","project_connection:show_orms"]),v=et.ZH.filter(e=>{let{key:t}=e;return"frameworks"===t?g:"mobiles"===t?b:"orms"!==t||y}),[j,w]=(0,R.ZA)("showConnect",R.cr.withDefault(!1)),[k,N]=(0,R.ZA)("connectTab",R.tU.withDefault("direct")),[S,C]=(0,R.ZA)("framework",R.tU),[P,E]=(0,R.ZA)("using",R.tU),[D,T]=(0,R.ZA)("with",R.tU),[L,M]=(0,R.ZA)("type",R.tU),[F,z]=(0,R.ZA)("source",R.tU),[B,O]=(0,R.ZA)("method",R.tU),[U,q]=(0,p.useState)(et.i),[W,G]=(0,p.useState)(U[0].key),[V,Y]=(0,p.useState)(null!=(d=null==(t=U.find(e=>e.key===W))||null==(e=t.children[0])?void 0:e.key)?d:""),[Z,J]=(0,p.useState)((null==(l=U.find(e=>e.key===W))||null==(o=l.children.find(e=>e.key===V))||null==(a=o.children[0])?void 0:a.key)||""),{data:Q}=(0,eW.G)({projectRef:m},{enabled:j}),{can:X}=(0,eH.Qp)(_.aG.READ,"service_api_keys"),ee=e=>{var t,a;G(e),C(e);let n=U.find(t=>t.key===e),r=null==n||null==(t=n.children)?void 0:t[0];if(r){Y(r.key),E(r.key);let e=null==(a=r.children)?void 0:a[0];e?(J(e.key),T(e.key)):(J(""),T(null))}else Y(""),E(null),J(""),T(null)},ea=e=>{var t;Y(e),E(e);let a=U.find(e=>e.key===W),n=null==a?void 0:a.children.find(t=>t.key===e),r=null==n||null==(t=n.children)?void 0:t[0];r?(J(r.key),T(r.key)):(J(""),T(null))},en=e=>{J(e),e?T(e):T(null)};function er(e){var t,a;G(e[0].key),(null==(t=e[0])?void 0:t.children.length)>0?(Y(e[0].children[0].key),(null==(a=e[0].children[0])?void 0:a.children.length)>0?J(e[0].children[0].children[0].key):J("")):(Y(""),J(""))}let{data:es}=(0,eq.I)({projectRef:m},{enabled:X}),{anonKey:eo,publishableKey:el}=X?(0,eq.x)(es):{anonKey:null,publishableKey:null},ei=(0,p.useMemo)(()=>{var e,t,a,n,r,s;let o=null!=(a=null==Q||null==(e=Q.app_config)?void 0:e.protocol)?a:"https",l=null!=(n=null==Q||null==(t=Q.app_config)?void 0:t.endpoint)?n:"",i=X?"".concat(o,"://").concat(null!=l?l:"-"):"";return{apiUrl:null!=i?i:null,anonKey:null!=(r=null==eo?void 0:eo.api_key)?r:null,publishableKey:null!=(s=null==el?void 0:el.api_key)?s:null}},[null==Q||null==(i=Q.app_config)?void 0:i.protocol,null==Q||null==(c=Q.app_config)?void 0:c.endpoint,X,null==eo?void 0:eo.api_key,null==el?void 0:el.api_key]),ec=(e=>{let{connectionObject:t,selectedParent:a,selectedChild:n,selectedGrandchild:r}=e,s=t.find(e=>e.key===a);if(s){let e=s.children.find(e=>e.key===n);return e?e.children.find(e=>e.key===r)?"".concat(a,"/").concat(n,"/").concat(r):"".concat(a,"/").concat(n):a}return""})({connectionObject:U,selectedParent:W,selectedChild:V,selectedGrandchild:Z}),ed=()=>{C(null),E(null),T(null),M(null),z(null),O(null)};return((0,p.useEffect)(()=>{if(!j)return;let e=void 0===u.query.connectTab,t=S||P||D,a=function(e){return e?et.i.find(t=>t.key===e)?"frameworks":et.wT.find(t=>t.key===e)?"mobiles":et.oN.find(t=>t.key===e)?"orms":null:null}(S);e&&t&&a&&(N(a),"frameworks"===a&&q(et.i),"mobiles"===a&&q(et.wT),"orms"===a&&q(et.oN))},[j,u.query.connectTab,S,P,D,N]),(0,p.useEffect)(()=>{var e,t,a,n,r,s,o,l,i,c,d;if(!j)return;let u=function(e){switch(e){case"frameworks":default:return et.i;case"mobiles":return et.wT;case"orms":return et.oN}}(k);q(u);let p=null!=(a=u.find(e=>e.key===S))?a:u[0];G(null!=(n=null==p?void 0:p.key)?n:""),S&&(null==p?void 0:p.key)!==S&&C(null!=(r=null==p?void 0:p.key)?r:null);let m=null!=(s=null==p?void 0:p.children.find(e=>e.key===P))?s:null==p||null==(e=p.children)?void 0:e[0];Y(null!=(o=null==m?void 0:m.key)?o:""),P&&(null==m?void 0:m.key)!==P&&E(null!=(l=null==m?void 0:m.key)?l:null);let h=null!=(i=null==m?void 0:m.children.find(e=>e.key===D))?i:null==m||null==(t=m.children)?void 0:t[0];J(null!=(c=null==h?void 0:h.key)?c:""),D&&(null==h?void 0:h.key)!==D&&T(null!=(d=null==h?void 0:h.key)?d:null)},[j,k,S,C,P,E,D,T]),f)?(0,n.jsxs)($.lG,{open:j,onOpenChange:e=>{e?w(e):(w(null),N(null),ed())},"data-sentry-element":"Dialog","data-sentry-component":"Connect","data-sentry-source-file":"Connect.tsx",children:[(0,n.jsx)($.zM,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"Connect.tsx",children:(0,n.jsx)(x.$,{type:"default",className:"rounded-full",icon:(0,n.jsx)(A.A,{className:"rotate-90"}),"data-sentry-element":"Button","data-sentry-source-file":"Connect.tsx",children:(0,n.jsx)("span",{children:"Connect"})})}),(0,n.jsxs)($.Cf,{className:(0,K.cn)("sm:max-w-5xl p-0 rounded-lg"),centered:!1,"data-sentry-element":"DialogContent","data-sentry-source-file":"Connect.tsx",children:[(0,n.jsxs)($.c7,{className:(0,K.cn)("text-left",$.UP),"data-sentry-element":"DialogHeader","data-sentry-source-file":"Connect.tsx",children:[(0,n.jsxs)($.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"Connect.tsx",children:["Connect to your project",1===v.length?" via ".concat(v[0].label.toLowerCase()):null]}),(0,n.jsx)($.rr,{"data-sentry-element":"DialogDescription","data-sentry-source-file":"Connect.tsx",children:"Get the connection strings and environment variables for your app."})]}),(0,n.jsxs)(eK.tU,{value:k,onValueChange:e=>{ed(),function(e){N(e),"frameworks"===e&&(q(et.i),er(et.i)),"mobiles"===e&&(q(et.wT),er(et.wT)),"orms"===e&&(q(et.oN),er(et.oN))}(e)},"data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"Connect.tsx",children:[v.length>1?(0,n.jsx)(eK.j7,{className:(0,K.cn)("flex overflow-x-scroll gap-x-4",$.UP),children:v.map(e=>(0,n.jsx)(eK.Xi,{value:e.key,className:"px-0",children:e.label},e.key))}):(0,n.jsx)($.pf,{}),v.map(e=>{var t,a,r,s,o,l,i;let c=((null==(t=U.find(e=>e.key===W))?void 0:t.children.length)||0)>0,d=((null==(r=U.find(e=>e.key===W))||null==(a=r.children.find(e=>e.key===V))?void 0:a.children.length)||0)>0;if("direct"===e.key)return(0,n.jsx)(eK.av,{value:"direct",className:(0,K.cn)("!mt-0","p-0","flex flex-col gap-6"),children:(0,n.jsx)("div",{className:$.bQ,children:(0,n.jsx)(ef,{})})},"direct");if("mcp"===e.key)return(0,n.jsx)(eK.av,{value:"mcp",className:(0,K.cn)($.UP,$.bQ,"!mt-0"),children:(0,n.jsx)(ez,{projectKeys:ei})},"mcp");let u={frameworks:"App Frameworks",mobiles:"Mobile Frameworks",orms:"ORMs"}[e.key]||"App Frameworks",p=(null==(s=U.find(e=>e.key===W))?void 0:s.label)||"";return(0,n.jsxs)(eK.av,{value:e.key,className:(0,K.cn)($.UP,$.bQ,"!mt-0"),children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 justify-between",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[(0,n.jsx)(eZ,{state:W,updateState:ee,label:U===et.i||U===et.wT?"Framework":"Tool",items:U}),W&&c&&(0,n.jsx)(eZ,{state:V,updateState:ea,label:"Using",items:(()=>{let e=U.find(e=>e.key===W);return e&&e.children.length>0?e.children:[]})()}),V&&d&&(0,n.jsx)(eZ,{state:Z,updateState:en,label:"With",items:(()=>{let e=U.find(e=>e.key===W),t=null==e?void 0:e.children.find(e=>e.key===V);return t&&t.children.length>0?t.children:[]})()})]}),(null==(o=U.find(e=>e.key===W))?void 0:o.guideLink)&&(0,n.jsx)(x.$,{asChild:!0,type:"default",icon:(0,n.jsx)(I.A,{strokeWidth:1.5}),children:(0,n.jsxs)("a",{target:"_blank",rel:"noreferrer",href:(null==(l=U.find(e=>e.key===W))?void 0:l.guideLink)||"",children:[null==(i=U.find(e=>e.key===W))?void 0:i.label," guide"]})})]}),(0,n.jsx)("p",{className:"text-xs text-foreground-lighter my-3",children:"Add the following files below to your application"}),(0,n.jsx)(e0,{projectKeys:ei,filePath:ec,connectionTab:u,selectedFrameworkOrTool:p,className:"rounded-b-none"}),(0,n.jsx)(eg.A.Notice,{className:"border border-t-0 rounded-lg rounded-t-none",title:"New API keys coming 2025",description:"\n`anon` and `service_role` API keys will be changing to `publishable` and `secret` API keys.\n",href:"https://github.com/orgs/supabase/discussions/29260",buttonText:"Read the announcement"})]},"content-".concat(e.key))})]})]})]}):(0,n.jsx)(eU.G,{disabled:!0,type:"default",className:"rounded-full",icon:(0,n.jsx)(A.A,{className:"rotate-90"}),tooltip:{content:{side:"bottom",text:"Project is currently not active and cannot be connected"}},children:"Connect"})};var e2=a(96422),e5=a(91487),e3=a(76053),e4=a(21162),e6=a(286),e8=a(91898);let e7=()=>{let{theme:e,setTheme:t}=(0,ey.D)(),a=(0,e8.sU)(),{openFeaturePreviewModal:r}=(0,C.j_)();return(0,n.jsxs)(e4.rI,{"data-sentry-element":"DropdownMenu","data-sentry-component":"LocalDropdown","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,n.jsx)(e4.ty,{className:"border flex-shrink-0 px-3",asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"LocalDropdown.tsx",children:(0,n.jsx)(x.$,{type:"default",className:"[&>span]:flex px-0 py-0 rounded-full overflow-hidden h-8 w-8","data-sentry-element":"Button","data-sentry-source-file":"LocalDropdown.tsx",children:(0,n.jsx)(e2.p,{className:"w-8 h-8 rounded-md","data-sentry-element":"ProfileImage","data-sentry-source-file":"LocalDropdown.tsx"})})}),(0,n.jsxs)(e4.SQ,{side:"bottom",align:"end",className:"w-44","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,n.jsxs)(e4._2,{className:"flex gap-2",onClick:r,onSelect:r,"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,n.jsx)(e5.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter","data-sentry-element":"FlaskConical","data-sentry-source-file":"LocalDropdown.tsx"}),"Feature previews"]}),(0,n.jsxs)(e4._2,{className:"flex gap-2",onClick:()=>a(!0),"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,n.jsx)(e3.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter","data-sentry-element":"Command","data-sentry-source-file":"LocalDropdown.tsx"}),"Command menu"]}),(0,n.jsx)(e4.mB,{"data-sentry-element":"DropdownMenuSeparator","data-sentry-source-file":"LocalDropdown.tsx"}),(0,n.jsxs)(e4.I,{"data-sentry-element":"DropdownMenuGroup","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,n.jsx)(e4.lp,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"LocalDropdown.tsx",children:"Theme"}),(0,n.jsx)(e4.Hr,{value:e,onValueChange:e=>{t(e)},"data-sentry-element":"DropdownMenuRadioGroup","data-sentry-source-file":"LocalDropdown.tsx",children:e6.h.map(e=>(0,n.jsx)(e4.Ht,{value:e.value,children:e.name},e.value))})]})]})]})};var e9=a(54952),te=a(63159),tt=a(6542),ta=a(18664),tn=a(69498);let tr=e=>{let{projectRef:t}=e,{toggleSidebar:a,activeSidebar:r}=(0,ta.rM)(),{data:s}=(0,tt.b)({projectRef:t}),o=Array.isArray(s)&&s.some(e=>"ERROR"===e.level),l=(null==r?void 0:r.id)===tn.c.ADVISOR_PANEL;return(0,n.jsxs)("div",{className:"relative","data-sentry-component":"AdvisorButton","data-sentry-source-file":"AdvisorButton.tsx",children:[(0,n.jsx)(eU.G,{type:"outline",size:"tiny",id:"advisor-center-trigger",className:(0,K.cn)("rounded-full w-[32px] h-[32px] flex items-center justify-center p-0 group",l&&"bg-foreground text-background"),onClick:()=>{a(tn.c.ADVISOR_PANEL)},tooltip:{content:{text:"Advisor Center"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"AdvisorButton.tsx",children:(0,n.jsx)(te.A,{size:16,strokeWidth:1.5,className:(0,K.cn)("text-foreground-light group-hover:text-foreground",l&&"text-background group-hover:text-background"),"data-sentry-element":"Lightbulb","data-sentry-source-file":"AdvisorButton.tsx"})}),o&&(0,n.jsx)("span",{className:"absolute top-1.5 right-1.5 w-1.5 h-1.5 rounded-full bg-destructive"})]})};var ts=a(90693),to=a(72432);let tl=()=>{let{activeSidebar:e,toggleSidebar:t}=(0,ta.rM)(),[a]=(0,c.U)(s.rS.HOTKEY_SIDEBAR(tn.c.AI_ASSISTANT),!0),r=(null==e?void 0:e.id)===tn.c.AI_ASSISTANT;return(0,n.jsx)(eU.G,{type:"outline",size:"tiny",id:"assistant-trigger",className:(0,K.cn)("rounded-full w-[32px] h-[32px] flex items-center justify-center p-0",r&&"bg-foreground text-background"),onClick:()=>{t(tn.c.AI_ASSISTANT)},tooltip:{content:{className:"p-1 pl-2.5",text:(0,n.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,n.jsx)("span",{children:"AI Assistant"}),a&&(0,n.jsx)(ts.S,{keys:["Meta","I"]})]})}},"data-sentry-element":"ButtonTooltip","data-sentry-component":"AssistantButton","data-sentry-source-file":"AssistantButton.tsx",children:(0,n.jsx)(to.M,{allowHoverEffect:!1,size:16,className:(0,K.cn)(r&&"text-background"),"data-sentry-element":"AiIconAnimation","data-sentry-source-file":"AssistantButton.tsx"})})};var ti=a(34873),tc=a(12123),td=a(32157),tu=a(90376),tp=a(65115),tm=a(52818),th=a(95140),tf=a(97757),tx=a(30691),tg=a(37115);let tb=(e,t)=>{if(!(Object.entries(t).length>1))return e;{let a="bucketId"in t,n="preset"in t;return e.split("/").slice(0,a||n?5:4).join("/")}},ty=()=>{let e=(0,r.useRouter)(),{ref:t}=(0,s.g)(),{data:a,isLoading:o}=(0,eV.YA)(),{data:l}=(0,W.s)(),i=(null==a?void 0:a.parentRef)!==(null==a?void 0:a.ref),{data:c,isLoading:d}=(0,tg.wT)({ref:null==a?void 0:a.parent_project_ref},{enabled:i}),u=null!=c?c:a,m=(0,eG.x)("projects:create"),[h,f]=(0,p.useState)(!1);return o||i&&d||!u?(0,n.jsx)(F.Ay,{className:"w-[90px]"}):H.pe?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(S(),{href:"/project/".concat(null==a?void 0:a.ref),className:"flex items-center gap-2 flex-shrink-0 text-sm","data-sentry-element":"Link","data-sentry-source-file":"ProjectDropdown.tsx",children:[(0,n.jsx)(e$.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter","data-sentry-element":"Box","data-sentry-source-file":"ProjectDropdown.tsx"}),(0,n.jsx)("span",{className:"text-foreground max-w-32 lg:max-w-none truncate",children:null==u?void 0:u.name})]}),(0,n.jsx)(tx.S,{open:h,setOpen:f,selectedRef:t,onSelect:t=>{var a;let n=tb(e.route,e.query),r=null!=(a=null==n?void 0:n.replace("[ref]",t.ref))?a:"/project/".concat(t.ref);e.push(r)},renderTrigger:()=>(0,n.jsx)(x.$,{type:"text",size:"tiny",className:(0,K.cn)("px-1.5 py-4 [&_svg]:w-5 [&_svg]:h-5 ml-1"),iconRight:(0,n.jsx)(td.A,{strokeWidth:1.5})}),renderRow:a=>{var r;let s=tb(e.route,e.query),o=null!=(r=null==s?void 0:s.replace("[ref]",a.ref))?r:"/project/".concat(a.ref),l=a.ref===t;return(0,n.jsxs)(S(),{href:o,className:"w-full flex items-center justify-between",children:[(0,n.jsx)("span",{className:(0,K.cn)("truncate",l?"max-w-60":"max-w-64"),children:a.name}),l&&(0,n.jsx)(es.A,{size:16})]})},renderActions:()=>m&&(0,n.jsx)(ew.L$,{children:(0,n.jsx)(ew.h_,{className:"cursor-pointer w-full",onSelect:()=>{f(!1),e.push("/new/".concat(null==l?void 0:l.slug))},onClick:()=>f(!1),children:(0,n.jsxs)(S(),{href:"/new/".concat(null==l?void 0:l.slug),onClick:()=>{f(!1)},className:"w-full flex items-center gap-2",children:[(0,n.jsx)(tu.A,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"New project"})]})})}),"data-sentry-element":"OrganizationProjectSelector","data-sentry-source-file":"ProjectDropdown.tsx"})]}):(0,n.jsx)(x.$,{type:"text","data-sentry-element":"Button","data-sentry-component":"ProjectDropdown","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,n.jsx)("span",{className:"text-sm",children:null==u?void 0:u.name})})},tv=e=>{var t;let{branch:a,isSelected:s,setOpen:o}=e,l=(0,r.useRouter)(),i=tb(l.route,l.query),c=null!=(t=null==i?void 0:i.replace("[ref]",a.project_ref))?t:"/project/".concat(a.project_ref);return(0,n.jsx)(S(),{passHref:!0,href:c,"data-sentry-element":"Link","data-sentry-component":"BranchLink","data-sentry-source-file":"BranchDropdown.tsx",children:(0,n.jsxs)(ew.h_,{value:a.name.replaceAll('"',""),className:"cursor-pointer w-full flex items-center justify-between",onSelect:()=>{o(!1),l.push(c)},onClick:()=>{o(!1)},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"BranchDropdown.tsx",children:[(0,n.jsxs)("p",{className:"truncate w-60 flex items-center gap-1",title:a.name,children:[a.is_default&&(0,n.jsx)(ti.A,{size:14,className:"text-amber-900"}),a.name]}),s&&(0,n.jsx)(es.A,{size:14,strokeWidth:1.5})]})})},tj=()=>{var e;let t=(0,r.useRouter)(),{ref:a}=(0,s.g)(),o=(0,b.qM)(),{data:l}=(0,eV.YA)(),[i,c]=(0,p.useState)(!1),d=(null==l?void 0:l.parent_project_ref)||a,{data:u,isLoading:m,isError:h,isSuccess:f}=(0,th.A)({projectRef:d},{enabled:!!l}),g=(null==l?void 0:l.is_branch_enabled)===!0,y=null==u?void 0:u.find(e=>e.project_ref===a),v={id:"main",name:"main",project_ref:null!=(e=null!=d?d:a)?e:"",is_default:!0},j=null==u?void 0:u.find(e=>e.is_default),w=null==u?void 0:u.filter(e=>!e.is_default).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),k=u&&u.length>0?j?[j].concat(null!=w?w:[]):null!=w?w:[]:[v],N=g?null!=k?k:[]:[v],C="https://github.com/orgs/supabase/discussions/18937";return(0,n.jsxs)(n.Fragment,{children:[m&&(0,n.jsx)(F.Ay,{className:"w-[90px]"}),h&&(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-amber-900",children:[(0,n.jsx)(tc.A,{size:16,strokeWidth:2}),(0,n.jsx)("p",{className:"text-sm",children:"Failed to load branches"})]}),f&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(S(),{href:"/project/".concat(a),className:"flex items-center gap-2 flex-shrink-0 text-sm",children:[(0,n.jsx)("span",{className:"text-foreground max-w-32 lg:max-w-none truncate",children:g?null==y?void 0:y.name:"main"}),g?(null==y?void 0:y.is_default)?(0,n.jsx)(X.E,{variant:"warning",children:"Production"}):(null==y?void 0:y.persistent)?(0,n.jsx)(X.E,{variant:"brand",children:"Persistent"}):(0,n.jsx)(X.E,{variant:"brand",children:"Preview"}):(0,n.jsx)(X.E,{variant:"warning",children:"Production"})]}),(0,n.jsxs)(ej.AM,{open:i,onOpenChange:c,modal:!1,children:[(0,n.jsx)(ej.Wv,{asChild:!0,children:(0,n.jsx)(x.$,{type:"text",size:"tiny",className:(0,K.cn)("px-1.5 py-4 [&_svg]:w-5 [&_svg]:h-5 ml-1"),iconRight:(0,n.jsx)(td.A,{strokeWidth:1.5})})}),(0,n.jsx)(ej.hl,{className:"p-0",side:"bottom",align:"start",children:(0,n.jsxs)(ew.uB,{children:[g&&(0,n.jsx)(ew.G7,{placeholder:"Find branch..."}),(0,n.jsxs)(ew.oI,{children:[g&&(0,n.jsx)(ew.xL,{children:"No branches found"}),(0,n.jsx)(ew.L$,{children:(0,n.jsx)(tf.FK,{className:"max-h-[210px] overflow-y-auto",children:N.map(e=>(0,n.jsx)(tv,{branch:e,isSelected:e.id===(null==y?void 0:y.id)||(null==u?void 0:u.length)===0,setOpen:c},e.id))})}),(0,n.jsx)(ew.fx,{}),(0,n.jsxs)(ew.L$,{children:[(0,n.jsx)(ew.h_,{className:"cursor-pointer w-full",onSelect:()=>{c(!1),o.setShowCreateBranchModal(!0)},onClick:()=>{c(!1),o.setShowCreateBranchModal(!0)},children:(0,n.jsxs)("div",{className:"w-full flex items-center gap-2",children:[(0,n.jsx)(tu.A,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"Create branch"})]})}),(0,n.jsx)(ew.h_,{className:"cursor-pointer w-full",onSelect:()=>{c(!1),t.push("/project/".concat(a,"/branches"))},onClick:()=>c(!1),children:(0,n.jsxs)(S(),{href:"/project/".concat(a,"/branches"),className:"w-full flex items-center gap-2",children:[(0,n.jsx)(tp.A,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"Manage branches"})]})})]}),(0,n.jsx)(ew.fx,{}),(0,n.jsx)(ew.L$,{children:(0,n.jsx)(ew.h_,{className:"cursor-pointer w-full",onSelect:()=>{var e,t;c(!1),null==(t=window)||null==(e=t.open(C,"_blank"))||e.focus()},onClick:()=>c(!1),children:(0,n.jsxs)("a",{target:"_blank",rel:"noreferrer noopener",href:C,onClick:()=>c(!1),className:"w-full flex gap-2",children:[(0,n.jsx)(tm.A,{size:14,strokeWidth:1,className:"text-muted mt-0.5"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:"Branching feedback"}),(0,n.jsx)("p",{className:"text-lighter",children:"Join GitHub Discussion"})]})]})})})]})]})})]})]})]})};var tw=a(48510);let tk=()=>{let[e]=(0,c.U)(s.rS.HOTKEY_SIDEBAR(tn.c.EDITOR_PANEL),!0);return e?(0,n.jsx)(ts.S,{keys:["Meta","E"],"data-sentry-element":"KeyboardShortcut","data-sentry-component":"InlineEditorKeyboardTooltip","data-sentry-source-file":"InlineEditorButton.tsx"}):null},tN=()=>{let{activeSidebar:e,toggleSidebar:t}=(0,ta.rM)(),a=(null==e?void 0:e.id)===tn.c.EDITOR_PANEL;return(0,n.jsx)(eU.G,{type:"outline",size:"tiny",id:"editor-trigger",className:(0,K.cn)("rounded-full w-[32px] h-[32px] flex items-center justify-center p-0 text-foreground-light hover:text-foreground",a&&"bg-foreground text-background hover:text-background"),onClick:()=>{t(tn.c.EDITOR_PANEL)},tooltip:{content:{className:"p-1 pl-2.5",text:(0,n.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,n.jsx)("span",{children:"SQL Editor"}),(0,n.jsx)(tk,{})]})}},"data-sentry-element":"ButtonTooltip","data-sentry-component":"InlineEditorButton","data-sentry-source-file":"InlineEditorButton.tsx",children:(0,n.jsx)(tw.mx,{size:18,strokeWidth:1.5,"data-sentry-element":"SqlEditor","data-sentry-source-file":"InlineEditorButton.tsx"})})};var tS=a(8865),tC=a(77477),t_=a(22238);let tA=()=>{let e=(0,r.useRouter)(),{slug:t}=(0,s.g)(),{data:a}=(0,W.s)(),{data:o,isLoading:l}=(0,t_.Ad)(),i=(0,eG.x)("organizations:create"),c=null==a?void 0:a.slug,d=null==a?void 0:a.name,[u,m]=(0,p.useState)(!1);return l?(0,n.jsx)(F.Ay,{className:"w-[90px]"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(S(),{href:c?"/org/".concat(c):"/organizations",className:"flex items-center gap-2 flex-shrink-0 text-sm","data-sentry-element":"Link","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,n.jsx)(tS.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter","data-sentry-element":"Boxes","data-sentry-source-file":"OrganizationDropdown.tsx"}),(0,n.jsx)("span",{className:(0,K.cn)("max-w-32 lg:max-w-none truncate hidden md:block",a?"text-foreground":"text-foreground-lighter"),children:null!=d?d:"Select an organization"}),!!a&&(0,n.jsx)(X.E,{variant:"default",children:null==a?void 0:a.plan.name})]}),(0,n.jsxs)(ej.AM,{open:u,onOpenChange:m,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,n.jsx)(ej.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsx)(x.$,{type:"text",className:(0,K.cn)("px-1.5 py-4 [&_svg]:w-5 [&_svg]:h-5 ml-1"),iconRight:(0,n.jsx)(td.A,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"OrganizationDropdown.tsx"})}),(0,n.jsx)(ej.hl,{className:"p-0",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsxs)(ew.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,n.jsx)(ew.G7,{placeholder:"Find organization...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx"}),(0,n.jsxs)(ew.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,n.jsx)(ew.xL,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:"No organizations found"}),(0,n.jsx)(ew.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsx)(tf.FK,{className:(o||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"OrganizationDropdown.tsx",children:null==o?void 0:o.map(a=>{let r=t?e.pathname.replace("[slug]",a.slug):"/org/".concat(a.slug);return(0,n.jsx)(ew.h_,{value:"".concat(a.name.replaceAll('"',"")," - ").concat(a.slug),className:"cursor-pointer w-full",onSelect:()=>{m(!1),e.push(r)},onClick:()=>m(!1),children:(0,n.jsxs)(S(),{href:r,className:"w-full flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{children:a.name}),(0,n.jsx)(tC.A,{organization:a})]}),a.slug===c&&(0,n.jsx)(es.A,{size:16})]})},a.slug)})})}),(0,n.jsx)(ew.fx,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx"}),(0,n.jsx)(ew.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsx)(ew.h_,{className:"cursor-pointer w-full",onSelect:t=>{m(!1),e.push("/organizations")},onClick:()=>m(!1),"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsx)(S(),{href:"/organizations",className:"flex items-center gap-2 w-full","data-sentry-element":"Link","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsx)("p",{children:"All Organizations"})})})}),i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ew.fx,{}),(0,n.jsx)(ew.L$,{children:(0,n.jsx)(ew.h_,{className:"cursor-pointer w-full",onSelect:t=>{m(!1),e.push("/new")},onClick:()=>m(!1),children:(0,n.jsxs)(S(),{href:"/new",className:"flex items-center gap-2 w-full",children:[(0,n.jsx)(tu.A,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"New organization"})]})})})]})]})]})})]})]})};var tI=a(31669),tR=a(62265);let tP=e=>{let{defaultValue:t}=e;return(0,n.jsx)(n.Fragment,{children:(null==t?void 0:t.length)?t.map((e,t)=>(0,n.jsxs)(p.Fragment,{children:[t>0&&(0,n.jsx)("span",{className:"text-border-stronger dark:text-border-strong",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,n.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,n.jsx)("a",{onClick:e.onClick||(()=>{}),className:"text-gray-1100 block px-2 py-1 text-xs leading-5 focus:bg-gray-100 focus:text-gray-900 focus:outline-none ".concat(e.onClick?"cursor-pointer hover:text-white":""),children:e.label})]},e.key)):null})};var tE=a(93566),tD=a(62284),tT=a(85253),tL=a(28009),tM=a(93427),tF=a(60858),tz=a.n(tF),tB=a(16110),tO=a(27695),tU=a(95448);let tq=p.forwardRef((e,t)=>{let{className:a,children:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,K.cn)("flex flex-col items-stretch border border-control rounded-md overflow-hidden",a),...s,children:r})});tq.displayName="ButtonGroup";let tW=p.forwardRef((e,t)=>{let{className:a,children:r,icon:s,asChild:o,...l}=e;return(0,n.jsx)(x.$,{ref:t,type:"text",icon:s,asChild:o,className:(0,K.cn)("h-auto py-2 rounded-none justify-start border-0 border-b border-border last:border-b-0",a),...l,children:r})});tW.displayName="ButtonGroupItem";var tH=a(28261);let tG=()=>{var e;let t,a=(0,r.useRouter)(),{data:o}=(0,eV.YA)(),{data:l}=(0,W.s)(),i=(0,tU.xd)(),{openSidebar:c}=(0,ta.rM)(),{mutate:d}=(0,q.h)(),[u,m]=(0,p.useState)(!1),h=null!=(e=null==o?void 0:o.parent_project_ref)?e:a.query.ref;return h?t={projectRef:h}:(null==l?void 0:l.slug)&&(t={orgSlug:l.slug}),(0,n.jsxs)(ej.AM,{open:u,onOpenChange:m,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"HelpPopover","data-sentry-source-file":"HelpPopover.tsx",children:[(0,n.jsx)(ej.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)(eU.G,{id:"help-popover-button",type:"outline",size:"tiny",className:(0,K.cn)("rounded-full w-[32px] h-[32px] flex items-center justify-center p-0 group",u&&"bg-foreground text-background"),onClick:()=>{d({action:"help_button_clicked",groups:{project:null==o?void 0:o.ref,organization:null==l?void 0:l.slug}})},tooltip:{content:{side:"bottom",text:"Help"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)(tD.A,{size:16,strokeWidth:1.5,className:(0,K.cn)("text-foreground-light group-hover:text-foreground",u&&"text-background group-hover:text-background"),"data-sentry-element":"HelpCircle","data-sentry-source-file":"HelpPopover.tsx"})})}),(0,n.jsxs)(ej.hl,{className:"w-[400px] space-y-5 p-0 py-5",align:"end",side:"bottom","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"HelpPopover.tsx",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsxs)("div",{className:"px-5 flex flex-col gap-1",children:[(0,n.jsx)("h5",{className:"text-foreground",children:"Need help with your project?"}),(0,n.jsxs)("p",{className:"text-sm text-foreground-lighter text-balance",children:["Start with our ",h?"Assistant, docs,":"docs"," or community."]})]}),(0,n.jsx)("div",{className:"px-5",children:(0,n.jsxs)(tq,{className:"w-full","data-sentry-element":"ButtonGroup","data-sentry-source-file":"HelpPopover.tsx",children:[h&&(0,n.jsx)(tW,{size:"tiny",icon:(0,n.jsx)(to.M,{allowHoverEffect:!0,size:14}),onClick:()=>{c(tn.c.AI_ASSISTANT),i.newChat({name:"Support",initialInput:"I need help with my project",suggestions:{title:"I can help you with your project, here are some example prompts to get you started:",prompts:[{label:"Database Health",description:"Summarise my database health and performance"},{label:"Debug Logs",description:"View and debug my edge function logs"},{label:"RLS Setup",description:"Implement row level security for my tables"}]}})},children:"Supabase Assistant"}),(0,n.jsx)(tW,{size:"tiny",icon:(0,n.jsx)(P.A,{strokeWidth:1.5,size:14}),asChild:!0,"data-sentry-element":"ButtonGroupItem","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)("a",{href:"".concat(H.aq,"/"),target:"_blank",rel:"noreferrer",children:"Docs"})}),(0,n.jsx)(tW,{size:"tiny",icon:(0,n.jsx)(tT.A,{strokeWidth:1.5,size:14}),asChild:!0,"data-sentry-element":"ButtonGroupItem","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)("a",{href:"".concat(H.aq,"/guides/troubleshooting?products=platform"),target:"_blank",rel:"noreferrer",children:"Troubleshooting"})}),s.pe&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tW,{size:"tiny",icon:(0,n.jsx)(tL.A,{strokeWidth:1.5,size:14}),asChild:!0,children:(0,n.jsx)("a",{href:"https://status.supabase.com/",target:"_blank",rel:"noreferrer",children:"Supabase status"})}),(0,n.jsx)(tW,{size:"tiny",icon:(0,n.jsx)(tM.A,{strokeWidth:1.5,size:14}),children:(0,n.jsx)(tO.Y,{queryParams:t,children:"Contact support"})})]})]})})]}),(0,n.jsx)(tH.A.Separator,{"data-sentry-element":"Popover.Separator","data-sentry-source-file":"HelpPopover.tsx"}),(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsxs)("div",{className:"px-5 flex flex-col gap-1",children:[(0,n.jsx)("h5",{className:"text-foreground",children:"Community support"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter text-balance",children:"Our Discord community can help with code-related issues. Many questions are answered in minutes."})]}),(0,n.jsx)("div",{className:"px-5",children:(0,n.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",style:{background:"#404EED"},children:(0,n.jsxs)("a",{href:"https://discord.supabase.com",target:"_blank",rel:"noreferrer",className:"group dark block cursor-pointer",children:[(0,n.jsx)(tz(),{className:"absolute left-0 top-0 opacity-50 transition-opacity group-hover:opacity-40",src:"".concat(a.basePath,"/img/support/discord-bg-small.jpg"),layout:"fill",objectFit:"cover",alt:"Discord illustration","data-sentry-element":"Image","data-sentry-source-file":"HelpPopover.tsx"}),(0,n.jsx)(x.$,{type:"secondary",size:"tiny",icon:(0,n.jsx)(tB.A,{src:"".concat(a.basePath,"/img/discord-icon.svg"),className:"h-4 w-4"}),"data-sentry-element":"Button","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)("span",{style:{color:"#404EED"},children:"Join us on Discord"})})]})})})]})]})]})},tV=()=>{let{data:e}=(0,W.s)(),{data:t}=(0,t_.Ad)(),a=(0,eG.x)("branding:large_logo"),o=(0,r.useRouter)(),[l]=(0,c.U)(s.rS.LAST_VISITED_ORGANIZATION,""),i=H.pe?l?"/org/".concat(l):(null==e?void 0:e.slug)?"/org/".concat(e.slug):t&&t.length>0?"/org/".concat(t[0].slug):"/organizations":"/project/default";return(0,n.jsx)(S(),{href:i,className:"items-center justify-center flex-shrink-0 hidden md:flex","data-sentry-element":"Link","data-sentry-component":"HomeIcon","data-sentry-source-file":"HomeIcon.tsx",children:(0,n.jsx)("img",{alt:"Supabase",src:"".concat(o.basePath,"/img/supabase-logo.svg"),className:a?"h-[20px]":"h-[18px]"})})};var tK=a(41273),t$=a(67850),tY=a(24523),tZ=a(34961);async function tJ(){try{return await (0,tY.x8)("".concat(H.o2,"/api/cli-release-version")).then(e=>e.json())}catch(e){throw e}}let tQ=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t$.I)({queryKey:tZ.d.cliReleaseVersion(),queryFn:()=>tJ(),enabled:e&&!H.pe,...t})},tX=e=>{if(!e)return;let[t,a,n]=e.slice(1).split(".");return{major:Number(t),minor:Number(a),patch:Number(n)}},t0=()=>{let{data:e,isSuccess:t}=tQ(),a=null==e?void 0:e.current,r=null==e?void 0:e.latest,s=t&&!!r,o=tX(a),l=tX(r),i=!!o&&!!l&&a!==r&&((e,t)=>!(e.major>t.major)&&(e.major!==t.major||!(e.minor>t.minor))&&(e.major!==t.major||e.minor!==t.minor||!(e.patch>t.patch)))(o,l),c=!!o&&!!l&&a!==r&&((e,t)=>!(e.major<t.major)&&(e.major!==t.major||!(e.minor<t.minor))&&(e.major!==t.major||e.minor!==t.minor||!(e.patch<t.patch)))(o,l),d=(null==e?void 0:e.published_at)?u()(null==e?void 0:e.published_at).utc().add(14,"day").format("DD MMM YYYY"):void 0;return t&&a?(0,n.jsxs)(ej.AM,{"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"LocalVersionPopover","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,n.jsx)(ej.Wv,{className:"flex items-center","data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,n.jsx)(X.E,{variant:c?"warning":i?"brand":"default","data-sentry-element":"Badge","data-sentry-source-file":"LocalVersionPopover.tsx",children:c?"Beta":i?"Update available":"Latest"})}),(0,n.jsxs)(ej.hl,{align:"end",className:"w-80 px-0","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"LocalVersionPopover.tsx",children:[s?!c&&i?(0,n.jsxs)("div",{className:"px-4 mb-3",children:[(0,n.jsx)("p",{className:"text-sm mb-2",children:"A new version of Supabase CLI is available:"}),(0,n.jsxs)(eK.tU,{defaultValue:"macos",children:[(0,n.jsxs)(eK.j7,{className:"mt-2",children:[(0,n.jsx)(eK.Xi,{className:"px-2 text-xs",value:"macos",children:"macOS"}),(0,n.jsx)(eK.Xi,{className:"px-2 text-xs",value:"windows",children:"Windows"}),(0,n.jsx)(eK.Xi,{className:"px-2 text-xs",value:"linux",children:"Linux"}),(0,n.jsx)(eK.Xi,{className:"px-2 text-xs",value:"npm",children:"npm / Bun"})]}),(0,n.jsx)(eK.av,{className:"mt-2 text-xs",value:"macos",children:(0,n.jsx)(eX.X,{parentClassName:"bg-selection rounded !px-2",children:"brew upgrade supabase"})}),(0,n.jsx)(eK.av,{className:"mt-2 text-xs",value:"windows",children:(0,n.jsx)(eX.X,{parentClassName:"bg-selection rounded !px-2",children:"scoop update supabase"})}),(0,n.jsx)(eK.av,{className:"mt-2 text-xs",value:"linux",children:(0,n.jsx)(eX.X,{parentClassName:"bg-selection rounded !px-2",children:"brew upgrade supabase"})}),(0,n.jsx)(eK.av,{className:"mt-2 text-xs",value:"npm",children:(0,n.jsx)(eX.X,{parentClassName:"bg-selection rounded !px-2",children:"npm update supabase --save-dev"})})]})]}):(0,n.jsx)("div",{className:"px-4 mb-3",children:c?(0,n.jsx)("p",{className:"text-sm",children:"You're on the Beta version of Supabase CLI"}):(0,n.jsx)("p",{className:"text-sm",children:"You're on the latest version of Supabase CLI"})}):null,(0,n.jsx)("div",{className:"flex flex-col gap-y-2 px-4",children:(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter",children:["All available release versions of the CLI can be found on our"," ",(0,n.jsx)(M.g,{href:"https://github.com/supabase/cli/releases","data-sentry-element":"InlineLink","data-sentry-source-file":"LocalVersionPopover.tsx",children:"GitHub repository"}),"."]})}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2 mt-3 px-4",children:[(0,n.jsxs)($.lG,{"data-sentry-element":"Dialog","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,n.jsx)($.zM,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,n.jsx)(x.$,{type:"default","data-sentry-element":"Button","data-sentry-source-file":"LocalVersionPopover.tsx",children:"Release schedule"})}),(0,n.jsxs)($.Cf,{"data-sentry-element":"DialogContent","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,n.jsx)($.c7,{className:"border-b","data-sentry-element":"DialogHeader","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,n.jsx)($.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"LocalVersionPopover.tsx",children:"Stable release schedule"})}),(0,n.jsxs)($.OO,{className:"flex flex-col gap-y-3","data-sentry-element":"DialogSection","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,n.jsxs)("p",{className:"text-foreground-lighter text-xs font-mono uppercase",children:["Approximate next release: ",d]}),(0,n.jsxs)("p",{className:"text-sm",children:["Supabase CLI releases follows a two-week schedule, with stable updates available through the"," ",(0,n.jsx)(M.g,{href:"".concat(H.aq,"/guides/local-development/cli/getting-started?queryGroups=platform&platform=linux#updating-the-supabase-cli"),"data-sentry-element":"InlineLink","data-sentry-source-file":"LocalVersionPopover.tsx",children:"CLI"}),"."]})]}),(0,n.jsxs)(ee.Z,{type:"default",title:"Beta Releases",description:"Beta releases are also available between stable releases through the Beta version of the CLI, which might be helpful if you are waiting for a specific fix.","data-sentry-element":"Admonition","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,n.jsx)("p",{className:"!mt-2",children:"If you'd like to try, we recommend doing so via npm:"}),(0,n.jsx)("div",{className:"flex items-center bg-surface-200 py-1 px-2 rounded mt-2 mb-1",children:(0,n.jsx)(eX.X,{parentClassName:"bg-surface-200","data-sentry-element":"SimpleCodeBlock","data-sentry-source-file":"LocalVersionPopover.tsx",children:"npm i supabase@beta --save-dev"})}),(0,n.jsxs)("p",{className:"text-sm text-foreground-lighter",children:["Latest Beta version: ",(0,n.jsx)("span",{children:e.beta})]}),(0,n.jsx)(tK.A,{href:"".concat(H.aq,"/guides/local-development/cli/getting-started?queryGroups=platform&platform=linux#using-beta-version"),className:"!no-underline mt-2","data-sentry-element":"DocsButton","data-sentry-source-file":"LocalVersionPopover.tsx"})]})]})]})]}),(0,n.jsx)(x.$,{type:"default",asChild:!0,"data-sentry-element":"Button","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,n.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"".concat(H.aq,"/guides/local-development/cli/getting-started?queryGroups=platform&platform=linux"),children:"CLI Docs"})})]}),(0,n.jsx)(ej.zT,{className:"my-4","data-sentry-element":"PopoverSeparator_Shadcn_","data-sentry-source-file":"LocalVersionPopover.tsx"}),(0,n.jsxs)("div",{className:"flex items-center gap-x-4 px-4",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,n.jsx)("p",{className:"text-xs",children:"Current version:"}),(0,n.jsx)("p",{className:"text-sm font-mono",children:a})]}),s&&i&&!c&&(0,n.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,n.jsx)("p",{className:"text-xs",children:"Available version:"}),(0,n.jsx)("p",{className:"text-sm font-mono",children:r})]})]})]})]}):null};var t1=a(22721),t2=a(14567);let t5=()=>{let{ref:e}=(0,s.g)(),t=(0,r.useRouter)(),{data:a}=(0,eV.YA)(),{data:o}=(0,W.s)(),l=(null==a?void 0:a.parent_project_ref)||e,{data:i}=(0,th.A)({projectRef:l},{enabled:!!a}),{mutate:c}=(0,q.h)(),{mutate:d,isPending:u}=(0,t2.O)({onError:()=>{m.oR.error("Failed to open merge request")}}),p=null==i?void 0:i.find(t=>t.project_ref===e);if(!l||!p||p.is_default||p.git_branch)return null;let h=!!p.review_requested_at;return(0,n.jsx)(eU.G,{type:"default",className:"rounded-full w-[26px] h-[26px]",onClick:()=>{h?t.push("/project/".concat(p.project_ref,"/merge")):d({branchRef:p.project_ref,projectRef:l,requestReview:!0},{onSuccess:()=>{var e;m.oR.success("Merge request created"),t.push("/project/".concat(p.project_ref,"/merge")),c({action:"branch_create_merge_request_button_clicked",properties:{branchType:p.persistent?"persistent":"preview",origin:"header"},groups:{project:null!=l?l:"Unknown",organization:null!=(e=null==o?void 0:o.slug)?e:"Unknown"}})}})},loading:u,tooltip:{content:{text:h?"Review merge request":"Open merge request",side:"bottom",align:"center"}},icon:(0,n.jsxs)("div",{className:"relative",children:[h&&(0,n.jsx)("span",{className:"w-1 h-1 absolute top-0 right-0 rounded-full bg-brand"}),(0,n.jsx)(t1.A,{size:16,strokeWidth:1.5})]}),"data-sentry-element":"ButtonTooltip","data-sentry-component":"MergeRequestButton","data-sentry-source-file":"MergeRequestButton.tsx"})},t3=e=>{let{className:t,...a}=e;return(0,n.jsx)("span",{className:(0,K.cn)("text-border-stronger pr-2",t),...a,"data-sentry-component":"LayoutHeaderDivider","data-sentry-source-file":"LayoutHeader.tsx",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision","data-sentry-element":"svg","data-sentry-source-file":"LayoutHeader.tsx",children:(0,n.jsx)("path",{d:"M16 3.549L7.12 20.600","data-sentry-element":"path","data-sentry-source-file":"LayoutHeader.tsx"})})})},t4=e=>{let{customHeaderComponents:t,breadcrumbs:a=[],headerTitle:o,showProductMenu:l,backToDashboardURL:i}=e,{ref:d,slug:u}=(0,s.g)(),m=(0,r.useRouter)(),{data:h}=(0,eV.YA)(),{data:f}=(0,W.s)(),{setMobileMenuOpen:x}=(0,b.qM)(),g=(0,C.fe)(),[y]=(0,c.U)(s.rS.HOTKEY_COMMAND_MENU,!0),v=m.pathname.startsWith("/account"),{data:N}=(0,tI.n)({orgSlug:null==f?void 0:f.slug},{enabled:(null==f?void 0:f.usage_billing_enabled)===!1}),_=(0,p.useMemo)(()=>!!N&&(e=>e.length?e.filter(e=>{if(!e.capped||!e.available_in_plan||e.unlimited||"DISK_IOPS_GP3"===e.metric)return!1;let t=e.pricing_free_units||0;return e.usage>t}).map(e=>e.metric):[])((null==N?void 0:N.usages)||[]).length>0,[N]),A=u||f&&d;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("header",{className:(0,K.cn)("flex h-12 items-center flex-shrink-0 border-b"),children:[i&&v&&(0,n.jsx)("div",{className:"flex items-center justify-center border-r flex-0 md:hidden h-full aspect-square",children:(0,n.jsx)(S(),{href:i,className:"flex items-center justify-center border-none !bg-transparent rounded-md min-w-[30px] w-[30px] h-[30px] text-foreground-lighter hover:text-foreground transition-colors",children:(0,n.jsx)(k.A,{strokeWidth:1.5,size:16})})}),(l||v)&&(0,n.jsx)("div",{className:"flex items-center justify-center border-r flex-0 md:hidden h-full aspect-square",children:(0,n.jsxs)("button",{title:"Menu dropdown button",className:(0,K.cn)("group/view-toggle ml-4 flex justify-center flex-col border-none space-x-0 items-start gap-1 !bg-transparent rounded-md min-w-[30px] w-[30px] h-[30px]"),onClick:()=>x(!0),children:[(0,n.jsx)("div",{className:"h-px inline-block left-0 w-4 transition-all ease-out bg-foreground-lighter group-hover/view-toggle:bg-foreground p-0 m-0"}),(0,n.jsx)("div",{className:"h-px inline-block left-0 w-3 transition-all ease-out bg-foreground-lighter group-hover/view-toggle:bg-foreground p-0 m-0"})]})}),(0,n.jsxs)("div",{className:(0,K.cn)("flex items-center justify-between h-full pr-3 flex-1 overflow-x-auto gap-x-8 pl-4"),children:[(0,n.jsxs)("div",{className:"flex items-center text-sm",children:[(0,n.jsx)(tV,{"data-sentry-element":"HomeIcon","data-sentry-source-file":"LayoutHeader.tsx"}),(0,n.jsxs)("div",{className:"flex items-center md:pl-2",children:[A&&H.pe?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t3,{className:"hidden md:block"}),(0,n.jsx)(tA,{})]}):null,(0,n.jsx)(j.N,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"LayoutHeader.tsx",children:d&&(0,n.jsxs)(w.P.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},children:[(0,n.jsx)(t3,{}),(0,n.jsx)(ty,{}),_&&(0,n.jsx)("div",{className:"ml-2",children:(0,n.jsx)(S(),{href:"/org/".concat(null==f?void 0:f.slug,"/usage"),children:(0,n.jsx)(X.E,{variant:"destructive",className:"whitespace-nowrap",children:"Exceeding usage limits"})})}),h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t3,{}),H.pe&&(0,n.jsx)(tj,{})]})]})}),(0,n.jsx)(j.N,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"LayoutHeader.tsx",children:o&&(0,n.jsxs)(w.P.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},children:[(0,n.jsx)(t3,{}),(0,n.jsx)("span",{className:"text-foreground",children:o})]})})]}),(0,n.jsx)(j.N,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"LayoutHeader.tsx",children:d&&(0,n.jsxs)(w.P.div,{className:"ml-3 items-center gap-x-2 flex",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},children:[H.pe&&g&&(0,n.jsx)(t5,{}),(0,n.jsx)(e1,{})]})}),(0,n.jsx)(tP,{defaultValue:a,"data-sentry-element":"BreadcrumbsView","data-sentry-source-file":"LayoutHeader.tsx"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[t&&t,H.pe?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tE.R,{}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(tR.jp,{showShortcut:y,placeholder:"Search...",className:(0,K.cn)("hidden md:flex md:min-w-32 xl:min-w-32 rounded-full bg-transparent","[&_.command-shortcut>div]:border-none","[&_.command-shortcut>div]:pr-2","[&_.command-shortcut>div]:bg-transparent","[&_.command-shortcut>div]:text-foreground-lighter")}),(0,n.jsx)(tG,{}),(0,n.jsx)(tr,{projectRef:d}),(0,n.jsx)(j.N,{initial:!1,children:!!d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tN,{}),(0,n.jsx)(tl,{})]})})]}),(0,n.jsx)(e9.X,{})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t0,{}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(tR.jp,{placeholder:"Search...",className:"hidden md:flex md:min-w-32 xl:min-w-32 rounded-full bg-transparent [&_.command-shortcut>div]:border-none [&_.command-shortcut>div]:pr-2 [&_.command-shortcut>div]:bg-transparent [&_.command-shortcut>div]:text-foreground-lighter "}),(0,n.jsx)(tr,{projectRef:d}),(0,n.jsx)(j.N,{initial:!1,children:!!d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tN,{}),(0,n.jsx)(tl,{})]})})]}),(0,n.jsx)(e7,{})]})]})]})]})})};var t6=a(31092),t8=a(44071),t7=a(10170);let t9=e=>{let{hideMobileMenu:t}=e,a=(0,r.useRouter)(),[o,l]=(0,p.useState)(!1),{ref:c}=(0,s.g)();return(0,n.jsxs)("div",{className:"h-14 w-full flex flex-row md:hidden","data-sentry-component":"MobileNavigationBar","data-sentry-source-file":"MobileNavigationBar.tsx",children:[(0,n.jsxs)("nav",{className:(0,K.cn)("group px-4 z-10 w-full h-14","border-b bg-dash-sidebar border-default shadow-xl","transition-width duration-200","hide-scrollbar flex flex-row items-center justify-between overflow-x-auto"),children:[(0,n.jsx)(S(),{href:H.pe?"/organizations":"/project/".concat(c),className:"flex items-center h-[26px] w-[26px] min-w-[26px]","data-sentry-element":"Link","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,n.jsx)("img",{alt:"Supabase",src:"".concat(a.basePath,"/img/supabase-logo.svg"),className:"absolute h-[26px] w-[26px] cursor-pointer rounded"})}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(tR.Zj,{"data-sentry-element":"CommandMenuTrigger","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,n.jsx)("button",{className:(0,K.cn)("group","flex-grow h-[30px] rounded-md","p-2","flex items-center justify-between","bg-transparent border-none text-foreground-lighter","hover:bg-opacity-100 hover:border-strong hover:text-foreground-light","focus-visible:!outline-4 focus-visible:outline-offset-1 focus-visible:outline-brand-600","transition"),children:(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)(t6.A,{size:18,strokeWidth:2,"data-sentry-element":"Search","data-sentry-source-file":"MobileNavigationBar.tsx"})})})}),!t&&(0,n.jsx)(x.$,{title:"Menu dropdown button",type:"default",className:"flex lg:hidden border-default bg-surface-100/75 text-foreground-light rounded-md min-w-[30px] w-[30px] h-[30px] data-[state=open]:bg-overlay-hover/30",icon:(0,n.jsx)(t8.A,{}),onClick:()=>l(!0)})]})]}),(0,n.jsx)(t7.A,{open:o,onOpenChange:l,"data-state":"expanded","data-sentry-element":"MobileSheetNav","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,n.jsx)(i.Yv,{"data-sentry-element":"SidebarContent","data-sentry-source-file":"MobileNavigationBar.tsx"})})]})};var ae=a(11187);let at=()=>{let{activeSidebar:e}=(0,ta.rM)();return(null==e?void 0:e.component)?(0,n.jsxs)(p.Fragment,{children:[(0,n.jsx)(v.WM,{withHandle:!0,"data-sentry-element":"ResizableHandle","data-sentry-source-file":"index.tsx"}),(0,n.jsx)(v.wV,{id:"panel-side",defaultSize:30,minSize:30,maxSize:50,className:(0,K.cn)("border-l bg fixed z-40 right-0 top-0 bottom-0","w-screen h-[100dvh]","md:absolute md:h-auto md:w-3/4","xl:relative xl:border-l-0"),"data-sentry-element":"ResizablePanel","data-sentry-source-file":"index.tsx",children:e.component()},e.id)]}):null},aa=e=>{let{children:t,headerTitle:a,hideMobileMenu:d}=e,{ref:f}=(0,s.g)(),x=(0,r.useRouter)(),j=(0,b.qM)(),w=!!f&&"/project/[ref]"!==x.pathname,[k]=(0,c.U)(s.rS.LAST_VISITED_ORGANIZATION,""),N=j.lastRouteBeforeVisitingAccountPage.length>0?j.lastRouteBeforeVisitingAccountPage:k?"/org/".concat(k):"/organizations";return!function(){let e=(0,s._P)("showRefreshToast"),[t,a]=(0,p.useState)(""),[r,o]=(0,p.useState)(!1),{data:l}=(0,h.k)({enabled:s.pe,staleTime:6e5}),i=(0,p.useRef)(!1);(0,p.useEffect)(()=>{if(l&&!i.current){let e="unknown"===l.commitTime?"unknown time":u()(l.commitTime).format("YYYY-MM-DD HH:mm:ss Z");console.log("Supabase Studio is running commit ".concat(l.commitSha," deployed at ").concat(e,".")),i.current=!0}},[l]),(0,p.useEffect)(()=>{if(e&&l&&"unknown"!==l.commitTime){if(!t)return void a(l.commitTime);t!==l.commitTime&&!r&&(24>u()(l.commitTime).diff(u()(t),"hour")||(m.oR.custom(e=>(0,n.jsx)(g,{id:e}),{duration:1/0,position:"bottom-right"}),o(!0)))}},[l,e,r,t])}(),(0,n.jsx)(y.GB,{defaultOpen:!1,"data-sentry-element":"SidebarProvider","data-sentry-component":"DefaultLayout","data-sentry-source-file":"DefaultLayout.tsx",children:(0,n.jsx)(tn.a,{"data-sentry-element":"LayoutSidebarProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,n.jsx)(ae.g,{projectRef:f,"data-sentry-element":"ProjectContextProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,n.jsx)(l.WQ,{"data-sentry-element":"AppBannerContextProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,n.jsxs)("div",{className:"flex flex-col h-screen w-screen",children:[(0,n.jsx)(o.H,{"data-sentry-element":"AppBannerWrapper","data-sentry-source-file":"DefaultLayout.tsx"}),(0,n.jsxs)("div",{className:"flex-shrink-0",children:[(0,n.jsx)(t9,{hideMobileMenu:d,"data-sentry-element":"MobileNavigationBar","data-sentry-source-file":"DefaultLayout.tsx"}),(0,n.jsx)(t4,{showProductMenu:w,headerTitle:a,backToDashboardURL:x.pathname.startsWith("/account")?N:void 0,"data-sentry-element":"LayoutHeader","data-sentry-source-file":"DefaultLayout.tsx"})]}),(0,n.jsxs)("div",{className:"flex flex-1 w-full overflow-y-hidden",children:[!x.pathname.startsWith("/account")&&(0,n.jsx)(i.Bx,{}),(0,n.jsxs)(v.HK,{direction:"horizontal",className:"h-full w-full overflow-x-hidden flex-1 flex flex-row gap-0",autoSaveId:"default-layout-content","data-sentry-element":"ResizablePanelGroup","data-sentry-source-file":"DefaultLayout.tsx",children:[(0,n.jsx)(v.wV,{id:"panel-content",defaultSize:1,className:"w-full","data-sentry-element":"ResizablePanel","data-sentry-source-file":"DefaultLayout.tsx",children:(0,n.jsx)("div",{className:"h-full overflow-y-auto",children:t})}),(0,n.jsx)(at,{"data-sentry-element":"LayoutSidebar","data-sentry-source-file":"DefaultLayout.tsx"})]})]})]})})})})})}},11187:(e,t,a)=>{"use strict";a.d(t,{f:()=>m,g:()=>p});var n=a(80263),r=a(9620),s=a(85039),o=a(95448),l=a(72341),i=a(13693),c=a(51537),d=a(71344),u=a(45550);let p=e=>{let{projectRef:t,children:a}=e;return(0,n.jsx)(d.by,{"data-sentry-element":"TableEditorStateContextProvider","data-sentry-component":"ProjectContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:(0,n.jsx)(u.YD,{"data-sentry-element":"TabsStateContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:(0,n.jsx)(o.Co,{"data-sentry-element":"AiAssistantStateContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:(0,n.jsx)(c.y,{"data-sentry-element":"StorageExplorerStateContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:(0,n.jsx)(l.UZ,{"data-sentry-element":"DatabaseSelectorStateContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:(0,n.jsx)(i.ME,{"data-sentry-element":"RoleImpersonationStateContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:a},"role-impersonation-state-".concat(t))},"database-selector-state-".concat(t))},"storage-explorer-state-".concat(t))},"ai-assistant-state-".concat(t))},"tabs-state-".concat(t))},"table-editor-state-".concat(t))},m=()=>{let{data:e}=(0,r.YA)();return(null==e?void 0:e.status)===s.BU.ACTIVE_HEALTHY}},11521:(e,t,a)=>{"use strict";a.d(t,{N:()=>i});var n=a(67850),r=a(24523),s=a(85039),o=a(32510);async function l(e,t){let{projectRef:a}=e;if(!a)throw Error("projectRef is required");let{data:n,error:s}=await (0,r.Jt)("/platform/projects/{ref}/config/pgbouncer",{params:{path:{ref:a}},signal:t});return s&&(0,r.H4)(s),n}let i=function(e){let{projectRef:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:o.c.pgbouncerConfig(t),queryFn:e=>{let{signal:a}=e;return l({projectRef:t},a)},enabled:a&&void 0!==t&&s.pe,...r})}},12957:(e,t,a)=>{"use strict";a.d(t,{Jb:()=>r,OG:()=>s,Uj:()=>i,oA:()=>c,yO:()=>l});var n=a(16581);let r=(e,t)=>{if(e<=0)return{value:0,unit:n.s2.BYTES};let a=void 0!==t?Object.values(n.s2).indexOf(t):Math.floor(Math.log(e)/Math.log(1024)),r=void 0!==t?a<0?0:a:a>3?3:a,s=Object.values(n.s2)[r];return{value:e/Math.pow(1024,r),unit:s}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.s2.BYTES,a=Object.values(n.s2).indexOf(t);return e<0||a<0?0:e*Math.pow(1024,a)};function o(e,t,a){return new URL(a?"".concat(t,"://").concat(a):"https://".concat(e,".storage.supabase.co"))}function l(e,t,a){let n=o(e,t,a);return n.pathname="/storage/v1/s3",n.toString()}function i(e,t,a){let n=o(e,t,a);return n.pathname="/storage/v1/iceberg",n.toString()}function c(e,t,a){let n=o(e,t,a);return n.pathname="/storage/v1/vector",n.toString()}},13693:(e,t,a)=>{"use strict";a.d(t,{ME:()=>h,Qj:()=>x,RY:()=>f,_c:()=>b,sc:()=>g});var n=a(80263),r=a(53239),s=a(56028),o=a(12532),l=a(22891),i=a(59356),c=a(74065),d=a(9620),u=a(99842);function p(e,t){let a=(0,s.BX)({projectRef:e,role:void 0,claims:void 0,setRole:async(n,r)=>{let s=(null==n?void 0:n.type)==="postgrest"?(0,u.bL)(e,n):void 0;if((null==r?void 0:r.type)==="postgres"&&void 0!==s){let{schema:e,functionName:a}=r,n=await t.current({schema:e,functionName:a,claims:s});n&&(s=n)}a.role=n,s&&(a.claims=s)}});return a}let m=(0,r.createContext)(p("",{current:async()=>{}})),h=e=>{let{children:t}=e,{data:a}=(0,d.YA)();async function r(e){var t,n,r;let{schema:s,functionName:o,claims:l}=e,c={user_id:l.sub,claims:l,authentication_method:"password"},d=await (0,i.E)({projectRef:null==a?void 0:a.ref,connectionString:null==a?void 0:a.connectionString,sql:"select ".concat(s,".").concat(o,"('").concat(JSON.stringify(c),"'::jsonb) as event;"),queryKey:["customize-access-token",null==a?void 0:a.ref]});return null==d||null==(r=d.result)||null==(n=r[0])||null==(t=n.event)?void 0:t.claims}let s=(0,c.A)(r),o=(0,l.MF)(()=>{var e;return p(null!=(e=null==a?void 0:a.ref)?e:"",s)});return(0,n.jsx)(m.Provider,{value:o,"data-sentry-element":"RoleImpersonationStateContext.Provider","data-sentry-component":"RoleImpersonationStateContextProvider","data-sentry-source-file":"role-impersonation-state.tsx",children:t})};function f(e){let t=(0,r.useContext)(m);return(0,o.s)(t,e)}function x(){let e=(0,r.useContext)(m);return(0,r.useCallback)(()=>(0,s.P9)(e),[e])}function g(e){let t=(0,r.useContext)(m),a=(0,c.A)(e);(0,r.useEffect)(()=>(0,s.B1)(t,()=>{a.current((0,s.P9)(t).role)}),[t])}function b(e){return(null==e?void 0:e.type)==="postgrest"}},14567:(e,t,a)=>{"use strict";a.d(t,{O:()=>c});var n=a(51355),r=a(80210),s=a(73969),o=a(24523),l=a(55917);async function i(e){let{branchRef:t,branchName:a,gitBranch:n,persistent:r,requestReview:s}=e,{data:l,error:i}=await (0,o.F6)("/v1/branches/{branch_id_or_ref}",{params:{path:{branch_id_or_ref:t}},body:{branch_name:a,git_branch:n,persistent:r,request_review:s}});return i&&(0,o.H4)(i),l}let c=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,n.jE)();return(0,r.n)({mutationFn:e=>i(e),async onSuccess(t,a,n){let{projectRef:r}=a;await o.invalidateQueries({queryKey:l.N.list(r)}),await (null==e?void 0:e(t,a,n))},async onError(e,a,n){void 0===t?s.oR.error("Failed to update branch: ".concat(e.message)):t(e,a,n)},...a})}},15298:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(67850),r=a(24523),s=a(85039),o=a(32510);async function l(e,t){let{projectRef:a}=e;if(!a)throw Error("Project ref is required");let{data:n,error:s}=await (0,r.Jt)("/platform/projects/{ref}/config/supavisor",{params:{path:{ref:a}},signal:t});return s&&(0,r.H4)(s),n}let i=function(e){let{projectRef:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:o.c.poolingConfiguration(t),queryFn:e=>{let{signal:a}=e;return l({projectRef:t},a)},enabled:a&&void 0!==t&&s.pe,...r})}},16581:(e,t,a)=>{"use strict";a.d(t,{GF:()=>n,rB:()=>r,s2:()=>s});let n=0xc80000000,r=536870912e3;var s=function(e){return e.BYTES="bytes",e.KB="KB",e.MB="MB",e.GB="GB",e}({})},16841:(e,t,a)=>{"use strict";a.d(t,{H:()=>n});let n=e=>{var t;let{connectionInfo:a,poolingInfo:n,metadata:r}=e,s=null==n?void 0:n.connectionString.includes("options=reference"),{projectRef:o}=r,l="[YOUR_PASSWORD]",i=a.db_user,c=a.db_port,d=a.db_host,u=a.db_name,p=null==n?void 0:n.db_user,m=null==n?void 0:n.db_port,h=null==n?void 0:n.db_host,f=null==n?void 0:n.db_name,x=s?'psql "postgresql://'.concat(i,":").concat(l,"@").concat(d,":").concat(c,"/").concat(u,'"'):"psql -h ".concat(d," -p ").concat(c," -d ").concat(u," -U ").concat(i),g="postgresql://".concat(i,":").concat(l,"@").concat(d,":").concat(c,"/").concat(u),b="DATABASE_URL=".concat(g),y="jdbc:postgresql://".concat(d,":").concat(c,"/").concat(u,"?user=").concat(i,"&password=").concat(l),v='{\n  "ConnectionStrings": {\n    "DefaultConnection": "Host='.concat(d,";Database=").concat(u,";Username=").concat(i,";Password=").concat(l,';SSL Mode=Require;Trust Server Certificate=true"\n  }\n}'),j='{\n  "ConnectionStrings": {\n    "DefaultConnection": "User Id='.concat(p,";Password=").concat(l,";Server=").concat(h,";Port=").concat(m,";Database=").concat(f).concat(s?";Options='reference=".concat(o,"'"):"",'"\n  }\n}'),w=s?'psql "postgresql://'.concat(p,":").concat(l,"@").concat(h,":").concat(m,"/").concat(f,"?options=reference%3D").concat(o,'"'):"psql -h ".concat(h," -p ").concat(m," -d ").concat(f," -U ").concat(p),k=null!=(t=null==n?void 0:n.connectionString)?t:"",N="DATABASE_URL=".concat(null==n?void 0:n.connectionString),S="user=".concat(p," \npassword=").concat(l," \nhost=").concat(h,"\nport=").concat(m,"\ndbname=").concat(f).concat(s?"options=reference=".concat(o):""),C="jdbc:postgresql://".concat(h,":").concat(m,"/").concat(f,"?user=").concat(p).concat(s?"&options=reference%3D".concat(o):"","&password=").concat(l),_="user=".concat(i," \npassword=").concat(l," \nhost=").concat(d," \nport=").concat(c," \ndbname=").concat(u),A="user=".concat(p," \npassword=").concat(l," \nhost=").concat(h," \nport=").concat(m," \ndbname=").concat(f);return{direct:{psql:x,uri:g,golang:b,jdbc:y,dotnet:v,nodejs:"DATABASE_URL=".concat(g),php:b,python:b,sqlalchemy:_},pooler:{psql:w,uri:k,golang:S,jdbc:C,dotnet:j,nodejs:N,php:S,python:S,sqlalchemy:A}}}},19097:(e,t,a)=>{"use strict";a.d(t,{Bx:()=>b,Yv:()=>v,CG:()=>y,Cn:()=>j,wZ:()=>w,Uj:()=>S,FX:()=>k,GB:()=>g,cL:()=>x});var n=a(80263),r=a(8684),s=a(79279),o=a(58448),l=a(53239),i=a(80100),c=a(55441),d=a(27371),u=a(75878),p=a(65346),m=a(73640),h=a(30404);let f=l.createContext(null);function x(){let e=l.useContext(f);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let g=l.forwardRef((e,t)=>{let{defaultOpen:a=!0,open:r,onOpenChange:s,className:o,style:c,children:d,...u}=e,p=function(){let[e,t]=l.useState(void 0);return l.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[m,x]=l.useState(!1),[g,b]=l.useState(a),y=null!=r?r:g,v=l.useCallback(e=>{let t="function"==typeof e?e(y):e;s?s(t):b(t),document.cookie="".concat("sidebar:state","=").concat(t,"; path=/; max-age=").concat(604800)},[s,y]),j=l.useCallback(()=>p?x(e=>!e):v(e=>!e),[p,v,x]),w=y?"expanded":"collapsed",k=l.useMemo(()=>({state:w,open:y,setOpen:v,isMobile:p,openMobile:m,setOpenMobile:x,toggleSidebar:j}),[w,y,v,p,m,x,j]);return(0,n.jsx)(f.Provider,{value:k,children:(0,n.jsx)(h.Bc,{delayDuration:0,children:(0,n.jsx)("div",{style:{"--sidebar-width":"13rem","--sidebar-width-icon":"3rem",...c},className:(0,i.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",o),ref:t,...u,children:d})})})});g.displayName="SidebarProvider";let b=l.forwardRef((e,t)=>{let{overflowing:a=!1,side:r="left",variant:s="sidebar",collapsible:o="offcanvas",className:l,children:c,...d}=e,{isMobile:u,state:m,openMobile:h,setOpenMobile:f}=x();return"none"===o?(0,n.jsx)("div",{className:(0,i.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",l),ref:t,...d,children:c}):u?(0,n.jsx)(p.cj,{open:h,onOpenChange:f,...d,children:(0,n.jsx)(p.h,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:r,children:(0,n.jsx)("div",{className:"flex h-full w-full flex-col",children:c})})}):(0,n.jsxs)("div",{ref:t,className:(0,i.cn)(a?"w-12":"","relative group peer hidden md:block text-sidebar-foreground","flex-shrink-0"),"data-state":m,"data-collapsible":"collapsed"===m?o:"","data-variant":s,"data-side":r,children:[(0,n.jsx)("div",{className:(0,i.cn)(a?"absolute top-0":"relative","duration-100 h-full w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===s||"inset"===s?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,n.jsx)("div",{className:(0,i.cn)("absolute top-0 h-full","duration-100 inset-y-0 z-10 hidden w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===r?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===s||"inset"===s?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",l),...d,children:(0,n.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:c})})]})});b.displayName="Sidebar",l.forwardRef((e,t)=>{let{className:a,onClick:r,...s}=e,{toggleSidebar:l}=x();return(0,n.jsxs)(c.$,{ref:t,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,i.cn)("h-7 w-7",a),onClick:e=>{null==r||r(e),l()},...s,children:[(0,n.jsx)(o.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}).displayName="SidebarTrigger",l.forwardRef((e,t)=>{let{className:a,...r}=e,{toggleSidebar:s}=x();return(0,n.jsx)("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:(0,i.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",a),...r})}).displayName="SidebarRail",l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("main",{ref:t,className:(0,i.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",a),...r})}).displayName="SidebarInset",l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(d.p,{ref:t,"data-sidebar":"input",className:(0,i.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",a),...r})}).displayName="SidebarInput",l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"header",className:(0,i.cn)("flex flex-col gap-2 p-2",a),...r})}).displayName="SidebarHeader";let y=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"footer",className:(0,i.cn)("flex flex-col gap-2 p-2",a),...r})});y.displayName="SidebarFooter",l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(u.w,{ref:t,"data-sidebar":"separator",className:(0,i.cn)("mx-2 w-auto bg-sidebar-border",a),...r})}).displayName="SidebarSeparator";let v=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"content",className:(0,i.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",a),...r})});v.displayName="SidebarContent";let j=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"group",className:(0,i.cn)("relative flex w-full min-w-0 flex-col p-2",a),...r})});j.displayName="SidebarGroup",l.forwardRef((e,t)=>{let{className:a,asChild:s=!1,...o}=e,l=s?r.DX:"div";return(0,n.jsx)(l,{ref:t,"data-sidebar":"group-label",className:(0,i.cn)("duration-100 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-5 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",a),...o})}).displayName="SidebarGroupLabel",l.forwardRef((e,t)=>{let{className:a,asChild:s=!1,...o}=e,l=s?r.DX:"button";return(0,n.jsx)(l,{ref:t,"data-sidebar":"group-action",className:(0,i.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-5 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",a),...o})}).displayName="SidebarGroupAction",l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"group-content",className:(0,i.cn)("w-full text-sm",a),...r})}).displayName="SidebarGroupContent";let w=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("ul",{ref:t,"data-sidebar":"menu",className:(0,i.cn)("flex w-full min-w-0 flex-col gap-1",a),...r})});w.displayName="SidebarMenu";let k=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("li",{ref:t,"data-sidebar":"menu-item",className:(0,i.cn)("group/menu-item relative",a),...r})});k.displayName="SidebarMenuItem";let N=(0,s.F)((0,i.cn)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md py-2 px-1.5 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground [&>span:last-child]:truncate [&>svg]:size-5 [&>svg]:shrink-0 text-foreground-lighter data-[active=true]:text-foreground"),{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"},hasIcon:{true:"group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!pl-1.5 group-data-[collapsible=icon]:!pr-2",false:""}},defaultVariants:{variant:"default",size:"default",hasIcon:!0}}),S=l.forwardRef((e,t)=>{let{asChild:a=!1,isActive:s=!1,variant:o="default",size:l="default",hasIcon:c=!0,tooltip:d,className:u,...p}=e,m=a?r.DX:"button",{isMobile:f,state:g}=x(),b=(0,n.jsx)(m,{ref:t,"data-sidebar":"menu-button","data-size":l,"data-active":s,"data-has-icon":c,className:(0,i.cn)(N({variant:o,size:l,hasIcon:c}),u),...p});return d?("string"==typeof d&&(d={children:d}),(0,n.jsxs)(h.m_,{children:[(0,n.jsx)(h.k$,{asChild:!0,children:b}),(0,n.jsx)(h.ZI,{side:"right",align:"center",hidden:"collapsed"!==g||f,...d})]})):b});S.displayName="SidebarMenuButton",l.forwardRef((e,t)=>{let{className:a,asChild:s=!1,showOnHover:o=!1,...l}=e,c=s?r.DX:"button";return(0,n.jsx)(c,{ref:t,"data-sidebar":"menu-action",className:(0,i.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-5 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",o&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",a),...l})}).displayName="SidebarMenuAction",l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"menu-badge",className:(0,i.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a),...r})}).displayName="SidebarMenuBadge",l.forwardRef((e,t)=>{let{className:a,showIcon:r=!1,...s}=e,o=l.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,n.jsxs)("div",{ref:t,"data-sidebar":"menu-skeleton",className:(0,i.cn)("rounded-md h-8 flex gap-2 px-2 items-center",a),...s,children:[r&&(0,n.jsx)(m.E,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,n.jsx)(m.E,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":o}})]})}).displayName="SidebarMenuSkeleton",l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("ul",{ref:t,"data-sidebar":"menu-sub",className:(0,i.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",a),...r})}).displayName="SidebarMenuSub",l.forwardRef((e,t)=>{let{...a}=e;return(0,n.jsx)("li",{ref:t,...a})}).displayName="SidebarMenuSubItem",l.forwardRef((e,t)=>{let{asChild:a=!1,size:s="md",isActive:o,className:l,...c}=e,d=a?r.DX:"a";return(0,n.jsx)(d,{ref:t,"data-sidebar":"menu-sub-button","data-size":s,"data-active":o,className:(0,i.cn)("flex h-6 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-5 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===s&&"text-xs","md"===s&&"text-sm","group-data-[collapsible=icon]:hidden",l),...c})}).displayName="SidebarMenuSubButton"},19976:(e,t,a)=>{"use strict";a.d(t,{k:()=>l});var n=a(80263),r=a(47941),s=a(53239),o=a(80100);let l=s.forwardRef((e,t)=>{let{className:a,value:s,...l}=e;return(0,n.jsx)(r.bL,{ref:t,className:(0,o.cn)("relative h-1 w-full overflow-hidden rounded-full bg-surface-300",a),...l,children:(0,n.jsx)(r.C1,{className:"h-full w-full flex-1 bg-foreground transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});l.displayName=r.bL.displayName},21993:(e,t,a)=>{"use strict";a.d(t,{$P:()=>r,Bt:()=>n,ib:()=>o,oN:()=>s});let n=/^(\w|!|-|\.|\*|'|\(|\)| |&|\$|@|=|;|:|\+|,|\?)*$/,r=/[^A-Za-z0-9_!\-.*'() &$@=;:+,?]/,s=/^(\w|\/|!|-|\.|\*|'|\(|\)| |&|\$|@|=|;|:|\+|,|\?)*$/,o=/[^A-Za-z0-9_\/!\-.*'() &$@=;:+,?]/},25433:(e,t,a)=>{"use strict";a.d(t,{M:()=>o});var n=a(80263),r=a(34866),s=a(85039);let o=(e,t,a,o)=>{var l,i,c,d,u,p;if(!s.pe)return[{title:"Project Settings",items:[{name:"Log Drains",key:"log-drains",url:"/project/".concat(e,"/settings/log-drains"),items:[]}]}];let m=(null==t?void 0:t.status)===s.BU.COMING_UP,h="/project/".concat(e),f=null==(l=null==o?void 0:o.auth)||l,x=null==(i=null==o?void 0:o.authProviders)||i,g=null==(c=null==o?void 0:o.edgeFunctions)||c,b=null==(d=null==o?void 0:o.storage)||d,y=null==(u=null==o?void 0:o.legacyJwtKeys)||u,v=null==(p=null==o?void 0:o.billing)||p;return[{title:"Project Settings",items:[{name:"General",key:"general",url:"/project/".concat(e,"/settings/general"),items:[]},{name:"Compute and Disk",key:"compute-and-disk",url:"/project/".concat(e,"/settings/compute-and-disk"),items:[]},{name:"Infrastructure",key:"infrastructure",url:m?h:"/project/".concat(e,"/settings/infrastructure"),items:[]},{name:"Integrations",key:"integrations",url:"/project/".concat(e,"/settings/integrations"),items:[]},{name:"Data API",key:"api",url:m?h:"/project/".concat(e,"/settings/api"),items:[]},{name:"API Keys",key:"api-keys",url:"/project/".concat(e,"/settings/api-keys/new"),items:[]},{name:"JWT Keys",key:"jwt",url:y?"/project/".concat(e,"/settings/jwt"):"/project/".concat(e,"/settings/jwt/signing-keys"),items:[]},{name:"Log Drains",key:"log-drains",url:"/project/".concat(e,"/settings/log-drains"),items:[]},{name:"Add Ons",key:"addons",url:"/project/".concat(e,"/settings/addons"),items:[]},{name:"Vault",key:"vault",url:m?h:"/project/".concat(e,"/integrations/vault/overview"),items:[],rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),label:"BETA"}]},{title:"Configuration",items:[{name:"Database",key:"database",url:m?h:"/project/".concat(e,"/database/settings"),items:[],rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"})},...f?[{name:"Authentication",key:"auth",url:x?"/project/".concat(e,"/auth/providers"):"/project/".concat(e,"/auth/policies"),items:[],rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"})}]:[],...b?[{name:"Storage",key:"storage",url:"/project/".concat(e,"/storage/settings"),items:[],rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"})}]:[],...g?[{name:"Edge Functions",key:"functions",url:"/project/".concat(e,"/functions/secrets"),items:[],rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"})}]:[]]},{title:"Billing",items:[...v?[{name:"Subscription",key:"subscription",url:"/org/".concat(null==a?void 0:a.slug,"/billing"),items:[],rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"})}]:[],{name:"Usage",key:"usage",url:"/org/".concat(null==a?void 0:a.slug,"/usage?projectRef=").concat(e),items:[],rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"})}]}]}},27311:(e,t,a)=>{"use strict";a.d(t,{D$:()=>p,HE:()=>u,JA:()=>d,Kl:()=>s,V3:()=>r,ZH:()=>c,i:()=>o,oN:()=>i,wT:()=>l});var n=a(85039);let r=[{id:"uri",label:"URI",contentType:"input",lang:"bash",fileTitle:void 0},{id:"psql",label:"PSQL",contentType:"code",lang:"bash",fileTitle:void 0},{id:"golang",label:"Golang",contentType:"code",lang:"go",fileTitle:".env"},{id:"jdbc",label:"JDBC",contentType:"input",lang:"bash",fileTitle:void 0},{id:"dotnet",label:".NET",contentType:"code",lang:"csharp",fileTitle:"appsettings.json"},{id:"nodejs",label:"Node.js",contentType:"code",lang:"js",fileTitle:".env"},{id:"php",label:"PHP",contentType:"code",lang:"php",fileTitle:".env"},{id:"python",label:"Python",contentType:"code",lang:"python",fileTitle:".env"},{id:"sqlalchemy",label:"SQLAlchemy",contentType:"code",lang:"python",fileTitle:".env"}],s={host:{key:"host",description:"The hostname of your database"},port:{key:"port",description:"Port number for the connection"},database:{key:"database",description:"Default database name"},user:{key:"user",description:"Database user"},pool_mode:{key:"pool_mode",description:"Connection pooling behavior"}},o=[{key:"nextjs",label:"Next.js",icon:"nextjs",guideLink:"".concat(n.aq,"/guides/getting-started/quickstarts/nextjs"),children:[{key:"app",label:"App Router",icon:"",children:[{key:"supabasejs",label:"supabase-js",icon:"supabase",children:[]}]},{key:"pages",label:"Pages Router",icon:"",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}]},{key:"remix",label:"Remix",icon:"remix",guideLink:"".concat(n.aq,"/guides/auth/server-side/creating-a-client?framework=remix&environment=remix-loader"),children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"react",label:"React",icon:"react",guideLink:"".concat(n.aq,"/guides/getting-started/quickstarts/reactjs"),children:[{key:"create-react-app",label:"Create React App",icon:"react",children:[{key:"supabasejs",label:"supabase-js",icon:"supabase",children:[]}]},{key:"vite",label:"Vite",icon:"vite",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}]},{key:"nuxt",label:"Nuxt",icon:"nuxt",guideLink:"".concat(n.aq,"/guides/getting-started/quickstarts/nuxtjs"),children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"vuejs",label:"Vue.JS",icon:"vuejs",guideLink:"".concat(n.aq,"/guides/getting-started/quickstarts/vue"),children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"sveltekit",label:"SvelteKit",icon:"sveltekit",guideLink:"".concat(n.aq,"/guides/getting-started/quickstarts/sveltekit"),children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"solidjs",label:"Solid.js",icon:"solidjs",guideLink:"".concat(n.aq,"/guides/getting-started/quickstarts/solidjs"),children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"astro",label:"Astro",icon:"astro",guideLink:"https://docs.astro.build/en/guides/backend/supabase/",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"refine",label:"Refine",icon:"refine",guideLink:"".concat(n.aq,"/guides/getting-started/quickstarts/refine"),children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}],l=[{key:"exporeactnative",label:"Expo React Native",icon:"expo",guideLink:"".concat(n.aq,"/guides/getting-started/tutorials/with-expo-react-native"),children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"flutter",label:"Flutter",icon:"flutter",guideLink:"".concat(n.aq,"/guides/getting-started/tutorials/with-flutter"),children:[{key:"supabaseflutter",label:"supabase-flutter",children:[],icon:"supabase"}]},{key:"ionicreact",label:"Ionic React",icon:"react",guideLink:"".concat(n.aq,"/guides/getting-started/tutorials/with-ionic-react"),children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"swift",label:"Swift",icon:"swift",guideLink:"".concat(n.aq,"/guides/getting-started/tutorials/with-swift"),children:[{key:"supabaseswift",label:"supabase-swift",children:[],icon:"supabase"}]},{key:"androidkotlin",label:"Android Kotlin",icon:"kotlin",guideLink:"".concat(n.aq,"/guides/getting-started/tutorials/with-kotlin"),children:[{key:"supabasekt",label:"supabase-kt",children:[],icon:"supabase"}]},{key:"ionicangular",label:"Ionic Angular",icon:"ionic-angular",guideLink:"".concat(n.aq,"/guides/getting-started/tutorials/with-ionic-angular"),children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}],i=[{key:"prisma",label:"Prisma",icon:"prisma",guideLink:"https://supabase.com/partners/integrations/prisma",children:[]},{key:"drizzle",label:"Drizzle",icon:"drizzle",guideLink:"".concat(n.aq,"/guides/database/connecting-to-postgres#connecting-with-drizzle"),children:[]}],c=[{key:"direct",label:"Connection String",obj:[]},{key:"frameworks",label:"App Frameworks",obj:o},{key:"mobiles",label:"Mobile Frameworks",obj:l},{key:"orms",label:"ORMs",obj:i},{key:"mcp",label:"MCP",obj:[]}],d="Purchase IPv4 add-on or use Shared Pooler if on a IPv4 network",u="Connections are IPv4 proxied with IPv4 add-on",p={direct:{value:"direct",label:"Direct connection",description:"Ideal for applications with persistent and long-lived connections, such as those running on virtual machines or long-standing containers."},transaction:{value:"transaction",label:"Transaction pooler",description:"Ideal for stateless applications like serverless functions where each interaction with Postgres is brief and isolated."},session:{value:"session",label:"Session pooler",description:"Only recommended as an alternative to Direct Connection, when connecting via an IPv4 network."}}},28261:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(80263),r=a(72241);a(53239);var s=a(68152),o=a(7981);function l(e){let{align:t="center",ariaLabel:a,arrow:s=!1,children:l,className:i,defaultOpen:c=!1,modal:d,onOpenChange:u,open:p,overlay:m,side:h="bottom",sideOffset:f=6,style:x,header:g,footer:b,size:y="content",disabled:v,"data-testid":j}=e,w=(0,o.A)("popover"),k=[w.content,w.size[y]];return i&&k.push(i),(0,n.jsxs)(r.bL,{defaultOpen:c,modal:d,onOpenChange:u,open:p,"data-sentry-element":"RadixPopover.Root","data-sentry-component":"Popover","data-sentry-source-file":"Popover.tsx",children:[(0,n.jsx)(r.l9,{disabled:v,className:w.trigger,"aria-label":a,"data-testid":j,"data-sentry-element":"RadixPopover.Trigger","data-sentry-source-file":"Popover.tsx",children:l}),(0,n.jsx)(r.ZL,{"data-sentry-element":"RadixPopover.Portal","data-sentry-source-file":"Popover.tsx",children:(0,n.jsxs)(r.UC,{sideOffset:f,side:h,align:t,className:k.join(" "),style:x,"data-sentry-element":"RadixPopover.Content","data-sentry-source-file":"Popover.tsx",children:[s&&(0,n.jsx)(r.i3,{offset:10}),g&&(0,n.jsx)("div",{className:w.header,children:g}),m,b&&(0,n.jsx)("div",{className:w.footer,children:b})]})})]})}l.Separator=function(){let e=(0,o.A)("popover");return(0,n.jsx)("div",{className:e.separator,"data-sentry-component":"Separator","data-sentry-source-file":"Popover.tsx"})},l.Close=function(){let e=(0,o.A)("popover");return(0,n.jsx)(r.bm,{className:e.close,"data-sentry-element":"RadixPopover.Close","data-sentry-component":"Close","data-sentry-source-file":"Popover.tsx",children:(0,n.jsx)(s.A,{size:14,strokeWidth:2,"data-sentry-element":"X","data-sentry-source-file":"Popover.tsx"})})};let i=l},29805:(e,t,a)=>{"use strict";a.d(t,{A:()=>p,N:()=>u});var n=a(80263),r=a(86510),s=a(74763),o=a(6637),l=a(20033),i=a(99779),c=a(77477),d=a(98174);let u={[d.Kf.VERCEL_MARKETPLACE]:"Vercel Marketplace",[d.Kf.AWS_MARKETPLACE]:"AWS Marketplace",[d.Kf.SUPABASE]:"Supabase"},p=function(e){var t,a,p;let{managedBy:m,resource:h,cta:f}=e,x=void 0!==f,g=(0,s.X)({installationId:null==f?void 0:f.installationId},{enabled:x&&m===d.Kf.VERCEL_MARKETPLACE}),b=(0,o.x)({organizationSlug:null==f?void 0:f.organizationSlug},{enabled:x&&m===d.Kf.AWS_MARKETPLACE});if(m===d.Kf.SUPABASE)return null;let{data:y,isLoading:v,isError:j}=m===d.Kf.VERCEL_MARKETPLACE?g:b,w=(null!=(t=null==y?void 0:y.url)?t:"")+(null!=(a=null==f?void 0:f.path)?a:"");return(0,n.jsxs)(l.Fc,{className:"flex flex-col items-center gap-y-2 border-0 rounded-none","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"PartnerManagedResource","data-sentry-source-file":"PartnerManagedResource.tsx",children:[(0,n.jsx)(c.A,{organization:{managed_by:m},showTooltip:!1,size:"large","data-sentry-element":"PartnerIcon","data-sentry-source-file":"PartnerManagedResource.tsx"}),(0,n.jsxs)(l.XL,{className:"text-sm","data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"PartnerManagedResource.tsx",children:[h," are managed by ",u[m],"."]}),x&&(0,n.jsx)(i.$,{asChild:!0,type:"default",iconRight:(0,n.jsx)(r.A,{}),disabled:v||j,children:(0,n.jsx)("a",{href:null!=(p=f.overrideUrl)?p:w,target:"_blank",rel:"noopener noreferrer",children:f.message||"View ".concat(h," on ").concat(u[m])})})]})}},30691:(e,t,a)=>{"use strict";a.d(t,{S:()=>b});var n=a(80263),r=a(56404),s=a(21890),o=a(84512),l=a(32157),i=a(62284),c=a(23892),d=a(53239),u=a(61548),p=a(99779),m=a(29244),h=a(30404),f=a(97757),x=a(80100),g=a(16488);let b=e=>{var t;let{slug:a,open:b,setOpen:y,selectedRef:v,searchPlaceholder:j="Find project...",sameWidthAsTrigger:w=!1,checkPosition:k="right",renderRow:N,renderTrigger:S,renderActions:C,onSelect:_,onInitialLoad:A,isOptionDisabled:I,fetchOnMount:R=!1}=e,{data:P}=(0,o.s)(),E=null!=a?a:null==P?void 0:P.slug,[D,T]=(0,d.useState)(!1),L=null!=b?b:D,M=null!=y?y:T,[F,z]=(0,d.useState)(""),B=(0,r.d7)(F,500),O=(0,d.useRef)(null),[U,q]=(0,r.BL)({root:O.current,threshold:0,rootMargin:"0px"}),{data:W,error:H,isLoading:G,isError:V,isSuccess:K,isFetching:$,isFetchingNextPage:Y,hasNextPage:Z,fetchNextPage:J}=(0,s.C0)({slug:E,search:0===F.length?F:B},{enabled:R||L,keepPreviousData:!0}),Q=(0,d.useMemo)(()=>null==W?void 0:W.pages.flatMap(e=>e.projects),[null==W?void 0:W.pages])||[],X=Q.find(e=>e.ref===v);return(0,d.useEffect)(()=>{!G&&!$&&(null==q?void 0:q.isIntersecting)&&Z&&!Y&&J()},[null==q?void 0:q.isIntersecting,Z,$,Y,G,J]),(0,d.useEffect)(()=>{!G&&K&&(null==A||A(Q))},[G,K]),(0,n.jsxs)(u.AM,{open:L,onOpenChange:M,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"OrganizationProjectSelector","data-sentry-source-file":"OrganizationProjectSelector.tsx",children:[(0,n.jsx)(u.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"OrganizationProjectSelector.tsx",children:S?S({isLoading:G||$,project:X}):(0,n.jsx)(p.$,{block:!0,type:"default",role:"combobox",size:"small",className:"justify-between",iconRight:(0,n.jsx)(l.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"}),children:G||$?(0,n.jsx)(g.Ay,{className:"w-44 py-2"}):null!=(t=null==X?void 0:X.name)?t:"Select a project"})}),(0,n.jsx)(u.hl,{portal:!0,sameWidthAsTrigger:w,className:"p-0",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"OrganizationProjectSelector.tsx",children:(0,n.jsxs)(m.uB,{shouldFilter:!1,"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"OrganizationProjectSelector.tsx",children:[(0,n.jsx)(m.G7,{showResetIcon:!0,value:F,onValueChange:z,placeholder:j,handleReset:()=>z(""),"data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"OrganizationProjectSelector.tsx"}),(0,n.jsxs)(m.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"OrganizationProjectSelector.tsx",children:[(0,n.jsx)(m.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"OrganizationProjectSelector.tsx",children:G?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"px-2 py-1",children:(0,n.jsx)(g.Ay,{className:"py-2"})}),(0,n.jsx)("div",{className:"px-2 py-1 w-4/5",children:(0,n.jsx)(g.Ay,{className:"py-2"})})]}):V?(0,n.jsxs)("div",{className:"flex items-center gap-x-2 py-3 justify-center",children:[(0,n.jsx)("p",{className:"text-xs text-foreground-lighter",children:"Failed to retrieve projects"}),(0,n.jsxs)(h.m_,{children:[(0,n.jsx)(h.k$,{children:(0,n.jsx)(i.A,{size:14})}),(0,n.jsxs)(h.ZI,{side:"bottom",children:["Error: ",null==H?void 0:H.message]})]})]}):(0,n.jsxs)(n.Fragment,{children:[F.length>0&&0===Q.length&&(0,n.jsx)("p",{className:"text-xs text-center text-foreground-lighter py-3",children:"No projects found based on your search"}),(0,n.jsxs)(f.FK,{className:(Q||[]).length>7?"h-[210px]":"",children:[null==Q?void 0:Q.map(e=>(0,n.jsx)(m.h_,{value:"".concat(e.name.replaceAll('"',""),"-").concat(e.ref),className:"cursor-pointer w-full",onSelect:()=>{null==_||_(e),M(!1)},onClick:()=>M(!1),disabled:!!I&&I(e),children:N?N(e):(0,n.jsxs)("div",{className:(0,x.cn)("w-full flex items-center","left"===k?"gap-x-2":"justify-between",e.ref!==v&&"left"===k&&"ml-6"),children:["left"===k&&e.ref===v&&(0,n.jsx)(c.A,{size:16}),e.name,"right"===k&&e.ref===v&&(0,n.jsx)(c.A,{size:16})]})},e.ref)),(0,n.jsx)("div",{ref:U,className:"h-1 -mt-1"}),Z&&(0,n.jsx)("div",{className:"px-2 py-1",children:(0,n.jsx)(g.Ay,{className:"py-2"})})]})]})}),!!C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-px bg-border-overlay -mx-1"}),C(M)]})]})]})})]})}},31669:(e,t,a)=>{"use strict";a.d(t,{n:()=>i});var n=a(67850),r=a(24523),s=a(85039),o=a(49092);async function l(e,t){let{orgSlug:a,projectRef:n,start:s,end:o}=e;if(!a)throw Error("orgSlug is required");let{data:l,error:i}=await (0,r.Jt)("/platform/organizations/{slug}/usage",{params:{path:{slug:a},query:{project_ref:null!=n?n:void 0,start:null==s?void 0:s.toISOString(),end:null==o?void 0:o.toISOString()}},signal:t});return i&&(0,r.H4)(i),l}let i=function(e){let{orgSlug:t,projectRef:a,start:r,end:i}=e,{enabled:c=!0,...d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:o.E.orgUsage(t,null!=a?a:void 0,null==r?void 0:r.toISOString(),null==i?void 0:i.toISOString()),queryFn:e=>{let{signal:n}=e;return l({orgSlug:t,projectRef:a,start:r,end:i},n)},enabled:c&&s.pe&&void 0!==t,staleTime:36e5,...d})}},32775:(e,t,a)=>{"use strict";a.d(t,{KB:()=>u,Uj:()=>d,w$:()=>c});var n=a(72391),r=a(67850),s=a(59356),o=a(32510);let l=n.A.schemas.list();async function i(e,t){let{projectRef:a,connectionString:n}=e,{result:r}=await (0,s.E)({projectRef:a,connectionString:n,sql:l.sql,queryKey:["schemas"]},t);return r}let c=function(e){let{projectRef:t,connectionString:a}=e,{enabled:n=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.I)({queryKey:o.c.schemas(t),queryFn:e=>{let{signal:n}=e;return i({projectRef:t,connectionString:a},n)},enabled:n&&void 0!==t,...s})};function d(e,t){return e.invalidateQueries({queryKey:o.c.schemas(t)})}function u(e,t){let{projectRef:a,connectionString:n}=t;return e.fetchQuery({queryKey:o.c.schemas(a),queryFn:e=>{let{signal:t}=e;return i({projectRef:a,connectionString:n},t)}})}},32916:(e,t,a)=>{"use strict";a.d(t,{Rd:()=>p,Uh:()=>c,Ym:()=>l,fU:()=>i,iN:()=>d,ok:()=>o});var n=a(73969),r=a(38904),s=a(61767);let o=".emptyFolderPlaceholder",l=(e,t)=>{let a=e.slice(0,t.columnIndex).map(e=>e.name),s=a.length>0?"".concat(a.join("/"),"/").concat(t.name):t.name;(0,r.l)(s),n.oR.success('Copied path to folder "'.concat(t.name,'"'))},i=e=>{let t=Math.floor(e/86400),a=Math.floor((e%=86400)/3600),n=Math.floor((e%=3600)/60);return(e=Math.floor(e%60),t>0)?"".concat(t,"d "):a>0?"".concat(a,"h "):n>0?"".concat(n,"m "):"".concat(e,"s")},c=e=>{let t=0,a=0;return e.forEach(e=>{if(0===(a+=e.remainingBytes))return;let n=e.remainingBytes/a;t+=n*e.remainingTime}),t},d=function(){var e,t;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return null!=(t=null==(e=null!=a?a:[])?void 0:e.filter(e=>e.name!==o).map(e=>{let t=e.id?s.Vl.FILE:s.Vl.FOLDER,a=Number(new Date)-Number(new Date(e.created_at)),r=t===s.Vl.FILE&&!e.metadata&&a>=9e5,o=t===s.Vl.FILE&&!e.metadata&&a<=9e5?s.U1.LOADING:s.U1.READY;return{...e,metadata:e.metadata,type:t,status:o,isCorrupted:r,path:n?"".concat(n,"/").concat(e.name):e.name}}))?t:[]},u=async e=>{try{return await new Promise((t,a)=>e.file(t,a))}catch(e){console.error("getFile error:",e);return}},p=async e=>{let t=(0,n.oR)("Retrieving items to upload..."),a=[],r=[];for(let t of e){let e=t.webkitGetAsEntry();e&&r.push(e)}for(;r.length>0;){let e=r.shift();if(e&&e.isFile){let t=await u(e);void 0!==t&&(t.path=e.fullPath.slice(1),a.push(t))}else e&&e.isDirectory&&r.push(...await m(e.createReader()))}return n.oR.dismiss(t),a},m=async e=>{let t=[],a=await h(e);for(;a&&a.length>0;)t.push(...a),a=await h(e);return t},h=async e=>{try{return await new Promise((t,a)=>{e.readEntries(t,a)})}catch(e){console.error("readEntriesPromise error:",e)}}},34016:(e,t,a)=>{"use strict";a.d(t,{A:()=>I});var n=a(80263),r=a(83927),s=a.n(r),o=a(73886),l=a(76174),i=a(23892),c=a(90376),d=a(52555),u=a.n(d),p=a(80814),m=a(23850),h=a(53239),f=a(22891),x=a(29445),g=a(56581),b=a(63351),y=a(59129),v=a(2657),j=a(85039),w=a(72341),k=a(61548),N=a(80100),S=a(99779),C=a(29244),_=a(97757),A=a(30404);let I=e=>{var t;let{selectedDatabaseId:a,variant:r="regular",additionalOptions:d=[],onSelectId:I=s(),buttonProps:R,onCreateReplicaClick:P=s(),portal:E=!0,className:D}=e,T=(0,p.useRouter)(),{ref:L}=(0,f.g)(),[M,F]=(0,h.useState)(!1),[,z]=(0,m.ZA)("showConnect",m.cr.withDefault(!1)),{infrastructureReadReplicas:B}=(0,v.x)(["infrastructure:read_replicas"]),O=(0,w.RE)(),U=null!=a?a:O.selectedDatabaseId,{data:q,isLoading:W,isSuccess:H}=(0,b.Vh)({projectRef:L}),G=null!=q?q:[],V=G.sort((e,t)=>+(e.inserted_at>t.inserted_at)).sort(e=>e.identifier===L?-1:0),K=G.find(e=>e.identifier===U),$=(0,y.x)(null!=(t=null==K?void 0:K.region)?t:""),Y=(0,y.s)(null!=U?U:""),Z=d.find(e=>e.id===U);return(0,h.useEffect)(()=>{a&&O.setSelectedDatabaseId(a)},[a]),(0,n.jsxs)(k.AM,{open:M,onOpenChange:F,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"DatabaseSelector","data-sentry-source-file":"DatabaseSelector.tsx",children:[(0,n.jsx)(k.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,n.jsxs)("div",{className:(0,N.cn)("flex cursor-pointer",D),children:[(0,n.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Source"}),(0,n.jsx)(S.$,{type:"default",icon:W&&(0,n.jsx)(o.A,{className:"animate-spin"}),iconRight:(0,n.jsx)(l.A,{strokeWidth:1.5,size:12}),...R,className:(0,N.cn)("pr-2 rounded-l-none","connected-on-right"===r&&"rounded-r-none","connected-on-left"===r&&"rounded-l-none border-l-0","connected-on-both"===r&&"rounded-none border-x-0",null==R?void 0:R.className),"data-sentry-element":"Button","data-sentry-source-file":"DatabaseSelector.tsx",children:Z?(0,n.jsx)("span",{children:Z.name}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"capitalize",children:W||(null==K?void 0:K.identifier)===L?"Primary database":"Read replica"})," ",H&&(null==K?void 0:K.identifier)!==L&&(0,n.jsxs)("span",{children:["(",$," - ",Y,")"]})]})})]})}),(0,n.jsx)(k.hl,{className:"p-0 w-64",side:"bottom",align:"end",portal:E,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,n.jsx)(C.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,n.jsxs)(C.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:[d.length>0&&(0,n.jsx)(C.L$,{className:"border-b",children:d.map(e=>(0,n.jsx)(C.h_,{value:e.id,className:"cursor-pointer w-full",onSelect:()=>{O.setSelectedDatabaseId(e.id),F(!1),I(e.id)},onClick:()=>{O.setSelectedDatabaseId(e.id),F(!1),I(e.id)},children:(0,n.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,n.jsx)("p",{children:e.name}),e.id===U&&(0,n.jsx)(i.A,{size:14})]})},e.id))}),(0,n.jsx)(C.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,n.jsx)(_.FK,{className:(G||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"DatabaseSelector.tsx",children:null==V?void 0:V.map(e=>{let t=(0,y.x)(e.region),a=(0,y.s)(e.identifier);if("ACTIVE_HEALTHY"!==e.status){let r=[g.O5.INIT_READ_REPLICA,g.O5.COMING_UP].includes(e.status)?"coming up":"not healthy";return(0,n.jsxs)(A.m_,{children:[(0,n.jsx)(A.k$,{asChild:!0,children:(0,n.jsx)("div",{className:"px-2 py-1.5 w-full flex items-center justify-between",children:(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter",children:["Read replica (",t," - ",a,")"]})})}),(0,n.jsx)(A.ZI,{side:"right",className:"w-80",children:(0,n.jsx)(x.o,{className:"text-xs text-foreground",content:"Replica unable to accept requests as its ".concat(r,". [View infrastructure settings](/project/").concat(L,"/settings/infrastructure) for more information.")})})]},e.identifier)}return(0,n.jsx)(C.h_,{value:e.identifier,className:"cursor-pointer w-full",onSelect:()=>{O.setSelectedDatabaseId(e.identifier),F(!1),I(e.identifier)},onClick:()=>{O.setSelectedDatabaseId(e.identifier),F(!1),I(e.identifier)},children:(0,n.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,n.jsx)("p",{children:e.identifier===L?"Primary database":"Read replica (".concat(t," - ").concat(a,")")}),e.identifier===U&&(0,n.jsx)(i.A,{size:16})]})},e.identifier)})})}),j.pe&&B&&(0,n.jsx)(C.L$,{className:"border-t",children:(0,n.jsx)(C.h_,{className:"cursor-pointer w-full",onSelect:()=>{F(!1),T.push("/project/".concat(L,"/settings/infrastructure"))},onClick:()=>F(!1),children:(0,n.jsxs)(u(),{href:"/project/".concat(L,"/settings/infrastructure"),onClick:()=>{F(!1),z(null),null==P||P()},className:"w-full flex items-center gap-2",children:[(0,n.jsx)(c.A,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"Create a new read replica"})]})})})]})})})]})}},34961:(e,t,a)=>{"use strict";a.d(t,{d:()=>n});let n={cliReleaseVersion:()=>["cliReleaseVersion"],defaultRegion:(e,t)=>["defaultRegion",[e,t]],ipAddress:()=>["ip-address"]}},39260:(e,t,a)=>{"use strict";a.d(t,{HK:()=>l,WM:()=>c,wV:()=>i});var n=a(80263),r=a(90041),s=a(48881),o=a(80100);let l=e=>{let{className:t,...a}=e;return(0,n.jsx)(s.YZ,{className:(0,o.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...a,"data-sentry-element":"ResizablePrimitive.PanelGroup","data-sentry-component":"ResizablePanelGroup","data-sentry-source-file":"resizable.tsx"})},i=s.Zk,c=e=>{let{withHandle:t,className:a,...l}=e;return(0,n.jsx)(s.TW,{className:(0,o.cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90","data-[resize-handle-state=drag]:bg-border-strong","group","transition-colors",a),...l,"data-sentry-element":"ResizablePrimitive.PanelResizeHandle","data-sentry-component":"ResizableHandle","data-sentry-source-file":"resizable.tsx",children:t&&(0,n.jsx)("div",{className:(0,o.cn)("z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border focus:bg-surface-400","opacity-0 transition-opacity duration-200","group-data-[resize-handle-state=hover]:opacity-100","hover:bg-surface-400","group-data-[resize-handle-state=drag]:opacity-100","group-data-[resize-handle-state=drag]:bg-foreground-muted"),children:(0,n.jsx)(r.A,{className:"h-2.5 w-2.5"})})})}},44168:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,P:()=>c});var n=a(80263),r=a(72112),s=a(27695),o=a(20033),l=a(60793),i=a(99779);let c=e=>{var t;let{projectRef:a,subject:c,error:d,className:u,showIcon:p=!0,children:m,additionalActions:h}=e,f=(null==d||null==(t=d.message)?void 0:t.includes("503"))?"503 Service Temporarily Unavailable":null==d?void 0:d.message;return(0,n.jsxs)(o.Fc,{className:u,variant:"warning",title:c,"data-sentry-element":"Alert_Shadcn_","data-sentry-component":"AlertError","data-sentry-source-file":"AlertError.tsx",children:[p&&(0,n.jsx)(l.id,{className:"h-4 w-4",strokeWidth:2}),(0,n.jsx)(o.XL,{className:"text-foreground","data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"AlertError.tsx",children:c}),(0,n.jsxs)(o.TN,{className:"flex flex-col gap-3 break-words","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"AlertError.tsx",children:[(0,n.jsxs)("div",{children:[(null==d?void 0:d.message)&&(0,n.jsxs)("p",{className:"text-left",children:["Error: ",f]}),(0,n.jsx)("p",{className:"text-left",children:"Try refreshing your browser, but if the issue persists for more than a few minutes, please reach out to us via support."})]}),m,(0,n.jsxs)("div",{className:"flex gap-2",children:[h,(0,n.jsx)(i.$,{asChild:!0,type:"warning",className:"w-min","data-sentry-element":"Button","data-sentry-source-file":"AlertError.tsx",children:(0,n.jsx)(s.Y,{queryParams:{category:r.S.DASHBOARD_BUG,projectRef:a,subject:c,error:null==d?void 0:d.message},"data-sentry-element":"SupportLink","data-sentry-source-file":"AlertError.tsx",children:"Contact support"})})]})]})]})},d=c},45550:(e,t,a)=>{"use strict";a.d(t,{YD:()=>g,lW:()=>y,qm:()=>u,zv:()=>b});var n=a(80263),r=a(89388),s=a(9620),o=a(53667),l=a.n(o),i=a(53239),c=a(56028),d=a(12532);let u={table:["r","v","m","f","p"],sql:["sql"]},p=e=>"".concat("supabase_recent_items","_").concat(e),m={activeTab:null,openTabs:[],tabsMap:{},previewTabId:void 0,recentItems:[]},h=e=>"".concat("supabase_studio_tabs","_").concat(e);function f(e){let t=function(e){if(!e)return[];let t=localStorage.getItem(p(e));try{return JSON.parse(null!=t?t:'{"items": []}').items}catch(e){return[]}}(e),{openTabs:a,activeTab:n,tabsMap:s,previewTabId:o}=function(e){if(!e)return m;let t=localStorage.getItem(h(e));if(!t)return m;try{let e=JSON.parse(null!=t?t:JSON.stringify(m));if(!e.openTabs||!Array.isArray(e.openTabs)||!e.tabsMap||"object"!=typeof e.tabsMap)return m;return e}catch(e){return m}}(e),i=(0,c.BX)({recentItems:t,addRecentItem:e=>{let t=i.recentItems.find(t=>t.id===e.id);if(t){t.timestamp=Date.now();return}let a={id:e.id,type:e.type,label:e.label||"Untitled",timestamp:Date.now(),metadata:e.metadata};i.recentItems.unshift(a);let[n,r]=l()(i.recentItems,e=>{if(u.table.includes(e.type))return e});i.recentItems=[...n.slice(0,8),...r]},clearRecentItems:()=>{i.recentItems=[]},removeRecentItem:e=>{i.recentItems=i.recentItems.filter(t=>t.id!==e)},removeRecentItems:e=>{i.recentItems=i.recentItems.filter(t=>!e.includes(t.id))},removeRecentItemsByType:e=>{i.recentItems=i.recentItems.filter(t=>t.type!==e)},getRecentItemsByType:e=>i.recentItems.filter(t=>t.type===e),activeTab:n,openTabs:a,tabsMap:s,previewTabId:o,addTab:e=>{if(!i.tabsMap[e.id]||i.activeTab!==e.id){if(i.tabsMap[e.id]){i.activeTab=e.id,e.isPreview||i.addRecentItem(e);return}if(!1===e.isPreview){i.openTabs=[...i.openTabs,e.id],i.tabsMap[e.id]=e,i.activeTab=e.id,i.addRecentItem(e);return}i.previewTabId&&(i.openTabs=i.openTabs.filter(e=>e!==i.previewTabId),delete i.tabsMap[i.previewTabId]),i.tabsMap[e.id]={...e,isPreview:!0},i.openTabs=[...i.openTabs,e.id],i.previewTabId=e.id,i.activeTab=e.id}},updateTab:(e,t)=>{i.tabsMap[e]&&("label"in t&&(i.tabsMap[e].label=t.label),"scrollTop"in t&&i.tabsMap[e].metadata&&(i.tabsMap[e].metadata.scrollTop=t.scrollTop))},removeTab:e=>{let t=i.openTabs.indexOf(e);i.openTabs=i.openTabs.filter(t=>t!==e),delete i.tabsMap[e],e===i.activeTab&&(i.activeTab=i.openTabs[t-1]||i.openTabs[t+1]||null)},removeTabs:e=>{e.length&&e.forEach(e=>i.removeTab(e))},reorderTabs:(e,t)=>{let a=[...i.openTabs],[n]=a.splice(e,1);a.splice(t,0,n),i.openTabs=a},makeTabActive:e=>{let t=i.tabsMap[e];t&&(i.activeTab=t.id)},makeTabPermanent:e=>{let t=i.tabsMap[e];(null==t?void 0:t.isPreview)&&(t.isPreview=!1,i.previewTabId=void 0,i.addRecentItem(t))},makeActiveTabPermanent:()=>{var e;return!!i.activeTab&&null!=(e=i.tabsMap[i.activeTab])&&!!e.isPreview&&(i.makeTabPermanent(i.activeTab),!0)},handleTabNavigation:(e,t)=>{var a,n,s;let o=i.tabsMap[e];if(o)switch(i.activeTab=e,!o.isPreview&&i.addRecentItem(o),o.type){case"sql":let l=t.query.schema||"public";t.push("/project/".concat(t.query.ref,"/sql/").concat(null==(a=o.metadata)?void 0:a.sqlId,"?schema=").concat(l));break;case"r":case"v":case"m":case"f":case"p":t.push("/project/".concat(t.query.ref,"/editor/").concat(null==(n=o.metadata)?void 0:n.tableId,"?schema=").concat(null==(s=o.metadata)?void 0:s.schema,"&").concat(r.bV,"=true"))}},handleTabClose:e=>{let{id:t,router:a,editor:n,onClose:r,onClearDashboardHistory:s}=e,o=i.tabsMap[t],l=(n?Object.values(i.tabsMap).filter(e=>{var t;return null==(t=u[n])?void 0:t.includes(e.type)}):[]).map(e=>e.id),c=l.indexOf(t),d=c===l.length-1,p=1===l.length?void 0:d?l[c-1]:l[c+1],{[t]:m,...h}=i.tabsMap;if(i.tabsMap=h,o){let e=[...i.openTabs].filter(e=>e!==t);i.openTabs=e}if(i.previewTabId===t&&(i.previewTabId=void 0),i.activeTab===t||"new"===t)if(p)i.activeTab=p,i.handleTabNavigation(p,a);else switch(s(),null==o?void 0:o.type){case"sql":a.push("/project/".concat(a.query.ref,"/sql"));break;case"r":case"v":case"m":case"f":case"p":a.push("/project/".concat(a.query.ref,"/editor"));break;default:a.push("/project/".concat(a.query.ref,"/").concat("table"===n?"editor":"sql"))}null==r||r(t)},handleTabCloseAll:e=>{let{editor:t,router:a,onClearDashboardHistory:n}=e,r="table"===t?i.openTabs.filter(e=>!e.startsWith("sql")):i.openTabs.filter(e=>e.startsWith("sql"));i.removeTabs(r),n(),a.push("/project/".concat(a.query.ref,"/").concat("table"===t?"editor":"sql"))},handleTabDragEnd:(e,t,a,n)=>{let r=i.tabsMap[a];(null==r?void 0:r.isPreview)&&i.makeTabPermanent(a);let s=[...i.openTabs];s.splice(e,1),s.splice(t,0,a),i.openTabs=s,i.activeTab=a,i.handleTabNavigation(a,n)}});return i}let x=(0,i.createContext)(f("")),g=e=>{var t;let{children:a}=e,{data:r}=(0,s.YA)(),[o,l]=(0,i.useState)(f(null!=(t=null==r?void 0:r.ref)?t:""));return(0,i.useEffect)(()=>{if(null==r?void 0:r.ref){var e;l(f(null!=(e=null==r?void 0:r.ref)?e:""))}},[null==r?void 0:r.ref]),(0,i.useEffect)(()=>{if(null==r?void 0:r.ref)return(0,c.B1)(o,()=>{localStorage.setItem(h(null==r?void 0:r.ref),JSON.stringify({activeTab:o.activeTab,openTabs:o.openTabs,tabsMap:o.tabsMap,previewTabId:o.previewTabId})),localStorage.setItem(p(null==r?void 0:r.ref),JSON.stringify({items:o.recentItems}))})},[null==r?void 0:r.ref,o]),(0,n.jsx)(x.Provider,{value:o,"data-sentry-element":"TabsStateContext.Provider","data-sentry-component":"TabsStateContextProvider","data-sentry-source-file":"tabs.tsx",children:a})},b=e=>{let t=(0,i.useContext)(x);return(0,d.s)(t,e)};function y(e,t){switch(e){case"r":return"r-".concat(t.id);case"v":return"v-".concat(t.id);case"m":return"m-".concat(t.id);case"f":return"f-".concat(t.id);case"p":return"p-".concat(t.id);case"sql":return"sql-".concat(t.id);default:return""}}},49092:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});let n={usage:e=>["projects",e,"usage"],orgUsage:(e,t,a,n)=>["organizations",e,"usage",t,a,n],resourceWarnings:(e,t)=>["projects","resource-warnings",{slug:e,projectRef:t}]}},49742:(e,t,a)=>{"use strict";a.d(t,{xf:()=>x,sD:()=>v,Oe:()=>w,DG:()=>j,hw:()=>g});var n=a(80263),r=a(68152),s=a(32157),o=a(23892),l=a(53239),i=a(79279),c=a(95185),d=a(80100),u=a(21650),p=a(29244);let m=l.createContext(null),h=(0,d.cn)("relative text-foreground-lighter text-left px-2 py-1.5 rounded","hover:text-foreground hover:!bg-overlay-hover w-full flex items-center space-x-2","peer-data-[value=true]:bg-overlay-hover peer-data-[value=true]:text-strong");function f(){let e=l.useContext(m);if(!e)throw Error("useMultiSelect must be used within a MultiSelectProvider");return e}function x(e){var t;let{values:a=[],onValuesChange:r,disabled:s,dir:o,size:i,className:c,children:u,...h}=e,f=l.useRef(null),[x,g]=l.useState(!1),[b,y]=l.useState(""),[v,j]=l.useState(-1),w=l.useCallback(e=>{a.includes(e)?r(a.filter(t=>t!==e)||[]):r([...a,e])},[a]);t=()=>{x&&g(!x)},(0,l.useEffect)(()=>{let e=e=>{!f.current||f.current.contains(e.target)||t(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[f,t]);let k=l.useCallback(e=>{switch(e.key){case"Backspace":case"Delete":a.length>0&&0===b.length&&(-1!==v&&v<a.length?(r(a.filter(e=>e!==a[v])),j(v-1<0?0:v-1)):r(a.filter(e=>e!==a[a.length-1])));break;case"Escape":if(-1!==v?j(-1):g(!1),f.current){let e=f.current.querySelector('button[role="combobox"]');e&&e.focus()}break;case"Enter":g(!0)}},[a,b,v]);return(0,n.jsx)(m.Provider,{value:{values:a,toggleValue:w,onValuesChange:r,open:x,setOpen:g,inputValue:b,setInputValue:y,activeIndex:v,setActiveIndex:j,size:i||"small",disabled:s},"data-sentry-element":"MultiSelectContext.Provider","data-sentry-component":"MultiSelector","data-sentry-source-file":"multi-select.tsx",children:(0,n.jsx)(p.uB,{ref:f,onKeyDown:k,className:(0,d.cn)("relative w-auto overflow-visible bg-transparent flex flex-col",c),dir:o,...h,"data-sentry-element":"Command","data-sentry-source-file":"multi-select.tsx",children:u})})}(0,i.F)("",{variants:{size:{...c.vs}},defaultVariants:{size:c.FE}});let g=l.forwardRef((e,t)=>{let{label:a,persistLabel:o=!1,className:i,deletableBadge:c=!0,badgeLimit:p=9999,showIcon:m=!0,mode:h="combobox",children:x,...g}=e,{activeIndex:b,values:v,setInputValue:j,toggleValue:w,disabled:k,setOpen:N}=f(),S=l.useRef(null);l.useImperativeHandle(t,()=>S.current);let C=l.useRef(null),_=l.useRef(null),[A,I]=l.useState([]),[R,P]=l.useState(0),[E,D]=l.useState(!1),T="wrap"===p,L="number"==typeof p,M="inline-combobox"===h;l.useEffect(()=>{(null==S?void 0:S.current)&&_.current&&(T?(I(v),P(0)):(I(v.slice(0,p)),P(Math.max(0,v.length-p))))},[v,p]);let F="rounded shrink-0 px-1.5",z=l.useCallback(e=>{N(!0),j(""),M&&(e.stopPropagation(),e.preventDefault(),setTimeout(()=>{var e;null==(e=C.current)||e.focus()},100))},[]);return(0,n.jsxs)("button",{ref:S,onClick:e=>!E&&z(e),disabled:k,type:"button",role:"combobox",className:(0,d.cn)("flex w-full min-w-[200px] min-h-[40px] items-center justify-between rounded-md border","border-alternative bg-foreground/[.026] px-3 py-2 text-sm","ring-offset-background placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","hover:border-primary transition-colors duration-200",i),...g,children:[(0,n.jsxs)("div",{ref:_,className:(0,d.cn)("flex gap-1 -ml-1 overflow-hidden flex-1",T&&"flex-wrap",!T&&"overflow-x-auto scrollbar-thin scrollbar-track-transparent transition-colors scrollbar-thumb-muted-foreground dark:scrollbar-thumb-muted scrollbar-thumb-rounded-lg"),children:[A.map(e=>(0,n.jsxs)(u.E,{className:F,children:[e,c&&(0,n.jsx)("div",{onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),onClick:t=>{t.stopPropagation(),w(e),D(!1)},className:"ml-1 text-foreground-lighter hover:text-foreground-light transition-colors pointer-events-auto",children:(0,n.jsx)(r.A,{size:12})})]},e)),R>0&&(0,n.jsx)(u.E,{className:F,children:L&&p<1?"".concat(R," item").concat(R>1?"s":""," selected"):"+".concat(R)}),(0,n.jsx)("span",{className:(0,d.cn)("text-foreground-muted whitespace-nowrap leading-[1.375rem] ml-1 opacity-0 transition-opacity hidden",!M&&(o||0===v.length)&&"opacity-100 visible inline"),children:a}),M&&(0,n.jsx)(y,{ref:C,showSearchIcon:!1,onValueChange:-1===b?j:void 0,placeholder:a,autoFocus:!1,wrapperClassName:(0,d.cn)("px-0 flex-1 border-none truncate",T&&"min-w-[85px]"),className:"py-0 px-1 truncate"})]}),m&&(0,n.jsx)(s.A,{size:16,strokeWidth:2,className:"text-foreground-lighter shrink-0 ml-1.5"})]})});g.displayName="MultiSelectorTrigger",x.Trigger=g;let b=(0,i.F)("bg-control border",{variants:{size:{...c.vs}},defaultVariants:{size:c.FE}}),y=l.forwardRef((e,t)=>{let{className:a,wrapperClassName:r,showResetIcon:s,showSearchIcon:o,...i}=e,{open:c,setOpen:u,inputValue:m,setInputValue:h,activeIndex:x,setActiveIndex:g,size:y,disabled:v}=f(),j=l.useRef(null);l.useImperativeHandle(t,()=>j.current);let w=()=>{setTimeout(()=>{(null==j?void 0:j.current)&&c&&j.current.focus()},100)};return(0,l.useEffect)(()=>{if(w(),!c){var e;null==(e=j.current)||e.blur()}},[c]),(0,n.jsx)(p.G7,{ref:j,value:m,onValueChange:-1===x?h:void 0,onFocus:()=>u(!0),onClick:()=>g(-1),tabIndex:c?0:-1,disabled:v,showSearchIcon:o,showResetIcon:s,handleReset:()=>{h(""),w()},wrapperClassName:r,className:(0,d.cn)(b({size:y}),"text-sm bg-transparent h-full flex-grow border-none outline-none placeholder:text-foreground-muted flex-1",-1!==x&&"caret-transparent",a),...i})});y.displayName="MultiSelectorInput",x.Input=y;let v=l.forwardRef((e,t)=>{let{className:a,children:r}=e,{open:s}=f();return(0,n.jsx)("div",{ref:t,className:(0,d.cn)("absolute w-full bg-overlay shadow-md z-10 border border-overlay top-[calc(100%+0.25rem)] rounded-md transition-all -translate-y-3",s?"opacity-100 translate-y-0 visible duration-150 ease-[.76,0,.23,1]":"opacity-0 -translate-y-3 invisible duration-0",a),children:s&&r})});v.displayName="MultiSelectorContent",x.Content=v;let j=l.forwardRef((e,t)=>{let{className:a,children:r,creatable:s=!1}=e,{open:o,inputValue:l,setInputValue:i,toggleValue:c}=f(),u=r?Array.isArray(r)?r:"object"==typeof r&&"props"in r?r.props.children:[]:[],m=u.filter(e=>!!e.props.value).map(e=>e.props.value.toLowerCase()).some(e=>e===l.toLowerCase());return(0,n.jsxs)(p.oI,{ref:t,className:(0,d.cn)("p-2 flex flex-col gap-2 scrollbar-thin scrollbar-track-transparent transition-colors","scrollbar-thumb-muted-foreground dark:scrollbar-thumb-muted","scrollbar-thumb-rounded-lg w-full max-h-[300px] overflow-y-auto",a),children:[r,s&&l.length>0&&!m?(0,n.jsxs)(p.h_,{role:"option",onSelect:()=>{o&&c(l),i("")},className:h,children:['Create "',l,'"']}):s&&0===u.length?(0,n.jsx)("div",{className:"p-2 py-1.5 text-xs text-foreground-lighter font-italic",children:"Type to add a value"}):(0,n.jsx)(p.xL,{children:(0,n.jsx)("span",{className:"text-foreground-muted",children:"No results found"})})]})});j.displayName="MultiSelectorList",x.List=j;let w=l.forwardRef((e,t)=>{let{className:a,value:r,children:s,...l}=e,{values:i,setInputValue:c,toggleValue:u,open:m}=f(),x=i.includes(r);return(0,n.jsxs)(p.h_,{ref:t,tabIndex:m?0:-1,role:"option",onSelect:()=>{m&&u(r),c("")},className:(0,d.cn)(h,a),...l,children:[(0,n.jsx)("div",{className:(0,d.cn)("flex items-center justify-center","peer h-4 w-4 shrink-0 rounded border border-control bg-control/25 ring-offset-background","transition-colors duration-150 ease-in-out","hover:border-strong","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-foreground data-[state=checked]:text-background",x?"bg-foreground text-background":"[&_svg]:invisible"),children:(0,n.jsx)(o.A,{className:"h-3 w-3",strokeWidth:4})}),(0,n.jsx)("div",{className:"text-xs flex-grow leading-none pointer-events-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:pointer-events-none peer-disabled:opacity-50",children:s})]})});w.displayName="MultiSelectorItem",x.Item=w},51537:(e,t,a)=>{"use strict";let n;a.d(t,{y:()=>es,$:()=>eo});var r=a(80263),s=a(77341),o=a.n(s),l=a(62140),i=a.n(l),c=a(93896),d=a.n(c),u=a(48388),p=a.n(u),m=a(38280),h=a.n(m),f=a(14685),x=a.n(f),g=a(64676),b=a.n(g),y=a(74722),v=a.n(y),j=a(86727),w=a.n(j),k=a(53239),N=a(47814),S=a(73969),C=a(80896),_=a(56028),A=a(12532),I=a(38937),R=a(99715),P=a(22891),E=a(21993),D=a(61767),T=a(32916),L=a(12957),M=a(10723),F=a(90702),z=a(30659),B=a(27664),O=a(75211),U=a(24523);let q=async(e,t)=>{let{projectRef:a,bucketId:n,paths:r}=e;if(!n)throw Error("bucketId is required");let{data:s,error:o}=await (0,U.yH)("/platform/storage/{ref}/buckets/{id}/objects",{params:{path:{ref:a,id:n}},body:{paths:r},signal:t});return o&&(0,U.H4)(o),s},W=async(e,t)=>{let{projectRef:a,bucketId:n,path:r,options:s}=e;if(!n)throw Error("bucketId is required");let{data:o,error:l}=await (0,U.bE)("/platform/storage/{ref}/buckets/{id}/objects/list",{params:{path:{ref:a,id:n}},body:{path:r,options:s},signal:t});return l&&(0,U.H4)(l),o};var H=a(59356);let G=async(e,t)=>{let{projectRef:a,connectionString:n,bucketId:r,prefix:s}=e;if(!a)throw Error("projectRef is required");if(!n)throw Error("connectionString is required");if(!r)throw Error("bucketId is required");if(!s)throw Error("prefix is required");let o="\nselect storage.delete_prefix('".concat(r,"', '").concat(s,"');\n").trim(),{result:l}=await (0,H.E)({projectRef:a,connectionString:n,sql:o,queryKey:["delete-bucket-prefix"]},t);return l},V=async e=>{let{projectRef:t,bucketId:a,from:n,to:r}=e;if(!a)throw Error("bucketId is required");let{data:s,error:o}=await (0,U.bE)("/platform/storage/{ref}/buckets/{id}/objects/move",{params:{path:{ref:t,id:a}},body:{from:n,to:r}});return o&&(0,U.H4)(o),s};var K=a(9620),$=a(85039),Y=a(6436);let Z=Object.fromEntries(Object.entries(a(32505)).filter(e=>{let[,{extensions:t}]=e;return void 0!==t}).flatMap(e=>{let[t,{extensions:a}]=e;return a.map(e=>[e.toLowerCase(),t])}));var J=a(92246),Q=a(78574),X=a(99779);let ee={view:D.JB.COLUMNS,sortBy:D.NA.NAME,sortByOrder:D.ou.ASC,sortBucket:D.yP.CREATED_AT};async function et(e,t){try{let{apiKey:a}=await (0,F.z4)(e);return(0,I.UU)(t,a,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1,storage:{getItem:e=>null,setItem:(e,t)=>{},removeItem:e=>{}}}})}catch(e){throw e}}function ea(e){var t;let{projectRef:a,connectionString:s,resumableUploadUrl:l,clientEndpoint:c}=e,u=P.rS.STORAGE_PREFERENCE(a),{view:m,sortBy:f,sortByOrder:g,sortBucket:y}=(0,Y.Bl)(null==(t=localStorage)?void 0:t.getItem(u))||ee,j=(0,_.BX)({projectRef:a,connectionString:s,resumableUploadUrl:l,uploadProgresses:[],abortApiCalls:()=>{n&&(n.abort(),n=new AbortController)},abortUploadCallbacks:{},abortUploads:e=>{j.abortUploadCallbacks[e].forEach(e=>e()),j.abortUploadCallbacks[e]=[]},columns:[],popColumn:()=>{j.abortApiCalls(),j.columns=j.columns.slice(0,j.getLatestColumnIndex())},popColumnAtIndex:e=>{j.columns=j.columns.slice(0,e+1)},pushColumnAtIndex:(e,t)=>{j.columns=j.columns.slice(0,t+1).concat([e])},openedFolders:[],pushOpenedFolderAtIndex:(e,t)=>{j.openedFolders=j.openedFolders.slice(0,t).concat(e)},popOpenedFolders:()=>{j.openedFolders=j.openedFolders.slice(0,j.openedFolders.length-1)},popOpenedFoldersAtIndex:e=>{j.openedFolders=j.openedFolders.slice(0,e+1)},clearOpenedFolders:()=>{j.openedFolders=[]},selectedItems:[],setSelectedItems:e=>j.selectedItems=e,clearSelectedItems:e=>{void 0!==e?j.selectedItems=j.selectedItems.filter(t=>t.columnIndex!==e):j.selectedItems=[]},selectedItemsToDelete:[],setSelectedItemsToDelete:e=>{j.selectedItemsToDelete=e},selectedItemsToMove:[],setSelectedItemsToMove:e=>{j.selectedItemsToMove=e},selectedBucket:{},setSelectedBucket:e=>{j.selectedBucket=e,j.setSelectedFilePreview(void 0),j.clearOpenedFolders(),j.clearSelectedItems()},setSelectedItemToRename:e=>{j.updateRowStatus({name:e.name,status:D.U1.EDITING,columnIndex:e.columnIndex})},view:m,setView:e=>{j.view=e,j.updateExplorerPreference()},sortBucket:y,setSortBucket:async e=>{j.sortBucket=e,j.updateExplorerPreference()},sortBy:f,setSortBy:async e=>{j.sortBy=e,j.updateExplorerPreference(),j.setSelectedFilePreview(void 0),await j.refetchAllOpenedFolders()},sortByOrder:g,setSortByOrder:async e=>{j.sortByOrder=e,j.updateExplorerPreference(),j.setSelectedFilePreview(void 0),await j.refetchAllOpenedFolders()},isSearching:!1,setIsSearching:e=>j.isSearching=e,selectedFilePreview:void 0,setSelectedFilePreview:e=>j.selectedFilePreview=e,selectedFileCustomExpiry:void 0,setSelectedFileCustomExpiry:e=>j.selectedFileCustomExpiry=e,updateExplorerPreference:()=>{let e=P.rS.STORAGE_PREFERENCE(a),{view:t,sortBy:n,sortByOrder:r,sortBucket:s}=j;localStorage.setItem(e,JSON.stringify({view:t,sortBy:n,sortByOrder:r,sortBucket:s}))},getLatestColumnIndex:()=>j.columns.length-1,setColumnIsLoadingMore:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];j.columns=j.columns.map((a,n)=>n===e?{...a,isLoadingMoreItems:t}:a)},openBucket:async e=>{j.setSelectedBucket(e)},getPathAlongOpenedFolders:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e?j.openedFolders.length>0?"".concat(j.selectedBucket.name,"/").concat(j.openedFolders.map(e=>e.name).join("/")):j.selectedBucket.name:j.openedFolders.map(e=>e.name).join("/")},getPathAlongFoldersToIndex:e=>j.openedFolders.slice(0,e).map(e=>e.name).join("/"),validateFolderName:e=>{if(!E.oN.test(e)){var t;let[a]=null!=(t=e.match(E.ib))?t:[];return a?'Folder name cannot contain the "'.concat(a,'" character'):"Folder name contains an invalid special character"}return null},addNewFolderPlaceholder:e=>{let t=D.Vl.FOLDER,a=-1===e?j.getLatestColumnIndex():e;j.addTempRow({type:t,name:"Untitled folder",status:D.U1.EDITING,columnIndex:a,metadata:null,isPrepend:!0})},addNewFolder:async e=>{var t;let{folderName:a,columnIndex:n,onError:r}=e;await et(j.projectRef,c);let s=j.sanitizeNameForDuplicateInColumn({name:a,autofix:!1,columnIndex:n});if(null===s){null==r||r();return}if(0===s.length)return j.removeTempRows(n);let o=j.validateFolderName(s);if(o)return null==r||r(),S.oR.error(o);j.updateFolderAfterEdit({folderName:s,columnIndex:n});let l="".concat(s,"/").concat(T.ok),i=j.openedFolders.slice(0,n).map(e=>e.name).join("/"),d=i.length>0?"".concat(i,"/").concat(l):l,u=await et(j.projectRef,c);await u.storage.from(j.selectedBucket.name).upload(d,new File([],T.ok)),i.length>0&&await q({projectRef:j.projectRef,bucketId:j.selectedBucket.id,paths:["".concat(i,"/").concat(T.ok)]});let p=null==(t=j.columns[n].items)?void 0:t.find(e=>e.name===s);p&&j.openFolder(n,p)},fetchFolderContents:async e=>{let{bucketId:t,folderId:a,folderName:r,index:s,searchString:o}=e;j.abortApiCalls(),j.updateRowStatus({name:r,status:D.U1.LOADING,columnIndex:s}),j.pushColumnAtIndex({id:a,name:r,status:D.U1.LOADING,items:[]},s);let l=j.openedFolders.slice(0,s+1).map(e=>e.name).join("/"),i={limit:200,offset:0,search:o,sortBy:{column:j.sortBy,order:j.sortByOrder}};try{let e=await W({bucketId:t,projectRef:j.projectRef,path:l,options:i},null==n?void 0:n.signal);j.updateRowStatus({name:r,status:D.U1.READY,columnIndex:s});let o=(0,T.iN)(e,l);j.pushColumnAtIndex({id:a||r,name:r,status:D.U1.READY,items:o,hasMoreItems:200===o.length,isLoadingMoreItems:!1},s)}catch(e){"AbortError"===e.name?j.updateRowStatus({name:r,status:D.U1.READY,columnIndex:s}):S.oR.error('Failed to retrieve folder contents from "'.concat(r,'": ').concat(e.message))}},fetchMoreFolderContents:async e=>{let{index:t,column:a,searchString:r=""}=e;j.setColumnIsLoadingMore(t);let s=j.openedFolders.map(e=>e.name).join("/"),o={limit:200,offset:a.items.length,search:r,sortBy:{column:j.sortBy,order:j.sortByOrder}};try{let e=await W({projectRef:j.projectRef,bucketId:j.selectedBucket.id,path:s,options:o},null==n?void 0:n.signal),a=(0,T.iN)(e,s);j.columns=j.columns.map((n,r)=>r===t?{...n,items:n.items.concat(a),isLoadingMoreItems:!1,hasMoreItems:200===e.length}:n)}catch(e){e.message.includes("aborted")||S.oR.error("Failed to retrieve more folder contents: ".concat(e.message))}},refetchAllOpenedFolders:async()=>{let e=j.openedFolders.map(e=>e.name);await j.fetchFoldersByPath({paths:e})},fetchFoldersByPath:async e=>{let{paths:t,searchString:a="",showLoading:n=!1}=e;if(void 0===j.selectedBucket.id)return;let r=[""].concat(t);n&&(j.columns=[j.selectedBucket.name].concat(t).map(e=>({id:e,name:e,status:D.U1.LOADING,items:[]})));let s=(await Promise.all(r.map(async(e,n)=>{let r=t.slice(0,n).join("/"),s={limit:200,offset:0,search:a,sortBy:{column:j.sortBy,order:j.sortByOrder}};try{return await W({projectRef:j.projectRef,bucketId:j.selectedBucket.id,path:r,options:s})}catch(e){return S.oR.error("Failed to fetch folders: ".concat(e.message)),[]}}))).map((e,a)=>{let n=t.slice(0,a).join("/"),s=(0,T.iN)(e,n);return{id:null,status:D.U1.READY,name:0===a?j.selectedBucket.name:r[a],items:s,hasMoreItems:200===s.length,isLoadingMoreItems:!1}});j.columns=s,j.openedFolders=t.map((e,t)=>{let a=p()(s[t].items,{name:e});return a||{id:null,name:e,type:D.Vl.FOLDER,status:D.U1.READY,metadata:null,isCorrupted:!1,created_at:null,updated_at:null,last_accessed_at:null}})},validateParentFolderEmpty:async e=>{try{let t=await W({projectRef:j.projectRef,bucketId:j.selectedBucket.id,path:e,options:{limit:200,offset:0,sortBy:{column:j.sortBy,order:j.sortByOrder}}});if(0===t.length){let t="".concat(e,"/").concat(T.ok),a=await et(j.projectRef,c);await a.storage.from(j.selectedBucket.name).upload(t,new File([],T.ok))}}catch(e){}},deleteFolder:async e=>{try{let t=await j.getAllItemsAlongFolder(e);if(0===t.length?await G({projectRef:j.projectRef,connectionString:j.connectionString,bucketId:j.selectedBucket.id,prefix:e.path}):await j.deleteFiles({files:t,isDeleteFolder:!0}),j.popColumnAtIndex(e.columnIndex),j.popOpenedFoldersAtIndex(e.columnIndex-1),e.columnIndex>0){let t=j.openedFolders.slice(0,e.columnIndex).map(e=>e.name).join("/");t.length>0&&await j.validateParentFolderEmpty(t)}await j.refetchAllOpenedFolders(),j.setSelectedItemsToDelete([]),S.oR.success("Successfully deleted ".concat(e.name))}catch(e){S.oR.error("Failed to delete folder: ".concat(e.message))}},renameFolder:async e=>{let{folder:t,newName:a,columnIndex:n,onError:s}=e,o=t.name;if(o===a)return j.updateRowStatus({name:o,status:D.U1.READY,columnIndex:n});let l=j.validateFolderName(a);if(l)return null==s||s(),S.oR.error(l);let c=(0,S.oR)((0,r.jsx)(J.t,{progress:0,message:"Renaming folder to ".concat(a)}),{closeButton:!1,position:"top-right"});try{j.updateRowStatus({name:o,status:D.U1.LOADING,columnIndex:n,updatedName:a});let e=await j.getAllItemsAlongFolder(t),s=0,l=!1,d=e.map(t=>{let r="".concat(t.prefix,"/").concat(t.name),o=r.split("/"),i=o.slice(0,n).concat(a).concat(o.slice(n+1)).join("/");return()=>new Promise(async t=>{s+=1/e.length;try{await V({projectRef:j.projectRef,bucketId:j.selectedBucket.id,from:r,to:i})}catch(e){l=!0,S.oR.error("Failed to move ".concat(r," to the new folder"))}t()})}),u=i()(d,2);await u.reduce(async(e,t)=>{await e,await Promise.all(t.map(e=>e())),(0,S.oR)((0,r.jsx)(J.t,{progress:100*s,message:"Renaming folder to ".concat(a)}),{id:c,closeButton:!1,position:"top-right"})},Promise.resolve()),l?S.oR.error("Renamed folder to ".concat(a," with some errors"),{id:c,closeButton:!0,duration:Q.j}):S.oR.success("Successfully renamed folder to ".concat(a),{id:c,closeButton:!0,duration:Q.j}),j.openedFolders[n].name===t.name&&(j.setSelectedFilePreview(void 0),j.popOpenedFoldersAtIndex(n-1)),await j.refetchAllOpenedFolders()}catch(e){S.oR.error("Failed to rename folder to ".concat(a,": ").concat(e.message),{id:c,closeButton:!0,duration:Q.j})}},updateFolderAfterEdit:e=>{let{folderName:t,columnIndex:a,status:n=D.U1.READY}=e,r=void 0!==a?a:j.getLatestColumnIndex(),s=j.columns.map((e,a)=>{if(a===r){let a=e.items.map(e=>{if(e.status===D.U1.EDITING){let a=new Date().toISOString();return{...e,status:n,name:t,createdAt:a,lastAccessedAt:a,updatedAt:a,metadata:null,id:null}}return e});return{...e,items:a}}return e});j.columns=s},openFolder:async(e,t)=>{j.setSelectedFilePreview(void 0),j.clearSelectedItems(e+1),j.popOpenedFoldersAtIndex(e-1),j.pushOpenedFolderAtIndex(t,e),await j.fetchFolderContents({bucketId:j.selectedBucket.id,folderId:t.id,folderName:t.name,index:e})},downloadFolder:async e=>{let t=0,a=S.oR.loading("Retrieving files from folder...");try{var n;let s=await j.getAllItemsAlongFolder(e);(0,S.oR)((0,r.jsx)(J.t,{progress:0,message:"Downloading ".concat(s.length," file").concat(s.length>1?"s":"","...")}),{id:a,closeButton:!1,position:"top-right"});let o=s.map(e=>{var a,n;let r=null!=(n=null==(a=e.metadata)?void 0:a.mimetype)?n:null;return()=>new Promise(async a=>{try{let n=await et(j.projectRef,c);if(!n)throw Error("Supabase client not available");let{data:o,error:l}=await n.storage.from(j.selectedBucket.id).download("".concat(e.prefix,"/").concat(e.name));if(l)throw l;if(!o)throw Error("No data returned from download");t+=1/s.length,a({name:e.name,prefix:e.prefix,blob:new Blob([o],{type:r})})}catch(t){console.error("Failed to download file","".concat(e.prefix,"/").concat(e.name)),a(!1)}})}),l=i()(o,10),d=await l.reduce(async(e,n)=>{let o=await e,l=await Promise.allSettled(n.map(e=>e()));return(0,S.oR)((0,r.jsx)(J.t,{progress:100*t,message:"Downloading ".concat(s.length," file").concat(s.length>1?"s":"","...")}),{id:a,closeButton:!1,position:"top-right"}),o.concat(l.map(e=>e.value).filter(Boolean))},Promise.resolve([])),u=new R.D7("application/zip"),p=new R.Vx(u,{bufferedWrite:!0});0===d.length&&S.oR.error('Failed to download files from "'.concat(e.name,'"'),{id:a,closeButton:!0,duration:Q.j}),d.forEach(e=>{e.blob&&p.add("".concat(e.prefix,"/").concat(e.name),new R.nZ(e.blob))});let m=URL.createObjectURL(await p.close()),h=document.createElement("a");h.href=m,h.setAttribute("download","".concat(e.name,".zip")),document.body.appendChild(h),h.click(),null==(n=h.parentNode)||n.removeChild(h),S.oR.success(d.length===s.length?'Successfully downloaded folder "'.concat(e.name,'"'):'Downloaded folder "'.concat(e.name,'". However, ').concat(s.length-d.length," files did not download successfully."),{id:a,closeButton:!0,duration:Q.j})}catch(e){S.oR.error("Failed to download folder: ".concat(e.message),{id:a,closeButton:!0,duration:Q.j})}},getAllItemsAlongFolder:async e=>{var t,a;let n=[],r=!1,s="",{name:o,columnIndex:l,prefix:i}=e;if(void 0===i){let e=j.openedFolders.slice(0,l).map(e=>e.name).join("/");s=e.length>0?"".concat(e,"/").concat(o):o}else s="".concat(i,"/").concat(o);let c={limit:1e4,offset:0,sortBy:{column:j.sortBy,order:j.sortByOrder}},d=[];for(;;)try{let e=await W({projectRef:j.projectRef,bucketId:j.selectedBucket.id,path:s,options:c});if(d=d.concat(e),c.offset+=c.limit,(e||[]).length<c.limit)break}catch(e){r=!0;break}if(r)throw Error("Failed to retrieve all files within folder");let u=null!=(t=null==d?void 0:d.filter(e=>null===e.id))?t:[];return(null!=(a=null==d?void 0:d.filter(e=>null!==e.id))?a:[]).forEach(e=>n.push({...e,prefix:s})),(await Promise.all(u.map(e=>j.getAllItemsAlongFolder({...e,columnIndex:0,prefix:s})))).map(e=>{e.map(e=>n.push(e))}),n},uploadFiles:async e=>{var t,a,n,s;let{files:l,columnIndex:c,isDrop:d=!1}=e,u=null==(t=(0,O.SX)().getQueryCache().find(z.n.storage(j.projectRef)))?void 0:t.state.data,p=null==u?void 0:u.fileSizeLimit,m=new Date,h=d?(await (0,T.Rd)(l)).filter(e=>!e.path.includes("#/")):Array.from(l),f=-1===c?j.getLatestColumnIndex():c,g=void 0!==p?h.filter(e=>e.size<=p):h;if(g.length<h.length){let e=h.length-g.length,{value:t,unit:a}=(0,L.Jb)(p);if(S.oR.error((0,r.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,r.jsxs)("p",{className:"text-foreground",children:["Failed to upload ",e," file",e>1?"s":""," as"," ",e>1?"their":"its"," size",e>1?"s are":" is"," beyond the global upload limit of"," ",t," ",a,"."]}),(0,r.jsxs)("p",{className:"text-foreground-light",children:["You can change the global file size upload limit in"," ",(0,r.jsx)(M.g,{href:"/project/".concat(j.projectRef,"/storage/settings"),children:"Storage Settings"}),"."]})]}),{duration:8e3}),e===h.length)return}let b=g.filter(e=>e.size>0);if(b.length<g.length){let e=g.length-b.length;if(S.oR.error((0,r.jsx)("div",{className:"flex flex-col gap-y-1",children:(0,r.jsxs)("p",{className:"text-foreground",children:["Failed to upload ",e," file",e>1?"s":""," as"," ",e>1?"their":"its"," size",e>1?"s are":" is"," 0."]})})),e===g.length)return}let y=(null!=(s=null==(n=j.columns)||null==(a=n[f])?void 0:a.items)?s:[]).filter(e=>!e.id).map(e=>e.name),v=g.filter(e=>".DS_Store"!==e.name).map(e=>{if(!e.path)return e;let t=e.path.split("/"),a=t.length>1?t[0]:null;if(y.includes(a)){let n=j.sanitizeNameForDuplicateInColumn({name:a,autofix:!0,columnIndex:c});t[0]=n,e.path=t.join("/")}return e});j.uploadProgresses=Array(v.length).fill({percentage:0,elapsed:0,uploadSpeed:0,remainingBytes:0,remainingTime:0});let w=[],k=v.length,N=0,_=0,A=j.openedFolders.slice(0,f).map(e=>e.name).join("/"),I=j.onUploadProgress(),R=v.map((e,t)=>{var a,n,r;let s=e.name.split(".").pop(),l={mimetype:null!=(a=e.type||function(e){if(void 0!==e)return Z[e.toLowerCase()]}(s))?a:"",size:e.size},i={cacheControl:"3600",contentType:l.mimetype},c=(null!=(n=null==e?void 0:e.path)?n:"").split("/").length>1,d=c?e.name:j.sanitizeNameForDuplicateInColumn({name:e.name,autofix:!0}),u=x()(e,["path"])&&c?e.path:d,p=(null!=u?u:"unknown").replaceAll(/\u{202F}/gu," "),m=A.length>0?"".concat(A,"/").concat(p):p;if(c){let t=(null==(r=e.path)?void 0:r.split("/")[0])||"";w.includes(t)||(j.addTempRow({type:D.Vl.FOLDER,name:t,status:D.U1.LOADING,columnIndex:f,metadata:l}),w.push(t))}else j.addTempRow({type:D.Vl.FILE,name:d,status:D.U1.LOADING,columnIndex:f,metadata:l});let h=0,g=j.selectedBucket.name;return()=>new Promise(async(a,n)=>{let r,s=e.size/1048576,c=Date.now();r=Math.min(r=s<30?6291456:s<100?Math.floor(e.size/8):s<500?Math.floor(e.size/10):s<1024?Math.floor(e.size/20):s<10240?Math.floor(e.size/30):Math.floor(e.size/50),524288e3);let d=e.size<=r,u=new C._O(e,{endpoint:j.resumableUploadUrl,retryDelays:[0,200,500,1500,3e3,5e3],headers:{"x-source":"supabase-dashboard"},uploadDataDuringCreation:d,removeFingerprintOnSuccess:!0,metadata:{bucketName:g,objectName:m,...i},chunkSize:r,onBeforeRequest:async e=>{try{let{apiKey:t}=await (0,F.z4)(j.projectRef);e.setHeader("apikey",t),$.pe||e.setHeader("Authorization","Bearer ".concat(t))}catch(e){throw e}},onShouldRetry:e=>![400,403,404,409,413,415,429].includes(e.originalResponse?e.originalResponse.getStatus():0),onError:t=>{if(_+=1,t instanceof C.nj){var a,r,s;switch(null==(a=t.originalResponse)?void 0:a.getStatus()){case 415:S.oR.error(o()((null==t||null==(r=t.originalResponse)?void 0:r.getBody())||"Failed to upload ".concat(e.name,": ").concat(l.mimetype," is not allowed")),{description:"Allowed MIME types: ".concat(null==(s=j.selectedBucket.allowed_mime_types)?void 0:s.join(", "))});break;case 413:S.oR.error("Failed to upload ".concat(e.name,": File size exceeds the bucket file size limit."));break;case 409:S.oR.error("Failed to upload ".concat(e.name,": File name already exists."));break;case 400:S.oR.error("Failed to upload ".concat(e.name,": File name is invalid"))}}else S.oR.error("Failed to upload ".concat(e.name,": ").concat(t.message));n(t)},onProgress:(e,a)=>{0===h&&e>r&&(h=e);let n=e-h,s=(Date.now()-c)/1e3,o=n/s,l=a-n;j.uploadProgresses[t]={percentage:0===a?0:e/a,elapsed:s,uploadSpeed:o,remainingBytes:l,remainingTime:l/o},j.onUploadProgress(I)},onSuccess(){N+=1,a()}});return Array.isArray(j.abortUploadCallbacks[I])||(j.abortUploadCallbacks[I]=[]),j.abortUploadCallbacks[I].push(()=>{try{u.abort(!0)}catch(e){}n(Error("Upload aborted by user"))}),u.findPreviousUploads().then(e=>{e.length&&u.resumeFromPreviousUpload(e[0]),u.start()})})}),P=i()(R,10);try{await P.reduce(async(e,t)=>{await e,await Promise.allSettled(t.map(e=>e())),j.onUploadProgress(I)},Promise.resolve()),N>0&&await q({projectRef:j.projectRef,bucketId:j.selectedBucket.id,paths:["".concat(A,"/").concat(T.ok)]}),await j.refetchAllOpenedFolders(),0===k||0===N&&0===_?S.oR.dismiss(I):_===k?1===k?S.oR.dismiss(I):S.oR.error("Failed to upload ".concat(k," file").concat(k>1?"s":"","!"),{id:I,closeButton:!0,duration:Q.j}):N===k?S.oR.success("Successfully uploaded ".concat(k," file").concat(k>1?"s":"","!"),{id:I,closeButton:!0,duration:Q.j}):S.oR.success("Successfully uploaded ".concat(N," out of ").concat(k," file").concat(k>1?"s":"","!"),{id:I,closeButton:!0,duration:Q.j})}catch(e){S.oR.error("Failed to upload files",{id:I,closeButton:!0,duration:Q.j})}let E=new Date;console.log("Total time taken for ".concat(v.length," files: ").concat((E-m)/1e3," seconds"))},moveFiles:async e=>{let t=d()(e.split("/")).join("/"),a=0;j.clearSelectedItems();let n=(0,S.oR)("Moving ".concat(j.selectedItemsToMove.length," file").concat(j.selectedItemsToMove.length>1?"s":"","..."),{description:"Do not close the browser until it's completed",duration:1/0});await Promise.all(j.selectedItemsToMove.map(async n=>{let r=j.openedFolders.slice(0,n.columnIndex).map(e=>e.name).join("/"),s=r.length>0?"".concat(r,"/").concat(n.name):n.name,o=e.length>0?"".concat(t,"/").concat(n.name):n.name;try{await V({projectRef:j.projectRef,bucketId:j.selectedBucket.id,from:s,to:o})}catch(e){a+=1,S.oR.error(e.message)}})),a===j.selectedItemsToMove.length?S.oR.error("Failed to move files"):(0,S.oR)("Successfully moved ".concat(j.selectedItemsToMove.length-a," files to ").concat(t.length>0?t:"the root of your bucket")),S.oR.dismiss(n),await j.refetchAllOpenedFolders(),j.setSelectedItemsToMove([])},deleteFiles:async e=>{let{files:t,isDeleteFolder:a=!1}=e;j.setSelectedFilePreview(void 0);let n=t.some(e=>e.prefix)?t.map(e=>"".concat(e.prefix,"/").concat(e.name)):t.map(e=>{let{name:t,columnIndex:a}=e,n=j.openedFolders.slice(0,a).map(e=>e.name).join("/");return j.updateRowStatus({name:t,status:D.U1.LOADING,columnIndex:a}),n.length>0?"".concat(n,"/").concat(t):t});j.clearSelectedItems();let r=S.oR.loading("Deleting ".concat(n.length," file(s)..."));if(await q({projectRef:j.projectRef,bucketId:j.selectedBucket.id,paths:n}),a)S.oR.dismiss(r);else{let e=v()(n.map(e=>{let t=e.split("/");return t.slice(0,t.length-1).join("/")}));await Promise.all(e.map(e=>j.validateParentFolderEmpty(e))),S.oR.success("Successfully deleted ".concat(n.length," file(s)"),{id:r,closeButton:!0,duration:Q.j,description:void 0}),await j.refetchAllOpenedFolders(),j.setSelectedItemsToDelete([])}},downloadFile:async function(e){var t,a,n;let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e.path)return S.oR.error("Failed to download: Unable to find path to file"),!1;let s=e.name,o=null!=(a=null==e||null==(t=e.metadata)?void 0:t.mimetype)?a:void 0,l=r?S.oR.loading("Retrieving ".concat(s,"...")):void 0;try{let t=await et(j.projectRef,c);if(!t)throw Error("Supabase client not available");let{data:a,error:r}=await t.storage.from(j.selectedBucket.id).download(e.path);if(r)throw r;if(!a)throw Error("No data returned from download");let i=new Blob([a],{type:o}),d=window.URL.createObjectURL(i),u=document.createElement("a");return u.href=d,u.setAttribute("download","".concat(s)),document.body.appendChild(u),u.click(),null==(n=u.parentNode)||n.removeChild(u),window.URL.revokeObjectURL(d),l&&S.oR.success("Downloading ".concat(s),{id:l,closeButton:!0,duration:Q.j}),!0}catch(e){return l&&S.oR.error("Failed to download ".concat(s),{id:l,closeButton:!0,duration:Q.j}),!1}},downloadFileAsBlob:async e=>{if(!e.path)return!1;try{var t,a;let n=await et(j.projectRef,c);if(!n)throw Error("Supabase client not available");let{data:r,error:s}=await n.storage.from(j.selectedBucket.id).download(e.path);if(s)throw s;if(!r)throw Error("No data returned from download");let o=null!=(a=null==e||null==(t=e.metadata)?void 0:t.mimetype)?a:void 0;return{name:e.name,blob:new Blob([r],{type:o})}}catch(t){return console.error("Failed to download file",e.path),!1}},downloadSelectedFiles:async e=>{var t;let a=Math.min(...e.map(e=>e.columnIndex)),n=e.map(e=>{let{name:t,columnIndex:n}=e,r=j.openedFolders.slice(a,n).map(e=>e.name).join("/"),s=r.length>0?"".concat(r,"/").concat(t):t;return{...e,formattedPathToFile:s}}),s=0,o=S.oR.loading("Downloading ".concat(e.length," file").concat(e.length>1?"s":"","...")),l=n.map(e=>()=>new Promise(async t=>{let a=await j.downloadFileAsBlob(e);s+=1/n.length,b()(a)&&t({...a,name:e.formattedPathToFile}),t(!1)})),c=i()(l,50),d=await c.reduce(async(t,a)=>{let n=await t,l=await Promise.allSettled(a.map(e=>e()));return(0,S.oR)((0,r.jsx)(J.t,{progress:100*s,message:"Downloading ".concat(e.length," file").concat(e.length>1?"s":"","...")}),{id:o,closeButton:!1,position:"top-right"}),n.concat(l.map(e=>e.value).filter(Boolean))},Promise.resolve([])),u=new R.D7("application/zip"),p=new R.Vx(u,{bufferedWrite:!0});d.forEach(e=>{p.add(e.name,new R.nZ(e.blob))});let m=URL.createObjectURL(await p.close()),h=document.createElement("a");h.href=m,h.setAttribute("download","supabase-files.zip"),document.body.appendChild(h),h.click(),null==(t=h.parentNode)||t.removeChild(h),S.oR.success("Successfully downloaded ".concat(d.length," files"),{id:o,closeButton:!0,duration:Q.j})},renameFile:async(e,t,a)=>{let n=e.name;if(n===t||0===t.length)j.updateRowStatus({name:n,status:D.U1.READY,columnIndex:a});else{j.updateRowStatus({name:n,status:D.U1.LOADING,columnIndex:a,updatedName:t});let s=j.getPathAlongFoldersToIndex(a),o=s.length>0?"".concat(s,"/").concat(n):n,l=s.length>0?"".concat(s,"/").concat(t):t;try{var r;if(await V({projectRef:j.projectRef,bucketId:j.selectedBucket.id,from:o,to:l}),S.oR.success('Successfully renamed "'.concat(n,'" to "').concat(t,'"')),(null==(r=j.selectedFilePreview)?void 0:r.name)===n){let{previewUrl:a,...n}=e;j.setSelectedFilePreview({...n,name:t})}await j.refetchAllOpenedFolders()}catch(e){S.oR.error("Failed to rename file: ".concat(e.message)),j.updateRowStatus({name:n,status:D.U1.READY,columnIndex:a})}}},selectRangeItems:(e,t)=>{let a=j.columns[e].items,n=a[t],r=j.selectedItems.map(e=>e.id),s=r[r.length-1],o=h()(a,{id:s}),l=Math.min(t,o),i=Math.max(t,o),c=a.slice(l,i+1).map(t=>({...t,columnIndex:e}));if(t<o&&c.reverse(),r.includes(n.id)){let e=c.map(e=>e.id);j.setSelectedItems(j.selectedItems.filter(t=>t.id===n.id||!e.includes(t.id)))}else j.setSelectedItems(w()(j.selectedItems.concat(c),"id"))},sanitizeNameForDuplicateInColumn:e=>{let{name:t,columnIndex:a,autofix:n=!1}=e,r=void 0!==a?a:j.getLatestColumnIndex(),s=j.columns[r].items.filter(e=>e.status!==D.U1.EDITING);if(s.filter(e=>e.name.toLowerCase()===t.toLowerCase()).length>0)if(!n)return S.oR.error("The name ".concat(t," already exists in the current directory. Please use a different name.")),null;else{let[e,a]=t.split("."),n=new RegExp("".concat(e," \\([-0-9]+\\)").concat(a?"."+a:"","$")),r=s.filter(e=>e.name.match(n)),o=e+" (".concat(r.length+1,")");return a?"".concat(o,".").concat(a):o}return t},addTempRow:e=>{let{type:t,name:a,status:n,columnIndex:r,metadata:s,isPrepend:o=!1}=e,l=j.columns.map((e,l)=>{if(l===r){let r={type:t,name:a,status:n,metadata:s},l=o?[r].concat(e.items):e.items.concat([r]);return{...e,items:l}}return e});j.columns=l},removeTempRows:e=>{let t=j.columns.map((t,a)=>{if(a===e){let e=t.items.filter(e=>x()(e,"id"));return{...t,items:e}}return t});j.columns=t},onUploadProgress:e=>{let t=j.uploadProgresses.length,a=j.uploadProgresses.reduce((e,t)=>{let{percentage:a}=t;return e+a},0)/t*100,n=(0,T.Uh)(j.uploadProgresses);return(0,S.oR)((0,r.jsx)(J.t,{progress:a,message:"Uploading ".concat(t," file").concat(t>1?"s":"","..."),progressPrefix:"".concat(n&&!isNaN(n)&&isFinite(n)&&0!==n?"".concat((0,T.fU)(n)," remaining  "):""),action:e&&(0,r.jsx)(X.$,{size:"tiny",type:"default",className:"ml-6",onClick:()=>j.abortUploads(e),children:"Cancel"})}),{id:e,closeButton:!1,position:"top-right",duration:1/0})},updateRowStatus:e=>{let{name:t,status:a,columnIndex:n,updatedName:r}=e,s=void 0!==n?n:j.getLatestColumnIndex(),o=j.columns.map((e,n)=>{if(n===s){let n=e.items.map(e=>e.name===t?{...e,status:a,...r&&{name:r}}:e);return{...e,items:n}}return e});j.columns=o}});return j}n=new AbortController;let en={projectRef:"",connectionString:"",resumableUploadUrl:"",clientEndpoint:""},er=(0,k.createContext)(ea(en)),es=e=>{var t,a,n;let{children:s}=e,{data:o}=(0,K.YA)(),l=(null==o?void 0:o.status)===$.BU.INACTIVE,[i,c]=(0,k.useState)(()=>ea(en)),d=(0,N.A)(i),{data:u,isSuccess:p}=(0,B.G)({projectRef:null==o?void 0:o.ref}),m=null!=(n=null==u||null==(t=u.app_config)?void 0:t.protocol)?n:"https",h=null==u||null==(a=u.app_config)?void 0:a.endpoint,f="".concat($.pe?"https":m,"://").concat(h,"/storage/v1/upload/resumable"),x="".concat($.pe?"https":m,"://").concat(h);return(0,k.useEffect)(()=>{let e=!!(null==o?void 0:o.ref),t=i.projectRef===(null==o?void 0:o.ref);if(!l&&e&&!t&&p){var a,n;c(ea({projectRef:null!=(a=null==o?void 0:o.ref)?a:"",connectionString:null!=(n=o.connectionString)?n:"",resumableUploadUrl:f,clientEndpoint:x}))}},[i.projectRef,null==o?void 0:o.ref,null==o?void 0:o.connectionString,d,l,f,m,h,p]),(0,r.jsx)(er.Provider,{value:i,"data-sentry-element":"StorageExplorerStateContext.Provider","data-sentry-component":"StorageExplorerStateContextProvider","data-sentry-source-file":"storage-explorer.tsx",children:s})};function eo(e){let t=(0,k.useContext)(er);return(0,A.s)(t,e)}},52919:(e,t,a)=>{"use strict";a.d(t,{D:()=>o,W:()=>l});var n=a(67850),r=a(24523),s=a(93284);async function o(e,t){let{projectRef:a,expiry:n=300}=e;if(!a)throw Error("projectRef is required");let{data:s,error:o}=await (0,r.bE)("/platform/projects/{ref}/api-keys/temporary",{params:{path:{ref:a},query:{authorization_exp:n.toString(),claims:JSON.stringify({role:"service_role"})}},signal:t});return o&&(0,r.H4)(o),s}let l=function(e){let{projectRef:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:s.f.temporary(t),queryFn:e=>{let{signal:a}=e;return o({projectRef:t,expiry:60},a)},enabled:a&&void 0!==t,refetchInterval:6e4,...r})}},53626:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,X:()=>p});var n=a(80263),r=a(796),s=a(29257),o=a(53239),l=a(38904),i=a(80100),c=a(99779);let d=(0,o.createContext)(void 0);!function(e){let t=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],a=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,n={pattern:RegExp(a+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};e.languages.dart=e.languages.extend("clike",{"class-name":[n,{pattern:RegExp(a+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:n.inside}],keyword:t,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),e.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.dart}}},string:/[\s\S]+/}},string:void 0}),e.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),e.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":n,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(s.My);let u={defaultLanguage:"js"},p=e=>{var t;let{children:a,parentClassName:p,className:m,showCopy:h=!0,onCopy:f,handleCopy:x}=e,{resolvedTheme:g}=(0,r.D)(),[b,y]=(0,o.useState)(!1),v=(0,o.useRef)(null),j=(0,o.useContext)(d),w=[];(0,o.useEffect)(()=>{if(!b)return;let e=setTimeout(()=>y(!1),2e3);return()=>clearTimeout(e)},[b]);let k=m&&m.replace(/language-/,"");return!k&&u.defaultLanguage&&(k=u.defaultLanguage),(0,n.jsx)(s.f4,{theme:"dark"===g?s.Zj.nightOwl:s.Zj.nightOwlLight,code:null!=(t=null==a?void 0:a.trim())?t:"",language:k,"data-sentry-element":"Highlight","data-sentry-component":"SimpleCodeBlock","data-sentry-source-file":"SimpleCodeBlock.tsx",children:e=>{let{className:t,tokens:r,getLineProps:s,getTokenProps:o}=e;return(0,n.jsxs)("div",{className:"Code codeBlockWrapper group",children:[(0,n.jsx)("pre",{ref:v,className:(0,i.cn)("codeBlock",t,p),children:r.map((e,t)=>{let{key:a,...r}=s({line:e,key:t});return w.includes(t+1)&&(r.className="".concat(r.className," docusaurus-highlight-code-line")),(0,n.jsx)("div",{...r,children:e.map((e,t)=>{let{key:a,...r}=o({token:e,key:t});return(0,n.jsx)("span",{...r},t)})},t)})}),h&&(0,n.jsx)("div",{className:"invisible absolute right-0 top-0 opacity-0 transition-opacity group-hover:visible group-hover:opacity-100",children:(0,n.jsx)(c.$,{size:"tiny",type:"default",onClick:()=>(e=>{x?x(e):(0,l.l)(e),y(!0);let t=f||j;null==t||t()})(a),children:b?"Copied":"Copy"})})]})}})}},54278:(e,t,a)=>{"use strict";a.d(t,{k:()=>o});var n=a(80263),r=a(34866),s=a(85039);let o=(e,t)=>{var a;let o=null!=(a=null==e?void 0:e.ref)?a:"default",{pgNetExtensionExists:l,pitrEnabled:i,columnLevelPrivileges:c,showPgReplicate:d,showRoles:u,showWrappers:p}=t||{};return[{title:"Database Management",items:[{name:"Schema Visualizer",key:"schemas",url:"/project/".concat(o,"/database/schemas"),items:[]},{name:"Tables",key:"tables",url:"/project/".concat(o,"/database/tables"),items:[]},{name:"Functions",key:"functions",url:"/project/".concat(o,"/database/functions"),items:[]},{name:"Triggers",key:"triggers",url:"/project/".concat(o,"/database/triggers"),items:[]},{name:"Enumerated Types",key:"types",url:"/project/".concat(o,"/database/types"),items:[]},{name:"Extensions",key:"extensions",url:"/project/".concat(o,"/database/extensions"),items:[]},{name:"Indexes",key:"indexes",url:"/project/".concat(o,"/database/indexes"),items:[]},{name:"Publications",key:"publications",url:"/project/".concat(o,"/database/publications"),items:[]},...d?[{name:"ETL Replication",key:"etl",url:"/project/".concat(o,"/database/etl"),items:[]}]:[]]},{title:"Configuration",items:[...u?[{name:"Roles",key:"roles",url:"/project/".concat(o,"/database/roles"),items:[]}]:[],...c?[{name:"Column Privileges",key:"column-privileges",url:"/project/".concat(o,"/database/column-privileges"),items:[]}]:[],{name:"Policies",key:"policies",url:"/project/".concat(o,"/auth/policies"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Settings",key:"settings",url:"/project/".concat(o,"/database/settings"),items:[]}]},{title:"Platform",items:[...s.pe?[{name:"Backups",key:"backups",url:i?"/project/".concat(o,"/database/backups/pitr"):"/project/".concat(o,"/database/backups/scheduled"),items:[]}]:[],{name:"Migrations",key:"migrations",url:"/project/".concat(o,"/database/migrations"),items:[]},...p?[{name:"Wrappers",key:"wrappers",url:"/project/".concat(o,"/integrations?category=wrapper"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]:[],...l?[{name:"Webhooks",key:"hooks",url:"/project/".concat(o,"/integrations/webhooks/overview"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]:[]]},{title:"Tools",items:[{name:"Security Advisor",key:"security-advisor",url:"/project/".concat(o,"/advisors/security"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Performance Advisor",key:"performance-advisor",url:"/project/".concat(o,"/advisors/performance"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Query Performance",key:"query-performance",url:"/project/".concat(o,"/observability/query-performance"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]}]}},55441:(e,t,a)=>{"use strict";a.d(t,{$:()=>c,r:()=>i});var n=a(80263),r=a(8684),s=a(79279),o=a(53239),l=a(80100);let i=(0,s.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-foreground-muted focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-300 text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-control bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:c=!1,...d}=e,u=c?r.DX:"button";return(0,n.jsx)(u,{className:(0,l.cn)(i({variant:s,size:o,className:a})),ref:t,...d})});c.displayName="Button"},56581:(e,t,a)=>{"use strict";a.d(t,{Ed:()=>d,GT:()=>i,KQ:()=>l,M4:()=>o,O5:()=>c,Qx:()=>u,bs:()=>m,lI:()=>p,m4:()=>h});var n=a(73402),r=a(85039),s=a(71228);let o=660,l=50,i=20,c={...r.BU,INIT_READ_REPLICA:"INIT_READ_REPLICA",INIT_READ_REPLICA_FAILED:"INIT_READ_REPLICA_FAILED"},d={SOUTHEAST_ASIA:[103.8,1.37],NORTHEAST_ASIA:[139.42,35.41],NORTHEAST_ASIA_2:[126.98,37.56],CENTRAL_CANADA:[-73.6,45.5],WEST_US:[-121.96,37.35],WEST_US_2:[-122.67,45.51],EAST_US:[-78.45,38.13],WEST_EU:[-8,53],WEST_EU_2:[-.1,51],CENTRAL_EU:[8,50],SOUTH_ASIA:[72.88,19.08],OCEANIA:[151.2,-33.86],SOUTH_AMERICA:[-46.38,-23.34],CENTRAL_EU_2:[8.54,47.45],EAST_US_2:[-83,39.96],NORTH_EU:[17.91,59.65],WEST_EU_3:[2.35,48.86]},u={SOUTHEAST_ASIA:[103.8,1.37]},p=Object.keys(s.m_).map(e=>({key:e,name:null===s.m_||void 0===s.m_?void 0:s.m_[e].displayName,region:null===s.m_||void 0===s.m_?void 0:s.m_[e].code,coordinates:d[e]})).filter(e=>void 0!==e.coordinates),m={[n.hh.Requested]:"Requesting replica instance",[n.hh.Started]:"Launching replica instance",[n.hh.LaunchedReadReplicaInstance]:"Initiating replica setup",[n.hh.InitiatedReadReplicaSetup]:"Downloading base backup",[n.hh.DownloadedBaseBackup]:"Replaying WAL archives",[n.hh.ReplayedWalArchives]:"Completing set up",[n.hh.CompletedReadReplicaSetup]:"Completed"},h={[n.su.ReadReplicaInstanceLaunchFailed]:"Failed to launch replica",[n.su.InitiateReadReplicaSetupFailed]:"Failed to initiate replica",[n.su.DownloadBaseBackupFailed]:"Failed to download backup",[n.su.ReplayWalArchivesFailed]:"Failed to replay WAL archives",[n.su.CompleteReadReplicaSetupFailed]:"Failed to set up replica"}},58732:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(80263),r=a(52555),s=a.n(r),o=a(53239);let l=(0,o.forwardRef)(function(e,t){let{prefetcher:a,children:r,...l}=e,i=(0,o.useRef)(null),c=(0,o.useRef)(null);function d(){let e=Date.now();i.current&&e-i.current>=75&&a()}return(0,n.jsx)(s(),{ref:t,...l,onMouseEnter:function(){i.current=Date.now(),c.current=window.setTimeout(d,75)},onMouseLeave:function(){i.current=null,c.current&&(clearTimeout(c.current),c.current=null)},children:r})})},59129:(e,t,a)=>{"use strict";a.d(t,{s:()=>o,x:()=>l});var n=a(56581),r=a(88491),s=a.n(r);let o=e=>{var t;return s()(null!=(t=e.split("-"))?t:[])},l=e=>{var t,a;return null==(t=s()(null==(a=n.lI.find(t=>t.region===e))?void 0:a.name.split("(")))?void 0:t.split(")")[0]}},61767:(e,t,a)=>{"use strict";a.d(t,{JB:()=>s,Jn:()=>p,NA:()=>o,TD:()=>m,U1:()=>d,Uw:()=>u,Vl:()=>c,Vm:()=>r,ou:()=>i,yP:()=>l});var n=a(85039),r=function(e){return e[e.WEEK=604800]="WEEK",e[e.MONTH=2592e3]="MONTH",e[e.YEAR=31536e3]="YEAR",e}({}),s=function(e){return e.COLUMNS="COLUMNS",e.LIST="LIST",e}({}),o=function(e){return e.NAME="name",e.UPDATED_AT="updated_at",e.CREATED_AT="created_at",e.LAST_ACCESSED_AT="last_accessed_at",e}({}),l=function(e){return e.ALPHABETICAL="alphabetical",e.CREATED_AT="created_at",e}({}),i=function(e){return e.ASC="asc",e.DESC="desc",e}({}),c=function(e){return e.BUCKET="BUCKET",e.FILE="FILE",e.FOLDER="FOLDER",e}({}),d=function(e){return e.READY="READY",e.LOADING="LOADING",e.EDITING="EDITING",e}({});let u={upload:["INSERT"],download:["SELECT"],list:["SELECT"],update:["SELECT","UPDATE"],move:["SELECT","UPDATE"],copy:["SELECT","INSERT"],remove:["SELECT","DELETE"],createSignedUrl:["SELECT"],createSignedUrls:["SELECT"],getPublicUrl:[]},p={STORAGE_COLUMN:"STORAGE_COLUMN",STORAGE_ITEM:"STORAGE_ITEM",STORAGE_FOLDER:"STORAGE_FOLDER"},m={files:{platformOnly:!1,displayName:"Files",singularName:"file",article:"a",description:"General file storage for most types of digital content",valueProp:"Store images, videos, documents, and any other file type",docsUrl:"".concat(n.aq,"/guides/storage/buckets/fundamentals")},analytics:{platformOnly:!0,displayName:"Analytics",singularName:"analytics",article:"an",description:"Purpose-built storage for analytical workloads",valueProp:"Store large datasets for analytics and reporting",docsUrl:"".concat(n.aq,"/guides/storage/analytics/introduction")},vectors:{platformOnly:!0,displayName:"Vectors",singularName:"vector",article:"a",description:"Purpose-built storage for vector data",valueProp:"Store, index, and query your vector embeddings at scale",docsUrl:"".concat(n.aq,"/guides/storage/vectors")}}},63408:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let n={integrationsListWithOrg:e=>["organizations",e,"integrations"],integrationsList:()=>["organizations","integrations"],vercelProjectList:e=>["organizations",e,"vercel-projects"],vercelConnectionsList:e=>["organizations",e,"vercel-connections"],githubBranch:(e,t,a,n)=>["organizations",e,"branches",t,a,n],githubAuthorization:()=>["github-authorization"],githubRepositoriesList:()=>["github-repositories"],githubBranchesList:e=>["github-branches",e],githubConnectionsList:e=>["organizations",e,"github-connections"],vercelRedirect:e=>["vercel-redirect",e],awsRedirect:e=>["aws-redirect",e]}},66832:(e,t,a)=>{"use strict";a.d(t,{C:()=>n});let n={list:(e,t)=>["projects",e,"entity-types",...t?[t]:[]]}},68011:(e,t,a)=>{"use strict";a.d(t,{kD:()=>i,o2:()=>c});var n=a(91075),r=a(59356),s=a(11018),o=a(66832);async function l(e,t){let{projectRef:a,connectionString:n,schemas:o=["public"],search:l,limit:i=100,page:c=0,sort:d="alphabetical",filterTypes:u=Object.values(s.z)}=e,p='\n    with records as (\n      select\n        c.oid::int8 as "id",\n        nc.nspname as "schema",\n        c.relname as "name",\n        c.relkind as "type",\n        case c.relkind\n          when \'r\' then 1\n          when \'v\' then 2\n          when \'m\' then 3\n          when \'f\' then 4\n          when \'p\' then 5\n        end as "type_sort",\n        obj_description(c.oid) as "comment",\n        count(*) over() as "count",\n        c.relrowsecurity as "rls_enabled"\n      from\n        pg_namespace nc\n        join pg_class c on nc.oid = c.relnamespace\n      where\n        c.relkind in ('.concat(u.map(e=>"'".concat(e,"'")).join(", "),")\n        and not pg_is_other_temp_schema(nc.oid)\n        and (\n          pg_has_role(c.relowner, 'USAGE')\n          or has_table_privilege(\n            c.oid,\n            'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'\n          )\n          or has_any_column_privilege(c.oid, 'SELECT, INSERT, UPDATE, REFERENCES')\n        )\n        and nc.nspname in (").concat(o.map(e=>"'".concat(e,"'")),")\n        ").concat(l?"and c.relname ilike '%".concat(l,"%'"):"","\n      order by ").concat("alphabetical"===d?"c.relname asc":'"type_sort" asc, c.relname asc',"\n      limit ").concat(i,"\n      offset ").concat(c*i,"\n    )\n    select\n      jsonb_build_object(\n        'entities', coalesce(jsonb_agg(\n          jsonb_build_object(\n            'id', r.id,\n            'schema', r.schema,\n            'name', r.name,\n            'type', r.type,\n            'comment', r.comment,\n            'rls_enabled', r.rls_enabled\n          )\n          order by ").concat("alphabetical"===d?"r.name asc":"r.type_sort asc, r.name asc","\n        ), '[]'::jsonb),\n        'count', coalesce(min(r.count), 0)\n      ) \"data\"\n    from records r;\n  "),{result:m}=await (0,r.E)({projectRef:a,connectionString:n,sql:p,queryKey:["entity-types",...o,c]},t);return m[0]}let i=function(e){let{projectRef:t,connectionString:a,schemas:r=["public"],search:s,limit:i=100,sort:c,filterTypes:d}=e,{enabled:u=!0,...p}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.q)({queryKey:o.C.list(t,{schemas:r,search:s,sort:c,limit:i,filterTypes:d}),queryFn:e=>{let{signal:n,pageParam:o}=e;return l({projectRef:t,connectionString:a,schemas:r,search:s,limit:i,page:o,sort:c,filterTypes:d},n)},enabled:u&&void 0!==t,getNextPageParam(e,t){let a=t.length;if(!(a*i>=e.data.count))return a},...p})};function c(e,t){let{projectRef:a,connectionString:n,schemas:r=["public"],search:s,limit:i=100,sort:c,filterTypes:d}=t;return e.prefetchInfiniteQuery({queryKey:o.C.list(a,{schemas:r,search:s,sort:c,limit:i,filterTypes:d}),queryFn:e=>{let{signal:t,pageParam:o}=e;return l({projectRef:a,connectionString:n,schemas:r,search:s,limit:i,page:o,sort:c,filterTypes:d},t)}})}},71344:(e,t,a)=>{"use strict";a.d(t,{IS:()=>d,ap:()=>p,by:()=>u,to:()=>i});var n=a(80263),r=a(53239),s=a(56028),o=a(12532),l=a(22891);let i=100,c=()=>{let e=(0,s.BX)({rowsPerPage:i,setRowsPerPage:t=>{e.rowsPerPage=t},ui:{open:"none"},get sidePanel(){return"side-panel"===e.ui.open?e.ui.sidePanel:void 0},get confirmationDialog(){return"confirmation-dialog"===e.ui.open?e.ui.confirmationDialog:void 0},closeSidePanel:()=>{e.ui={open:"none"}},closeConfirmationDialog:()=>{e.ui={open:"none"}},onAddSchema:()=>{e.ui={open:"side-panel",sidePanel:{type:"schema",mode:"new"}}},onAddTable:t=>{e.ui={open:"side-panel",sidePanel:{type:"table",mode:"new",templateData:t}}},onEditTable:()=>{e.ui={open:"side-panel",sidePanel:{type:"table",mode:"edit"}}},onDuplicateTable:()=>{e.ui={open:"side-panel",sidePanel:{type:"table",mode:"duplicate"}}},onDeleteTable:()=>{e.ui={open:"confirmation-dialog",confirmationDialog:{type:"table",isDeleteWithCascade:!1}}},onAddColumn:()=>{e.ui={open:"side-panel",sidePanel:{type:"column"}}},onEditColumn:t=>{e.ui={open:"side-panel",sidePanel:{type:"column",column:t}}},onDeleteColumn:t=>{e.ui={open:"confirmation-dialog",confirmationDialog:{type:"column",column:t,isDeleteWithCascade:!1}}},onAddRow:()=>{e.ui={open:"side-panel",sidePanel:{type:"row"}}},onEditRow:t=>{e.ui={open:"side-panel",sidePanel:{type:"row",row:t}}},onDeleteRows:function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{numRows:0,allRowsSelected:!1,callback:()=>{}},{numRows:n,allRowsSelected:r,callback:s}=a;e.ui={open:"confirmation-dialog",confirmationDialog:{type:"row",rows:t,numRows:n,allRowsSelected:r,callback:s}}},onExpandJSONEditor:t=>{e.ui={open:"side-panel",sidePanel:{type:"json",jsonValue:t}}},onExpandTextEditor:(t,a)=>{e.ui={open:"side-panel",sidePanel:{type:"cell",value:{column:t,row:a}}}},onEditForeignKeyColumnValue:t=>{e.ui={open:"side-panel",sidePanel:{type:"foreign-row-selector",foreignKey:t}}},onImportData:t=>{e.ui={open:"side-panel",sidePanel:{type:"csv-import",file:t}}},toggleConfirmationIsWithCascade:t=>{"confirmation-dialog"===e.ui.open&&("column"===e.ui.confirmationDialog.type||"table"===e.ui.confirmationDialog.type)&&(e.ui.confirmationDialog.isDeleteWithCascade=null!=t?t:!e.ui.confirmationDialog.isDeleteWithCascade)}});return e},d=(0,r.createContext)(c()),u=e=>{let{children:t}=e,a=(0,l.MF)(c);return(0,n.jsx)(d.Provider,{value:a,"data-sentry-element":"TableEditorStateContext.Provider","data-sentry-component":"TableEditorStateContextProvider","data-sentry-source-file":"table-editor.tsx",children:t})},p=e=>{let t=(0,r.useContext)(d);return(0,o.s)(t,e)}},72341:(e,t,a)=>{"use strict";a.d(t,{RE:()=>u,UZ:()=>d});var n=a(80263),r=a(53239),s=a(56028),o=a(12532),l=a(22891);function i(){let e=(0,s.BX)({selectedDatabaseId:void 0,setSelectedDatabaseId:t=>{e.selectedDatabaseId=t}});return e}let c=(0,r.createContext)(i()),d=e=>{let{children:t}=e,a=(0,l.MF)(i);return(0,n.jsx)(c.Provider,{value:a,"data-sentry-element":"DatabaseSelectorStateContext.Provider","data-sentry-component":"DatabaseSelectorStateContextProvider","data-sentry-source-file":"database-selector.tsx",children:t})};function u(e){let t=(0,r.useContext)(c);return(0,o.s)(t,e)}},74763:(e,t,a)=>{"use strict";a.d(t,{X:()=>l});var n=a(67850),r=a(24523),s=a(63408);async function o(e,t){let{installationId:a}=e;if(!a)throw Error("installationId is required");let{data:n,error:s}=await (0,r.Jt)("/platform/vercel/redirect/{installation_id}",{params:{path:{installation_id:a}},signal:t});return s&&(0,r.H4)(s),n}let l=function(e){let{installationId:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:s.Z.vercelRedirect(t),queryFn:e=>{let{signal:a}=e;return o({installationId:t},a)},enabled:a&&void 0!==t,...r})}},74988:(e,t,a)=>{var n={"./androidkotlin/supabasekt/content":[34429,34429],"./astro/supabasejs/content":[51956,29575],"./drizzle/content":[84607,84607],"./exporeactnative/supabasejs/content":[86115,86115],"./flutter/supabaseflutter/content":[52670,52670],"./ionicangular/supabasejs/content":[89277,89277],"./ionicreact/supabasejs/content":[72884,72884],"./nextjs/app/supabasejs/content":[23207,23207],"./nextjs/pages/supabasejs/content":[20944,20944],"./nuxt/supabasejs/content":[23880,23880],"./prisma/content":[3643,3643],"./react/create-react-app/supabasejs/content":[73429,73429],"./react/vite/supabasejs/content":[69675,69675],"./refine/supabasejs/content":[57824,57824],"./remix/supabasejs/content":[99822,99822],"./solidjs/supabasejs/content":[75815,75815],"./sveltekit/supabasejs/content":[50270,50270],"./swift/supabaseswift/content":[94938,94938],"./vuejs/supabasejs/content":[5456,5456]};function r(e){if(!a.o(n,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(()=>a(r))}r.keys=()=>Object.keys(n),r.id=74988,e.exports=r},76421:(e,t,a)=>{"use strict";a.d(t,{L:()=>c});var n=a(80263),r=a(51355),s=a(80814),o=a(53239),l=a(37115),i=a(58732);function c(e){let{href:t,projectRef:a,children:c,...d}=e,u=function(){let e=(0,s.useRouter)(),t=(0,r.jE)();return(0,o.useCallback)(a=>{let{projectRef:n}=a;e.prefetch("/project/".concat(n)),(0,l.G9)(t,{ref:n}).catch(()=>{})},[t,e])}();return(0,n.jsx)(i.A,{href:t||"/project/".concat(a),prefetcher:()=>u({projectRef:a}),...d,"data-sentry-element":"PrefetchableLink","data-sentry-component":"ProjectIndexPageLink","data-sentry-source-file":"project.$ref.tsx",children:c})}},77200:(e,t,a)=>{"use strict";a.d(t,{s:()=>i});var n=a(80263),r=a(796),s=a(90652),o=a.n(s),l=a(85039);let i=e=>{let{icon:t,iconFolder:a,supportsDarkMode:s}=e,{resolvedTheme:i}=(0,r.D)(),c=a||(["ionic-angular"].includes(t)?"icons/frameworks":"libraries"),d=s||["expo","nextjs","prisma","drizzle","astro","remix","refine"].includes(t.toLowerCase()),u=t.startsWith("http")?t:"".concat(l.o2,"/img/").concat(c,"/").concat(t.toLowerCase()).concat(d&&(null==i?void 0:i.includes("dark"))?"-dark":"").concat("icons/frameworks"===c?"":"-icon",".svg");return(0,n.jsx)(o(),{className:"transition-all group-hover:scale-110",src:u,alt:"".concat(t," logo"),width:14,height:14,"data-sentry-element":"Image","data-sentry-component":"ConnectionIcon","data-sentry-source-file":"ConnectionIcon.tsx"})}},77477:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(80263),r=a(98174),s=a(80100),o=a(30404),l=a(29805);let i=function(e){let{organization:t,showTooltip:a=!0,tooltipText:i,size:c="small"}=e;if(t.managed_by===r.Kf.VERCEL_MARKETPLACE||t.managed_by===r.Kf.AWS_MARKETPLACE){let e=function(e,t){switch(e.managed_by){case r.Kf.VERCEL_MARKETPLACE:return(0,n.jsx)("svg",{className:(0,s.cn)("small"===t&&"w-2.5 h-2.5","medium"===t&&"w-3.5 h-3.5","large"===t&&"w-5 h-5"),viewBox:"0 0 76 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M37.5274 0L75.0548 65H0L37.5274 0Z",fill:"hsl(var(--foreground-default) / 1)"})});case r.Kf.AWS_MARKETPLACE:return(0,n.jsx)("svg",{className:(0,s.cn)("small"===t&&"w-2.5 h-2.5","medium"===t&&"w-3.5 h-3.5","large"===t&&"w-5 h-5"),viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsxs)("g",{fill:"hsl(var(--foreground-default) / 1)",children:[(0,n.jsx)("path",{d:"M4.51 7.687c0 .197.02.357.058.475.042.117.096.245.17.384a.233.233 0 01.037.123c0 .053-.032.107-.1.16l-.336.224a.255.255 0 01-.138.048c-.054 0-.107-.026-.16-.074a1.652 1.652 0 01-.192-.251 4.137 4.137 0 01-.164-.315c-.416.491-.937.737-1.565.737-.447 0-.804-.129-1.064-.385-.261-.256-.394-.598-.394-1.025 0-.454.16-.822.484-1.1.325-.278.756-.416 1.304-.416.18 0 .367.016.564.042.197.027.4.07.612.118v-.39c0-.406-.085-.689-.25-.854-.17-.166-.458-.246-.868-.246-.186 0-.377.022-.574.07a4.23 4.23 0 00-.575.181 1.525 1.525 0 01-.186.07.326.326 0 01-.085.016c-.075 0-.112-.054-.112-.166v-.262c0-.085.01-.15.037-.186a.399.399 0 01.15-.113c.185-.096.409-.176.67-.24.26-.07.537-.101.83-.101.633 0 1.096.144 1.394.432.293.288.442.726.442 1.314v1.73h.01zm-2.161.811c.175 0 .356-.032.548-.096.192-.064.362-.182.505-.342a.848.848 0 00.181-.341c.032-.129.054-.283.054-.465V7.03a4.43 4.43 0 00-.49-.09 3.996 3.996 0 00-.5-.033c-.357 0-.617.07-.793.214-.176.144-.26.347-.26.614 0 .25.063.437.196.566.128.133.314.197.559.197zm4.273.577c-.096 0-.16-.016-.202-.054-.043-.032-.08-.106-.112-.208l-1.25-4.127a.938.938 0 01-.048-.214c0-.085.042-.133.127-.133h.522c.1 0 .17.016.207.053.043.032.075.107.107.208l.894 3.535.83-3.535c.026-.106.058-.176.101-.208a.365.365 0 01.213-.053h.426c.1 0 .17.016.212.053.043.032.08.107.102.208l.84 3.578.92-3.578a.459.459 0 01.107-.208.347.347 0 01.208-.053h.495c.085 0 .133.043.133.133 0 .027-.006.054-.01.086a.768.768 0 01-.038.133l-1.283 4.127c-.031.107-.069.177-.111.209a.34.34 0 01-.203.053h-.457c-.101 0-.17-.016-.213-.053-.043-.038-.08-.107-.101-.214L8.213 5.37l-.82 3.439c-.026.107-.058.176-.1.213-.043.038-.118.054-.213.054h-.458zm6.838.144a3.51 3.51 0 01-.82-.096c-.266-.064-.473-.134-.612-.214-.085-.048-.143-.101-.165-.15a.38.38 0 01-.031-.149v-.272c0-.112.042-.166.122-.166a.3.3 0 01.096.016c.032.011.08.032.133.054.18.08.378.144.585.187.213.042.42.064.633.064.336 0 .596-.059.777-.176a.575.575 0 00.277-.508.52.52 0 00-.144-.373c-.095-.102-.276-.193-.537-.278l-.772-.24c-.388-.123-.676-.305-.851-.545a1.275 1.275 0 01-.266-.774c0-.224.048-.422.143-.593.096-.17.224-.32.384-.438.16-.122.34-.213.553-.277.213-.064.436-.091.67-.091.118 0 .24.005.357.021.122.016.234.038.346.06.106.026.208.052.303.085.096.032.17.064.224.096a.461.461 0 01.16.133.289.289 0 01.047.176v.251c0 .112-.042.171-.122.171a.552.552 0 01-.202-.064 2.428 2.428 0 00-1.022-.208c-.303 0-.543.048-.708.15-.165.1-.25.256-.25.475 0 .149.053.277.16.379.106.101.303.202.585.293l.756.24c.383.123.66.294.825.513.165.219.244.47.244.748 0 .23-.047.437-.138.619a1.435 1.435 0 01-.388.47c-.165.133-.362.23-.591.299-.24.075-.49.112-.761.112z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M14.465 11.813c-1.75 1.297-4.294 1.986-6.481 1.986-3.065 0-5.827-1.137-7.913-3.027-.165-.15-.016-.353.18-.235 2.257 1.313 5.04 2.109 7.92 2.109 1.941 0 4.075-.406 6.039-1.239.293-.133.543.192.255.406z",clipRule:"evenodd"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M15.194 10.98c-.223-.287-1.479-.138-2.048-.069-.17.022-.197-.128-.043-.24 1-.705 2.645-.502 2.836-.267.192.24-.053 1.89-.99 2.68-.143.123-.281.06-.217-.1.212-.53.686-1.72.462-2.003z",clipRule:"evenodd"})]})});default:return null}}(t,c);if(!a)return(0,n.jsx)("div",{className:(0,s.cn)("bg-surface-100 dark:bg-surface-200 border rounded flex items-center justify-center flex-shrink-0","small"===c&&"h-5 w-5","medium"===c&&"w-7 h-7","large"===c&&"w-10 h-10"),children:e});let d="This organization is managed by ".concat(l.N[t.managed_by]);return(0,n.jsxs)(o.m_,{children:[(0,n.jsx)(o.k$,{asChild:!0,children:(0,n.jsx)("div",{className:(0,s.cn)("bg-surface-100 dark:bg-surface-200 border rounded flex items-center justify-center hover:bg-surface-400 dark:hover:bg-surface-400 hover:border-stronger flex-shrink-0","small"===c&&"h-5 w-5","medium"===c&&"w-7 h-7","large"===c&&"w-10 h-10"),children:e})}),(0,n.jsx)(o.ZI,{children:null!=i?i:d})]})}return null}},78937:(e,t,a)=>{"use strict";a.d(t,{Q:()=>i});var n=a(67850),r=a(24523),s=a(85039),o=a(63523);async function l(e,t){let{projectRef:a}=e;if(!a)throw Error("projectRef is required");let{error:n,data:s}=await (0,r.Jt)("/platform/projects/{ref}/billing/addons",{params:{path:{ref:a}},signal:t});return n&&(0,r.H4)(n),s}let i=function(e){let{projectRef:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:o.s.addons(t),queryFn:e=>{let{signal:a}=e;return l({projectRef:t},a)},enabled:a&&s.pe&&void 0!==t,staleTime:36e5,...r})}},80316:(e,t,a)=>{"use strict";a.d(t,{k:()=>l});var n=a(67850),r=a(24523),s=a(85039);async function o(e){let t=await (0,r.x8)("".concat(s.o2,"/api/get-deployment-commit"));return await t.json()}let l=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.I)({queryKey:["deployment-commit"],queryFn:e=>{let{signal:t}=e;return o(t)},...t})}},90702:(e,t,a)=>{"use strict";a.d(t,{z4:()=>o});var n=a(52919);let r=new Map,s=async(e,t)=>{let a=await t;return!function(e){if(!e)return!1;let t=Date.now();return e.expiryTimeMs-t>2e4}(a)?(0,n.D)({projectRef:e,expiry:60}).then(e=>({apiKey:e.api_key,expiryTimeMs:Date.now()+6e4})):a};function o(e){let t=r.get(e),a=s(e,t);return r.set(e,a),a}},92246:(e,t,a)=>{"use strict";a.d(t,{t:()=>o});var n=a(80263),r=a(73886),s=a(19976);let o=e=>{let{progress:t,progressPrefix:a,action:o,message:l}=e;return(0,n.jsxs)("div",{className:"flex gap-3 w-full","data-sentry-component":"SonnerProgress","data-sentry-source-file":"sonner-progress.tsx",children:[(0,n.jsx)(r.A,{className:"animate-spin text-foreground-muted mt-0.5",size:16,"data-sentry-element":"Loader2","data-sentry-source-file":"sonner-progress.tsx"}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)("p",{className:"text-foreground text-sm",children:l}),(0,n.jsxs)("p",{className:"text-foreground-light text-sm font-mono",children:[a||"","".concat(Number(t).toFixed(0),"%")]})]}),(0,n.jsx)(s.k,{value:t,className:"w-full","data-sentry-element":"Progress","data-sentry-source-file":"sonner-progress.tsx"}),(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center justify-between",children:[(0,n.jsx)("small",{className:"text-foreground-lighter text-xs",children:"Please do not close the browser"}),o]})]})]})}},94406:(e,t,a)=>{"use strict";a.d(t,{h:()=>m});var n=a(80263),r=a(51355),s=a(80814),o=a(53239),l=a(32775),i=a(11018),c=a(68011),d=a(28202),u=a(9620),p=a(58732);function m(e){let{href:t,projectRef:a,children:m,...h}=e,f=function(){let e=(0,s.useRouter)(),t=(0,r.jE)(),{data:a}=(0,u.YA)(),[n]=(0,d.M)("table-editor-sort","alphabetical");return(0,o.useCallback)(()=>{a&&(e.prefetch("/project/".concat(a.ref,"/editor")),(0,l.KB)(t,{projectRef:a.ref,connectionString:a.connectionString}).catch(()=>{}),(0,c.o2)(t,{projectRef:null==a?void 0:a.ref,connectionString:null==a?void 0:a.connectionString,sort:n,filterTypes:Object.values(i.z)}).catch(()=>{}))},[n,a,t,e])}();return(0,n.jsx)(p.A,{href:t||"/project/".concat(a,"/editor"),prefetcher:f,...h,"data-sentry-element":"PrefetchableLink","data-sentry-component":"EditorIndexPageLink","data-sentry-source-file":"project.$ref.editor.tsx",children:m})}},99155:(e,t,a)=>{"use strict";a.d(t,{ol:()=>K,Ev:()=>G,mV:()=>V,Bx:()=>Y,Yv:()=>Z});var n=a(80263),r=a(97507),s=a(88712),o=a(11021),l=a.n(o),i=a(82810),c=a(8865),d=a(37884),u=a(69958),p=a(68410),m=a(84364),h=a(41121),f=a(52555),x=a.n(f),g=a(80814),b=a(53239),y=a(22891),v=a(63159),j=a(55608),w=a(19616),k=a(2534),N=a(1458),S=a(54278),C=a(25433),_=a(94406),A=a(48510),I=a(85039),R=a(76421),P=a(36261),E=a(3701),D=a(2657),T=a(6542),L=a(28202),M=a(84512),F=a(9620),z=a(39148),B=a(19097),O=a(21162),U=a(99779),q=a(80100),W=a(75878),H=a(91958);let G=32,V=1.5,K="expandable",$=r.P.create(B.Bx),Y=e=>{let{className:t,...a}=e,{setOpen:r}=(0,B.cL)(),o=function(){var e;let t=null!=(e=(0,E.usePathname)())?e:"";return t.startsWith("/account")||t.startsWith("/new")||"/support/new"===t||"/organizations"===t||"/sign-in"===t}(),[l,c]=(0,L.U)(y.rS.SIDEBAR_BEHAVIOR,K);return(0,b.useEffect)(()=>{"open"===l&&r(!0),"closed"===l&&r(!1)},[l,r]),(0,n.jsx)(s.N,{"data-sentry-element":"AnimatePresence","data-sentry-component":"Sidebar","data-sentry-source-file":"Sidebar.tsx",children:!o&&(0,n.jsx)($,{...a,transition:{delay:.4,duration:.4},overflowing:"expandable"===l,collapsible:"icon",variant:"sidebar",onMouseEnter:()=>{"expandable"===l&&r(!0)},onMouseLeave:()=>{"expandable"===l&&r(!1)},children:(0,n.jsx)(Z,{footer:(0,n.jsxs)(O.rI,{children:[(0,n.jsx)(O.ty,{asChild:!0,children:(0,n.jsx)(U.$,{type:"text",className:"w-min px-1.5 mx-0.5 ".concat("open"===l?"!px-2":""),icon:(0,n.jsx)(i.A,{size:G,strokeWidth:V})})}),(0,n.jsx)(O.SQ,{side:"top",align:"start",className:"w-40",children:(0,n.jsxs)(O.Hr,{value:l,onValueChange:e=>c(e),children:[(0,n.jsx)(O.lp,{children:"Sidebar control"}),(0,n.jsx)(O.mB,{}),(0,n.jsx)(O.Ht,{value:"open",children:"Expanded"}),(0,n.jsx)(O.Ht,{value:"closed",children:"Collapsed"}),(0,n.jsx)(O.Ht,{value:"expandable",children:"Expand on hover"})]})})]})})})})},Z=e=>{let{footer:t}=e,{ref:a}=(0,y.g)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.N,{mode:"wait","data-sentry-element":"AnimatePresence","data-sentry-source-file":"Sidebar.tsx",children:(0,n.jsx)(B.Yv,{"data-sentry-element":"SidebarContentPrimitive","data-sentry-source-file":"Sidebar.tsx",children:a?(0,n.jsx)(r.P.div,{children:(0,n.jsx)(Q,{})},"project-links"):(0,n.jsx)(r.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,ease:"easeOut"},children:(0,n.jsx)(X,{})},"org-links")})}),(0,n.jsx)(B.CG,{"data-sentry-element":"SidebarFooter","data-sentry-source-file":"Sidebar.tsx",children:(0,n.jsx)(B.Cn,{className:"p-0","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:t})})]})};function J(e){let{route:t,active:a,onClick:r,disabled:s,...o}=e,[l]=(0,L.U)(y.rS.SIDEBAR_BEHAVIOR,K),i={disabled:s,tooltip:"closed"===l?t.label:"",isActive:a,className:(0,q.cn)("text-sm","open"===l?"!px-2":""),size:"default",onClick:r},c=o.children?o.children:(0,n.jsxs)(n.Fragment,{children:[t.icon,(0,n.jsx)("span",{children:t.label})]});return(0,n.jsx)(B.FX,{"data-sentry-element":"SidebarMenuItem","data-sentry-component":"SideBarNavLink","data-sentry-source-file":"Sidebar.tsx",children:t.link&&!s?(0,n.jsx)(B.Uj,{...i,asChild:!0,children:(0,n.jsx)(x(),{href:t.link,children:c})}):(0,n.jsx)(B.Uj,{...i,children:c})})}let Q=()=>{let e=(0,g.useRouter)(),{ref:t}=(0,y.g)(),{data:a}=(0,F.YA)(),{data:r}=(0,M.s)(),s=(0,z.qM)(),{securityLints:o,errorLints:i}=(()=>{let{ref:e}=(0,y.g)(),{data:t}=(0,T.b)({projectRef:e}),a=(null!=t?t:[]).filter(e=>e.categories.includes("SECURITY")),n=a.filter(e=>"ERROR"===e.level);return{securityLints:a,errorLints:n}})(),c=(0,D.x)("reports:all"),{mutate:d}=(0,P.h)(),p=(0,H.hx)(),{isEnabled:m}=(0,H.nW)(),f=e.pathname.split("/")[3],{projectAuthAll:x,projectEdgeFunctionAll:b,projectStorageAll:E,realtimeAll:L}=(0,D.x)(["project_auth:all","project_edge_function:all","project_storage:all","realtime:all"]),O=(0,y._P)("authOverviewPage"),U=((e,t,a)=>{let r=(null==t?void 0:t.status)===I.BU.COMING_UP,s="/project/".concat(e);return[{key:"editor",label:"Table Editor",icon:(0,n.jsx)(A.Ue,{size:G,strokeWidth:V}),link:e&&(r?s:"/project/".concat(e,"/editor")),linkElement:(0,n.jsx)(_.h,{projectRef:e})},{key:"sql",label:"SQL Editor",icon:(0,n.jsx)(A.mx,{size:G,strokeWidth:V}),link:I.pe?e&&(r?s:"/project/".concat(e,"/sql")):"/project/".concat(e,"/sql/1")}]})(t,a),K=((e,t,a)=>{var r,s,o,l,i;let c=(null==t?void 0:t.status)===I.BU.ACTIVE_HEALTHY,d=(null==t?void 0:t.status)===I.BU.COMING_UP,u="/project/".concat(e),p=null==(r=null==a?void 0:a.auth)||r,m=null==(s=null==a?void 0:a.edgeFunctions)||s,h=null==(o=null==a?void 0:a.storage)||o,f=null==(l=null==a?void 0:a.realtime)||l,x=null!=(i=null==a?void 0:a.authOverviewPage)&&i,g=(0,S.k)(t),b=(0,N.B)(e);return[{key:"database",label:"Database",icon:(0,n.jsx)(A.Wm,{size:G,strokeWidth:V}),link:e&&(d?u:c?"/project/".concat(e,"/database/schemas"):"/project/".concat(e,"/database/backups/scheduled")),items:g},...p?[{key:"auth",label:"Authentication",icon:(0,n.jsx)(A.Nj,{size:G,strokeWidth:V}),link:e&&(d?u:x?"/project/".concat(e,"/auth/overview"):"/project/".concat(e,"/auth/users")),items:b}]:[],...h?[{key:"storage",label:"Storage",icon:(0,n.jsx)(A.wc,{size:G,strokeWidth:V}),link:e&&(d?u:"/project/".concat(e,"/storage/files"))}]:[],...m?[{key:"functions",label:"Edge Functions",icon:(0,n.jsx)(A.n7,{size:G,strokeWidth:V}),link:e&&(d?u:"/project/".concat(e,"/functions"))}]:[],...f?[{key:"realtime",label:"Realtime",icon:(0,n.jsx)(A.Se,{size:G,strokeWidth:V}),link:e&&(d?u:"/project/".concat(e,"/realtime/inspector"))}]:[]]})(t,a,{auth:x,edgeFunctions:b,storage:E,realtime:L,authOverviewPage:O}),$=((e,t,a)=>{let r=(null==t?void 0:t.status)===I.BU.COMING_UP,s="/project/".concat(e),{unifiedLogs:o,showReports:l}=null!=a?a:{};return[{key:"advisors",label:"Advisors",icon:(0,n.jsx)(v.A,{size:G,strokeWidth:V}),link:e&&(r?s:"/project/".concat(e,"/advisors/security"))},...I.pe&&(null==l||l)?[{key:"observability",label:"Observability",icon:(0,n.jsx)(j.A,{size:G,strokeWidth:V}),link:e&&(r?s:"/project/".concat(e,"/observability"))}]:[],{key:"logs",label:"Logs",icon:(0,n.jsx)(w.A,{size:G,strokeWidth:V}),link:e&&(r?s:null!=o&&o?"/project/".concat(e,"/logs"):"/project/".concat(e,"/logs/explorer"))},{key:"api",label:"API Docs",icon:(0,n.jsx)(k.A,{size:G,strokeWidth:V}),link:e&&(r?s:"/project/".concat(e,"/api"))},{key:"integrations",label:"Integrations",icon:(0,n.jsx)(u.A,{size:G,strokeWidth:V}),link:e&&(r?s:"/project/".concat(e,"/integrations"))}]})(t,a,{unifiedLogs:m,showReports:c}),Y=((e,t)=>{let a=(0,C.M)(e);return[{key:"settings",label:"Project Settings",icon:(0,n.jsx)(h.A,{size:G,strokeWidth:V}),link:e&&"/project/".concat(e,"/settings/general"),items:a}]})(t,0);return(0,n.jsxs)(B.wZ,{"data-sentry-element":"SidebarMenu","data-sentry-component":"ProjectLinks","data-sentry-source-file":"Sidebar.tsx",children:[(0,n.jsxs)(B.Cn,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:[(0,n.jsx)(J,{active:l()(f)&&!l()(e.query.ref),route:{key:"HOME",label:"Project Overview",icon:(0,n.jsx)(A.ww,{size:G,strokeWidth:V}),link:"/project/".concat(t),linkElement:(0,n.jsx)(R.L,{projectRef:t})},"data-sentry-element":"SideBarNavLink","data-sentry-source-file":"Sidebar.tsx"},"home"),U.map((e,t)=>(0,n.jsx)(J,{route:e,active:f===e.key},"tools-routes-".concat(t)))]}),(0,n.jsx)(W.w,{className:"w-[calc(100%-1rem)] mx-auto","data-sentry-element":"Separator","data-sentry-source-file":"Sidebar.tsx"}),(0,n.jsx)(B.Cn,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:K.map((e,t)=>(0,n.jsx)(J,{route:e,active:f===e.key},"product-routes-".concat(t)))}),(0,n.jsx)(W.w,{className:"w-[calc(100%-1rem)] mx-auto","data-sentry-element":"Separator","data-sentry-source-file":"Sidebar.tsx"}),(0,n.jsx)(B.Cn,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:$.map((e,a)=>{if("api"===e.key)return(0,n.jsx)(J,{route:p?{label:e.label,icon:e.icon,key:e.key}:e,active:f===e.key,onClick:()=>{var e;p&&s.setShowProjectApiDocs(!0),d({action:"api_docs_opened",properties:{source:"sidebar"},groups:{project:null!=t?t:"Unknown",organization:null!=(e=null==r?void 0:r.slug)?e:"Unknown"}})}},"other-routes-".concat(a));if("advisors"===e.key)return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:(0,q.cn)("absolute pointer-events-none flex h-2 w-2 left-[18px] group-data-[state=expanded]:left-[20px] top-2 z-10 rounded-full",i.length>0?"bg-destructive-600":o.length>0?"bg-warning-600":"bg-transparent"),"data-sentry-component":"ActiveDot","data-sentry-source-file":"Sidebar.tsx"}),(0,n.jsx)(J,{route:e,active:f===e.key},"other-routes-".concat(a))]},e.key);return"logs"===e.key?(0,n.jsx)(J,{route:e,active:f===e.key},"other-routes-".concat(a)):(0,n.jsx)(J,{route:e,active:f===e.key},"other-routes-".concat(a))})}),(0,n.jsx)(B.Cn,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:Y.map((e,t)=>(0,n.jsx)(J,{route:e,active:f===e.key},"settings-routes-".concat(t)))})]})},X=()=>{var e;let t=(0,g.useRouter)(),{slug:a}=(0,y.g)(),r=null!=(e=null!=a?a:t.query.orgSlug)?e:"",{data:s}=(0,M.s)(),o=(0,y.fG)(),l=(null==s?void 0:s.organization_requires_mfa)&&!o,i=(0,D.x)("billing:all"),f=t.pathname.split("/")[3],x=[{label:"Projects",href:"/org/".concat(r),key:"projects",icon:(0,n.jsx)(c.A,{size:G,strokeWidth:V})},{label:"Team",href:"/org/".concat(r,"/team"),key:"team",icon:(0,n.jsx)(d.A,{size:G,strokeWidth:V})},{label:"Integrations",href:"/org/".concat(r,"/integrations"),key:"integrations",icon:(0,n.jsx)(u.A,{size:G,strokeWidth:V})},{label:"Usage",href:"/org/".concat(r,"/usage"),key:"usage",icon:(0,n.jsx)(p.A,{size:G,strokeWidth:V})},...i?[{label:"Billing",href:"/org/".concat(r,"/billing"),key:"billing",icon:(0,n.jsx)(m.A,{size:G,strokeWidth:V})}]:[],{label:"Organization settings",href:"/org/".concat(r,"/general"),key:"settings",icon:(0,n.jsx)(h.A,{size:G,strokeWidth:V})}];return r?(0,n.jsx)(B.wZ,{className:"flex flex-col gap-1 items-start","data-sentry-element":"SidebarMenu","data-sentry-component":"OrganizationLinks","data-sentry-source-file":"Sidebar.tsx",children:(0,n.jsx)(B.Cn,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:x.map((e,a)=>(0,n.jsx)(J,{disabled:l,active:0===a?void 0===f:"settings"===e.key?t.pathname.includes("/general")||t.pathname.includes("/apps")||t.pathname.includes("/audit")||t.pathname.includes("/documents")||t.pathname.includes("/security"):f===e.key,route:{label:e.label,link:e.href,key:e.label,icon:e.icon}},e.key))})}):null}}}]);