try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b637bfec-d25e-4c51-9639-9d15e6cbef5e",e._sentryDebugIdIdentifier="sentry-dbid-b637bfec-d25e-4c51-9639-9d15e6cbef5e")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73061],{1438:(e,t,s)=>{s.d(t,{b:()=>w});var r=s(80263),l=s(39899),a=s.n(l),n=s(29948),o=s(76174),i=s(41121),d=s(9753),c=s(77406),u=s(77191),x=s.n(u),m=s(53239),f=s(73969),p=s(52555),h=s.n(p),g=s(22891),y=s(38904),j=s(21162),v=s(99779);let w=e=>{let{iconOnly:t=!1,type:s="default",text:l="Export",align:u="start",results:p,fileName:w,onDownloadAsCSV:N,onCopyAsMarkdown:b,onCopyAsJSON:S}=e,{ref:C}=(0,g.g)(),R=p.map(e=>{let t={...e};return Object.keys(e).forEach(s=>{"object"==typeof e[s]&&(t[s]=JSON.stringify(e[s]))}),t}),E=(0,m.useMemo)(()=>{if(p){let e=Array.from(p)[0];if(e)return Object.keys(e)}},[p]);return(0,r.jsxs)(j.rI,{"data-sentry-element":"DropdownMenu","data-sentry-component":"DownloadResultsButton","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsx)(j.ty,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"DownloadResultsButton.tsx",children:(0,r.jsx)(v.$,{type:s,icon:t?(0,r.jsx)(n.A,{}):void 0,iconRight:t?void 0:(0,r.jsx)(o.A,{}),disabled:0===p.length,className:t?"w-7":"","data-sentry-element":"Button","data-sentry-source-file":"DownloadResultsButton.tsx",children:!t&&l})}),(0,r.jsxs)(j.SQ,{align:u,className:"w-44","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsx)(j._2,{asChild:!0,className:"gap-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DownloadResultsButton.tsx",children:(0,r.jsxs)(h(),{href:"/project/".concat(C,"/settings/log-drains"),"data-sentry-element":"Link","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsx)(i.A,{size:14,"data-sentry-element":"Settings","data-sentry-source-file":"DownloadResultsButton.tsx"}),(0,r.jsx)("p",{children:"Add a Log Drain"})]})}),(0,r.jsxs)(j._2,{onClick:()=>{if(navigator){0==R.length&&(0,f.oR)("Results are empty");let e=Object.keys(R[0]),t=R.map(t=>{let s=[];return e.forEach(e=>s.push(t[e])),s}),s=[e].concat(t),r=(0,c.Q)(s);(0,y.l)(r,()=>{f.oR.success("Copied results to clipboard"),null==b||b()})}},className:"gap-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsx)(d.A,{size:14,"data-sentry-element":"Copy","data-sentry-source-file":"DownloadResultsButton.tsx"}),(0,r.jsx)("p",{children:"Copy as markdown"})]}),(0,r.jsxs)(j._2,{onClick:()=>{if(navigator){if(0===p.length)return(0,f.oR)("Results are empty");(0,y.l)(JSON.stringify(p,null,2),()=>{f.oR.success("Copied results to clipboard"),null==S||S()})}},className:"gap-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsx)(d.A,{size:14,"data-sentry-element":"Copy","data-sentry-source-file":"DownloadResultsButton.tsx"}),(0,r.jsx)("p",{children:"Copy as JSON"})]}),(0,r.jsxs)(j._2,{className:"gap-x-2",onClick:()=>(()=>{let e=new Blob([x().unparse(R,{columns:E})],{type:"text/csv;charset=utf-8;"});a()(e,"".concat(w,".csv")),f.oR.success("Downloading results as CSV"),null==N||N()})(),"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsx)(n.A,{size:14,"data-sentry-element":"Download","data-sentry-source-file":"DownloadResultsButton.tsx"}),(0,r.jsx)("p",{children:"Download CSV"})]})]})]})}},14051:(e,t,s)=>{s.d(t,{g:()=>n});var r=s(75187),l=s(53239),a=s(49510);let n=e=>{let[t,s]=(0,l.useState)(!1),{getEntitlementNumericValue:n}=(0,a.e)("log.retention_days"),o=n(),i=(0,r.lK)(e,o);return(0,l.useEffect)(()=>{i&&s(!0)},[e]),{showUpgradePrompt:t,setShowUpgradePrompt:s,shouldShowUpgradePrompt:i}}},27122:(e,t,s)=>{s.d(t,{A:()=>c});var r=s(80263),l=s(52555),a=s.n(l),n=s(84512),o=s(6217),i=s(99779),d=s(77727);let c=e=>{let{show:t,setShowUpgradePrompt:s,title:l="Log retention",description:c="Logs can be retained up to a duration of 3 months depending on the plan that your project is on.",source:u="logsRetentionUpgradePrompt"}=e,{data:x}=(0,n.s)();return(0,r.jsxs)(o.A,{hideFooter:!0,visible:t,size:"medium",header:l,onCancel:()=>s(!1),"data-sentry-element":"Modal","data-sentry-component":"UpgradePrompt","data-sentry-source-file":"UpgradePrompt.tsx",children:[(0,r.jsx)(o.A.Content,{"data-sentry-element":"Modal.Content","data-sentry-source-file":"UpgradePrompt.tsx",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-sm",children:c}),(0,r.jsxs)("div",{className:"border-control bg-surface-300 rounded border",children:[(0,r.jsxs)("div",{className:"flex items-center px-4 pt-2 pb-1",children:[(0,r.jsx)("p",{className:"text-foreground-light w-[40%] text-sm",children:"Plan"}),(0,r.jsx)("p",{className:"text-foreground-light w-[60%] text-sm",children:"Retention duration"})]}),(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsxs)("div",{className:"flex items-center px-4 py-1",children:[(0,r.jsx)("p",{className:"w-[40%] text-sm",children:"Free"}),(0,r.jsx)("p",{className:"w-[60%] text-sm",children:d.rU.FREE.text})]}),(0,r.jsxs)("div",{className:"flex items-center px-4 py-1",children:[(0,r.jsx)("p",{className:"w-[40%] text-sm",children:"Pro"}),(0,r.jsx)("p",{className:"w-[60%] text-sm",children:d.rU.PRO.text})]}),(0,r.jsxs)("div",{className:"flex items-center px-4 py-1",children:[(0,r.jsx)("p",{className:"w-[40%] text-sm",children:"Team"}),(0,r.jsx)("p",{className:"w-[60%] text-sm",children:d.rU.TEAM.text})]}),(0,r.jsxs)("div",{className:"flex items-center px-4 py-1",children:[(0,r.jsx)("p",{className:"w-[40%] text-sm",children:"Enterprise"}),(0,r.jsx)("p",{className:"w-[60%] text-sm",children:d.rU.ENTERPRISE.text})]})]})]})]})}),(0,r.jsx)(o.A.Separator,{"data-sentry-element":"Modal.Separator","data-sentry-source-file":"UpgradePrompt.tsx"}),(0,r.jsxs)(o.A.Content,{className:"flex justify-end gap-3","data-sentry-element":"Modal.Content","data-sentry-source-file":"UpgradePrompt.tsx",children:[(0,r.jsx)(i.$,{type:"default",onClick:()=>s(!1),"data-sentry-element":"Button","data-sentry-source-file":"UpgradePrompt.tsx",children:"Close"}),(0,r.jsx)(i.$,{asChild:!0,size:"tiny","data-sentry-element":"Button","data-sentry-source-file":"UpgradePrompt.tsx",children:(0,r.jsx)(a(),{href:"/org/".concat(null==x?void 0:x.slug,"/billing?panel=subscriptionPlan&source=").concat(u),"data-sentry-element":"Link","data-sentry-source-file":"UpgradePrompt.tsx",children:"Upgrade"})})]})]})}},34063:(e,t,s)=>{s.d(t,{t:()=>l});var r=s(23850);function l(){return(0,r.ZA)("log")}},70653:(e,t,s)=>{s.d(t,{y:()=>n});var r=s(80263),l=s(31092);let a=()=>(0,r.jsx)("div",{className:"relative flex h-4 w-32 items-center rounded border border-dashed border-stronger px-2","data-sentry-component":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"});function n(e){let{title:t="No results found",description:s="Try another search or adjust the filters"}=e;return(0,r.jsxs)("div",{className:"flex scale-100 flex-col items-center justify-center gap-6 text-center opacity-100 h-full","data-sentry-component":"LogsTableEmptyState","data-sentry-source-file":"LogsTableEmptyState.tsx",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1 relative",children:[(0,r.jsx)(a,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,r.jsx)(a,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,r.jsx)(a,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,r.jsx)(l.A,{size:30,className:"absolute right-3 -bottom-2 text-foreground-lighter","data-sentry-element":"Search","data-sentry-source-file":"LogsTableEmptyState.tsx"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 px-5",children:[(0,r.jsx)("h3",{className:"text-lg text-foreground",children:t}),(0,r.jsx)("p",{className:"text-sm max-w-xs text-foreground-lighter",children:s})]})]})}},71438:(e,t,s)=>{s.d(t,{A:()=>eT});var r=s(80263),l=s(72112),a=s(84305),n=s.n(a),o=s(93901),i=s(23169),d=s(84718),c=s(9753),u=s(53239),x=s(9711),m=s(24560),f=s(37034),p=s(73969),h=s(22891),g=s(23729),y=s(1438),j=s(34063),v=s(80090),w=s(34983),N=s(38904),b=s(80100),S=s(99779),C=s(39260),R=s(75024),E=s(88044);let _=e=>(0,r.jsxs)(R.T5,{"data-sentry-element":"RowLayout","data-sentry-component":"defaultRenderCell","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx",children:[(0,r.jsx)(E.T,{utcTimestamp:e.row.timestamp,"data-sentry-element":"TimestampInfo","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx"}),(0,r.jsx)(R.gl,{className:"w-full",value:e.row.event_message,"data-sentry-element":"TextFormatter","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx"})]}),T=[{name:"default-preview-first-column",key:"default-preview-first-column",renderHeaderCell:()=>null,renderCell:_}],A=[{name:"auth-first-column",key:"auth-first-column",renderHeaderCell:()=>null,renderCell:e=>{var t;return e.row.level?(0,r.jsxs)(R.T5,{children:[(0,r.jsx)(E.T,{utcTimestamp:e.row.timestamp}),e.row.level&&(0,r.jsx)(R.YN,{value:e.row.level}),(0,r.jsx)(R.gl,{className:"w-full",value:"".concat(e.row.path?e.row.path+" | ":"").concat((null==(t=e.row.msg)?void 0:t.trim())||e.row.event_message)})]}):_(e)}}],k=[{name:"database-api-first-column",key:"database-api-first-column",renderHeaderCell:()=>null,renderCell:e=>e.row.status_code||e.row.method||e.row.path?(0,r.jsxs)(R.T5,{children:[(0,r.jsx)(E.T,{utcTimestamp:e.row.timestamp}),(0,r.jsx)(R.vm,{value:String(e.row.status_code)}),(0,r.jsx)(R.gl,{value:String(e.row.method)}),(0,r.jsx)(R.gl,{value:String(e.row.path)})]}):_(e)}],D=[{name:"database-postgres-first-column",key:"database-postgres-first-column",renderHeaderCell:()=>null,renderCell:e=>e.row.error_severity?(0,r.jsxs)(R.T5,{children:[(0,r.jsx)(E.T,{utcTimestamp:e.row.timestamp}),(0,r.jsx)(R.YN,{value:e.row.error_severity}),(0,r.jsx)(R.gl,{className:"w-full",value:e.row.event_message}),e.row.detail?(0,r.jsx)(R.gl,{value:e.row.detail}):null,e.row.hint?(0,r.jsx)(R.gl,{value:e.row.hint}):null]}):_(e)}],L=[{name:"functions-edge-first-column",key:"functions-edge-first-column",renderHeaderCell:()=>null,renderCell:e=>e.row.status_code||e.row.method?(0,r.jsxs)(R.T5,{children:[(0,r.jsx)(E.T,{utcTimestamp:e.row.timestamp}),(0,r.jsx)(R.vm,{value:String(e.row.status_code)}),(0,r.jsx)(R.gl,{value:String(e.row.method)}),(0,r.jsx)(R.gl,{value:String(e.row.id)})]}):_(e)}],P=[{name:"functions-logs-first-column",key:"functions-logs-first-column",renderHeaderCell:()=>null,renderCell:e=>e.row.event_type||e.row.level?(0,r.jsxs)(R.T5,{children:[(0,r.jsx)(E.T,{utcTimestamp:e.row.timestamp}),"uncaughtException"===e.row.event_type?(0,r.jsx)(R.YN,{value:e.row.event_type,uppercase:!1}):(0,r.jsx)(R.YN,{value:e.row.level}),(0,r.jsx)(R.gl,{className:"w-full",value:e.row.event_message})]}):_(e)}];var I=s(23892),O=s(68152),z=s(56946),B=s(11101),F=s(95052),M=s(16488),q=s(72101),U=function(e){return e.Auth="AUTH",e.Realtime="REALTIME",e.Storage="STORAGE",e}({});class $ extends String{toString(){return this.value}constructor(e,t){super(e),(0,q._)(this,"__apiType",void 0),(0,q._)(this,"value",void 0),(0,q._)(this,"__meta__",void 0),this.value=e,this.__meta__=t}}let J=new $("\n    query ErrorCodeQuery($code: String!, $service: Service) {\n  errors(code: $code, service: $service) {\n    nodes {\n      code\n      service\n      message\n    }\n  }\n}\n    ");var H=s(88419),W=s(75878),G=s(21162),Q=s(95137),V=s(21650),Z=s(20033),Y=s(55441),K=s(67850),X=s(24523);async function ee(e,t){let{variables:s,signal:r}=t;try{let t=await fetch("https://supabase.com/docs/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:s}),signal:r});if(!t.ok)throw Error("Failed network response from Content API");let{data:l,errors:a}=await t.json();if(a)throw a;return l}catch(e){(0,X.H4)(e)}}let et={"\n  query ErrorCodeQuery($code: String!, $service: Service) {\n    errors(code: $code, service: $service) {\n      nodes {\n        code\n        service\n        message\n      }\n    }\n  }\n":J},es={errorCodes:e=>{let{code:t,service:s}=e;return["content-api","error-codes",{code:t,service:s}]}},er=function(e){var t;return null!=(t=et[e])?t:{}}("\n  query ErrorCodeQuery($code: String!, $service: Service) {\n    errors(code: $code, service: $service) {\n      nodes {\n        code\n        service\n        message\n      }\n    }\n  }\n");async function el(e,t){let{code:s,service:r}=e;return await ee(er,{variables:{code:s,service:r},signal:t})}let ea=function(e){let{enabled:t=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,K.I)({queryKey:es.errorCodes(e),queryFn:t=>{let{signal:s}=t;return el(e,s)},enabled:t,...s})};var en=s(60656);let eo=e=>{let{open:t,onOpenChange:s,errorCode:l,service:a}=e,{data:n,isLoading:o,isSuccess:i,refetch:d}=ea({code:l,service:a},{enabled:t});return(0,r.jsx)(Q.lG,{open:t,onOpenChange:s,"data-sentry-element":"Dialog","data-sentry-component":"ErrorCodeDialog","data-sentry-source-file":"ErrorCodeDialog.tsx",children:(0,r.jsx)(Q.Cf,{"data-sentry-element":"DialogContent","data-sentry-source-file":"ErrorCodeDialog.tsx",children:(0,r.jsxs)(Q.c7,{"data-sentry-element":"DialogHeader","data-sentry-source-file":"ErrorCodeDialog.tsx",children:[(0,r.jsxs)(Q.L3,{className:"mb-4","data-sentry-element":"DialogTitle","data-sentry-source-file":"ErrorCodeDialog.tsx",children:["Help for error code ",(0,r.jsx)("code",{children:l})]}),(0,r.jsxs)(Q.rr,{"data-sentry-element":"DialogDescription","data-sentry-source-file":"ErrorCodeDialog.tsx",children:[o&&(0,r.jsx)(ei,{}),i&&(0,r.jsx)(ed,{data:n}),!o&&!i&&(0,r.jsx)(eu,{refetch:d})]})]})})})},ei=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M.Ay,{className:"w-3/4 mb-2","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ErrorCodeDialog.tsx"}),(0,r.jsx)(M.Ay,{className:"w-1/2","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ErrorCodeDialog.tsx"})]}),ed=e=>{var t,s;let{data:l}=e,a=null==l||null==(s=l.errors)||null==(t=s.nodes)?void 0:t.filter(e=>!!e.message);return a&&0!==a.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"mb-4",children:"Possible explanations for this error:"}),(0,r.jsx)("div",{className:"grid gap-2 grid-cols-[max-content_1fr]",children:a.map(e=>(0,r.jsx)(ec,{...e},"".concat(e.service,"-").concat(e.code)))})]}):(0,r.jsx)(r.Fragment,{children:"No information found for this error code."})},ec=e=>{let{code:t,service:s,message:l}=e;return l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.E,{className:"h-fit","data-sentry-element":"Badge","data-sentry-source-file":"ErrorCodeDialog.tsx",children:s}),(0,r.jsx)("p",{children:l})]}):null},eu=e=>{let{refetch:t}=e;return(0,r.jsxs)(Z.Fc,{variant:"warning","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"ErrorState","data-sentry-source-file":"ErrorCodeDialog.tsx",children:[(0,r.jsx)(en.A,{"data-sentry-element":"AlertTriangle","data-sentry-source-file":"ErrorCodeDialog.tsx"}),(0,r.jsx)(Z.XL,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"ErrorCodeDialog.tsx",children:"Lookup failed"}),(0,r.jsxs)(Z.TN,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"ErrorCodeDialog.tsx",children:[(0,r.jsx)("p",{children:"Failed to look up error code help info"}),t&&(0,r.jsx)(Y.$,{variant:"outline",size:"sm",className:"mt-2",onClick:t,children:"Try again"})]})]})},ex=e=>{let{value:t,className:s}=e;return(0,r.jsx)("pre",{className:(0,b.cn)("px-1 bg-surface-300 w-full pt-1 max-w-full border-none text-xs prose-sm transition-all overflow-auto rounded-md whitespace-pre-wrap",s),"data-sentry-component":"LogRowCodeBlock","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:JSON.stringify(t,null,2)})},em=()=>(0,r.jsx)(W.w,{className:"bg-border my-1","data-sentry-element":"Separator","data-sentry-component":"LogRowSeparator","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx"}),ef=e=>{let{keyName:t,value:s,dataTestId:l,path:a}=e,{setSearch:n}=(0,H.B)(),[o,i]=(0,u.useState)(!1),d=(null==a?void 0:a.startsWith("/auth/"))?U.Auth:void 0,c=async(e,t)=>{let{query:s}=t;n(s||"")},x="timestamp"===t||"created_at"===t||"updated_at"===t,m="object"==typeof s&&null!==s,f="status"===t||"status_code"===t,h="method"===t,g="search"===t,y="user_agent"===t,j="event_message"===t,v="path"===t,w="log-viewer-expanded-".concat(t),[C,_]=(0,u.useState)(()=>{try{var e;return JSON.parse(null!=(e=localStorage.getItem(w))?e:"false")}catch(e){return!1}}),[T,A]=(0,u.useState)(!1);return((0,u.useEffect)(()=>{localStorage.setItem(w,JSON.stringify(C))},[C,w]),m||j)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("h3",{className:"text-foreground-lighter text-sm pl-3 py-2",children:t}),(0,r.jsxs)("div",{children:[(0,r.jsx)(ex,{className:(0,b.cn)("px-2.5",{"max-h-[80px]":!C,"max-h-[400px]":C,"py-2":j}),value:s}),!j&&(0,r.jsx)(S.$,{className:"mt-1 w-full",size:"tiny",type:"outline",onClick:()=>_(!C),children:C?"Collapse":"Expand"})]})]}),(0,r.jsx)(em,{})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(G.rI,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:[(0,r.jsx)(G.ty,{className:"group w-full","data-testid":l,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:(0,r.jsx)("div",{className:"rounded-md w-full overflow-hidden",children:(0,r.jsxs)("div",{className:(0,b.cn)("flex h-10 w-full",{"flex-col gap-1.5 h-auto":C,"items-center group-hover:bg-surface-300 gap-4":!C}),children:[(0,r.jsx)("h3",{className:(0,b.cn)("pl-3 text-foreground-lighter text-sm text-left",{"h-10 flex items-center":C}),children:t}),(0,r.jsx)("div",{className:(0,b.cn)("text-xs flex-1 font-mono text-foreground pr-3",{"max-w-full text-left rounded-md p-2 bg-surface-300 text-xs w-full":C,"truncate text-right":!C,"text-brand-600":T}),children:C?(0,r.jsx)(ex,{value:s}):x?(0,r.jsx)(E.T,{className:"text-sm",utcTimestamp:s}):f||h?(0,r.jsx)("div",{className:"flex items-center gap-1 justify-end",children:(0,r.jsx)(R.vm,{value:s})}):(0,r.jsx)("div",{className:"truncate",children:s})})]})})}),(0,r.jsxs)(G.SQ,{align:"start","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:["error_code"===t&&(0,r.jsx)(G._2,{onClick:()=>{i(!0)},children:"More information"}),(0,r.jsxs)(G._2,{onClick:()=>{(0,N.l)(String(s),()=>{A(!0),p.oR.success("Copied to clipboard")}),setTimeout(()=>{A(!1)},1e3)},"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:["Copy ",t]}),!m&&(0,r.jsxs)(G._2,{onClick:()=>{_(!C)},children:[C?"Collapse":"Expand"," value"]}),(h||y||f||v)&&(0,r.jsxs)(G._2,{onClick:()=>{c("search-input-change",{query:s})},children:["Search by ",t]}),g?(g&&"string"==typeof s?(s.startsWith("?")?s.slice(1):s).split("&").filter(Boolean):[]).map(e=>(0,r.jsxs)(G._2,{onClick:()=>{c("search-input-change",{query:e})},children:["Search by ",e]},e)):null]}),(0,r.jsx)(em,{"data-sentry-element":"LogRowSeparator","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx"})]}),"error_code"===t&&(0,r.jsx)(eo,{open:o,onOpenChange:i,errorCode:String(s),service:d})]})},ep=e=>{var t,s;let{log:l}=e,{timestamp:a,event_message:n,metadata:o,id:i,status:d,...c}=l,u="string"==typeof l.path?l.path:void 0,x=null==l||null==(s=l.metadata)||null==(t=s[0])?void 0:t.log_file;return(0,r.jsxs)("div",{"data-testid":"log-selection",className:"p-2 flex flex-col","data-sentry-component":"DefaultPreviewSelectionRenderer","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:[(null==l?void 0:l.id)&&(0,r.jsx)(ef,{dataTestId:"log-selection-id",keyName:"id",value:l.id},"id"),(null==l?void 0:l.status)&&(0,r.jsx)(ef,{keyName:"status",value:l.status},"status"),(null==l?void 0:l.timestamp)&&(0,r.jsx)(ef,{keyName:"timestamp",value:l.timestamp},"timestamp"),Object.entries(c).map(e=>{let[t,s]=e;return(0,r.jsx)(ef,{keyName:t,value:s,path:u},t)}),(null==l?void 0:l.event_message)&&(0,r.jsx)(ef,{keyName:"event_message",value:l.event_message},"event_message"),!!x&&(0,r.jsx)(ef,{keyName:"log_file",value:x},"log_file"),(null==l?void 0:l.metadata)&&(0,r.jsx)(ef,{keyName:"metadata",value:l.metadata},"metadata")]})};var eh=s(75187);let eg=e=>{let{log:t,onClose:s,queryType:l,isLoading:a,error:n}=e,[o,i]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{if(!o)return;let e=setTimeout(()=>i(!1),2e3);return()=>clearTimeout(e)},[o]),(0,r.jsx)("div",{className:"relative flex h-full flex-grow flex-col overflow-y-scroll bg-surface-100 border-t","data-sentry-component":"LogSelection","data-sentry-source-file":"LogSelection.tsx",children:(0,r.jsx)("div",{className:"relative flex-grow flex flex-col h-full",children:(0,r.jsxs)(B.tU,{defaultValue:"details",className:"flex flex-col h-full","data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:[(0,r.jsxs)(B.j7,{className:"px-2 pt-2 relative","data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:[(0,r.jsx)(B.Xi,{className:"px-3",value:"details","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:"Details"}),(0,r.jsx)(B.Xi,{disabled:!t,className:"px-3",value:"raw","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:"Raw"}),(0,r.jsxs)("div",{className:"*:px-1.5 *:text-foreground-lighter ml-auto flex gap-1 absolute right-2 top-2",children:[(0,r.jsx)(g.G,{disabled:!t||a,type:"text",tooltip:{content:{side:"left",text:a?"Loading log...":"Copy as JSON"}},icon:o?(0,r.jsx)(I.A,{}):(0,r.jsx)(c.A,{}),onClick:()=>{i(!0),(0,N.l)(JSON.stringify(t,null,2))},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"LogSelection.tsx"}),(0,r.jsx)(S.$,{type:"text",onClick:s,"data-sentry-element":"Button","data-sentry-source-file":"LogSelection.tsx",children:(0,r.jsx)(O.A,{size:14,strokeWidth:2,"data-sentry-element":"X","data-sentry-source-file":"LogSelection.tsx"})})]})]}),(0,r.jsx)("div",{className:"flex-1 h-full",children:a?(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(M.yV,{})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.av,{className:"space-y-6 h-full",value:"details",children:(0,r.jsx)(()=>{var e,s,a,o,i,d,c,u,x,m,f,p,h,g,y,j,v,w,N,b,S,C,R,E,_,T,A,k,D,L,P,I,O,z,B,F,M,q,U;if(n)return(0,r.jsx)(ej,{error:n});if(!t)return(0,r.jsx)(ey,{});switch(l){case"api":let $=null==t||null==(o=t.metadata)||null==(a=o[0])||null==(s=a.response)||null==(e=s[0])?void 0:e.status_code,J=null==t||null==(u=t.metadata)||null==(c=u[0])||null==(d=c.request)||null==(i=d[0])?void 0:i.method,H=null==t||null==(p=t.metadata)||null==(f=p[0])||null==(m=f.request)||null==(x=m[0])?void 0:x.path,W=null==t||null==(j=t.metadata)||null==(y=j[0])||null==(g=y.request)||null==(h=g[0])?void 0:h.search,G=null==t||null==(b=t.metadata)||null==(N=b[0])||null==(w=N.request)||null==(v=w[0])?void 0:v.headers[0].user_agent,Q=null==t||null==(T=t.metadata)||null==(_=T[0])||null==(E=_.response)||null==(R=E[0])||null==(C=R.headers)||null==(S=C[0])?void 0:S.x_sb_error_code,V=null!=(A=(0,eh.$f)(null==t?void 0:t.metadata))?A:(0,eh.Kz)(null==t?void 0:t.metadata),Z=(0,eh.JC)(null==t?void 0:t.metadata),{id:Y,metadata:K,timestamp:X,event_message:ee,...et}=t,es={id:Y,status:$,method:J,path:H,search:W,user_agent:G,timestamp:X,event_message:ee,metadata:K,...V?{apikey:V}:null,...Q?{error_code:Q}:null,...Z?{role:Z}:null,...et};return(0,r.jsx)(ep,{log:es});case"database":let er=null==t||null==(P=t.metadata)||null==(L=P[0])||null==(D=L.parsed)||null==(k=D[0])?void 0:k.hint,el=null==t||null==(B=t.metadata)||null==(z=B[0])||null==(O=z.parsed)||null==(I=O[0])?void 0:I.detail,ea=null==t||null==(U=t.metadata)||null==(q=U[0])||null==(M=q.parsed)||null==(F=M[0])?void 0:F.query,en={...er&&{hint:er},...el&&{detail:el},...ea&&{query:ea},...t};return(0,r.jsx)(ep,{log:en});default:return(0,r.jsx)(ep,{log:t})}},{})}),(0,r.jsx)(B.av,{value:"raw",children:(0,r.jsx)(F.N,{hideLineNumbers:!0,language:"json",className:"prose w-full pt-0 max-w-full border-none",children:JSON.stringify(t,null,2)})})]})})]})})})};function ey(e){let{title:t="Select an Event",message:s="Select an Event to view the complete JSON payload"}=e;return(0,r.jsx)("div",{className:(0,b.cn)("flex h-full w-full flex-col items-center justify-center gap-2 overflow-y-scroll text-center transition-all px-4"),"data-sentry-component":"LogDetailEmptyState","data-sentry-source-file":"LogSelection.tsx",children:(0,r.jsxs)("div",{className:(0,b.cn)("flex w-full max-w-sm flex-col items-center justify-center gap-6 text-center transition-all delay-300 duration-500"),children:[(0,r.jsxs)("div",{className:"relative flex h-4 w-32 items-center rounded border border-control px-2",children:[(0,r.jsx)("div",{className:"h-0.5 w-2/3 rounded-full bg-surface-300"}),(0,r.jsx)("div",{className:"absolute right-1 -bottom-4",children:(0,r.jsx)(z.A,{size:"24",strokeWidth:1,"data-sentry-element":"MousePointerClick","data-sentry-source-file":"LogSelection.tsx"})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("h3",{className:"text-sm text-foreground",children:t}),(0,r.jsx)("p",{className:"text-xs text-foreground-lighter",children:s})]})]})})}function ej(e){let{error:t}=e;return(0,r.jsx)("pre",{"data-sentry-component":"LogErrorState","data-sentry-source-file":"LogSelection.tsx",children:JSON.stringify(t,null,2)})}let ev=e=>{let{error:t}=e;return(0,r.jsx)("div",{className:"w-full prose min-w-full text-foreground text-sm","data-sentry-component":"DefaultErrorRenderer","data-sentry-source-file":"DefaultErrorRenderer.tsx",children:(0,r.jsx)(F.N,{title:"Error fetching logs",language:"json",hideLineNumbers:!0,value:"string"==typeof t?t:JSON.stringify(t,null,2),className:"w-full font-mono","data-sentry-element":"CodeBlock","data-sentry-source-file":"DefaultErrorRenderer.tsx"})})};var ew=s(50286),eN=s(76174),eb=s(7981);let eS=(0,u.createContext)({chevronAlign:"left",justified:!0,type:"default"});function eC(e){let{children:t,className:s,onChange:l,openBehaviour:a="multiple",type:n="default",defaultValue:o,justified:i=!1,chevronAlign:d="left"}=e,c=[(0,eb.A)("accordion").variants[n].base];return s&&c.push(s),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(ew.bL,{type:a,onValueChange:function(e){l&&l(e),e==typeof String&&e.split(" ")},defaultValue:o,className:c.join(" "),"data-sentry-element":"RadixAccordion.Root","data-sentry-source-file":"Accordion.tsx",children:(0,r.jsx)(eS.Provider,{value:{chevronAlign:d,justified:i,type:n,defaultValue:o},"data-sentry-element":"AccordionContext.Provider","data-sentry-source-file":"Accordion.tsx",children:(0,r.jsx)("div",{children:t})})})})}eC.Item=function(e){let{children:t,className:s,header:l,id:a,disabled:n}=e,o=(0,eb.A)("accordion"),[i,d]=(0,u.useState)(!1),{type:c,justified:x,chevronAlign:m}=(0,u.useContext)(eS),f=[o.variants[c].trigger];x&&f.push(o.justified),s&&f.push(s);let p=[o.chevron.base,o.chevron.align[m]];return i&&!n&&p.unshift("!rotate-180"),(0,r.jsxs)(ew.q7,{value:a,className:o.variants[c].container,disabled:n,onClick:()=>{d(!i)},"data-sentry-element":"RadixAccordion.Item","data-sentry-component":"Item","data-sentry-source-file":"Accordion.tsx",children:[(0,r.jsxs)(ew.l9,{className:f.join(" "),"data-sentry-element":"RadixAccordion.Trigger","data-sentry-source-file":"Accordion.tsx",children:[l,!n&&(0,r.jsx)(eN.A,{"aria-hidden":!0,className:p.join(" "),strokeWidth:2})]}),(0,r.jsx)(ew.UC,{className:o.variants[c].content,"data-sentry-element":"RadixAccordion.Content","data-sentry-source-file":"Accordion.tsx",children:(0,r.jsx)("div",{className:o.variants[c].panel,children:t})})]})};var eR=s(80421);let eE=e=>{let{error:t,isCustomQuery:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-foreground-light","data-sentry-component":"ResourcesExceededErrorRenderer","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[(0,r.jsx)("p",{children:"This query requires too much memory to be executed."}),(0,r.jsx)("p",{children:s?"Avoid selecting entire objects and instead select specific keys using dot notation.":"Avoid querying across a large datetime range."}),!s&&(0,r.jsx)("p",{children:"Please contact support if this error persists."})]}),(0,r.jsx)(eC,{className:"text-sm",justified:!1,openBehaviour:"multiple",type:"default",chevronAlign:"left",size:"small",iconPosition:"left","data-sentry-element":"Accordion","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:(0,r.jsx)(eC.Item,{id:"1",header:"Full error message","data-sentry-element":"Accordion.Item","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:(0,r.jsx)(eR.A.TextArea,{size:"tiny",value:JSON.stringify(t,null,2),borderless:!0,className:"mt-4 w-full font-mono",copy:!0,rows:5,"data-sentry-element":"Input.TextArea","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx"})})})]})};var e_=s(70653);let eT=e=>{let{data:t=[],queryType:s,onHistogramToggle:a,isHistogramShowing:R,isLoading:E,isSaving:_,error:I,projectRef:O,onRun:z,onSave:B,hasEditorValue:F,className:M,EmptyState:q,showHeader:U=!0,showHistogramToggle:$=!0,selectedLog:J,isSelectedLogLoading:H,selectedLogError:W,onSelectedLogChange:G}=e,{ref:Q}=(0,h.g)(),{profile:V}=(0,w.xc)(),[Z]=(0,j.t)(),{show:Y}=(0,x.EF)(),[K,X]=(0,u.useState)(),[ee,et]=(0,u.useState)(!1),[es,er]=(0,u.useState)(null),{can:el}=(0,v.Qp)(l.aG.CREATE,"user_content",{resource:{type:"log_sql",owner_id:null==V?void 0:V.id},subject:{id:null==V?void 0:V.id}}),ea=t[0],en=Object.keys(function(){if(!ea)return{};let{timestamp:e,...t}=ea;return e?{timestamp:e,...t}:ea}()||{}),eo=en.includes("id"),ei=en.includes("timestamp"),ed="logs-explorer-context-menu",ec=en.map((e,t)=>({key:"logs-column-".concat(t),name:e,resizable:!0,renderCell:t=>{let{row:s}=t;return(0,r.jsx)("span",{onContextMenu:t=>{t.preventDefault(),X({row:s,column:{name:e}}),Y(t,{id:ed})},children:ey(null==s?void 0:s[e])})},renderHeaderCell:t=>(0,r.jsx)("div",{className:"flex items-center",children:e}),minWidth:128})),eu=ec;if(s)switch(s){case"api":eu=k;break;case"database":case"pg_cron":eu=D;break;case"fn_edge":eu=L;break;case"functions":eu=P;break;case"auth":eu=A;break;default:eu=ea&&(0,eh.Nd)(ea)?T:ec}let[ex,em]=(0,u.useMemo)(()=>{let e=[...new Set(t)];if(!eo)return[e,{}];let s=e.reduce((e,t)=>(e[t.id]=t,e),{});return[e,s]},[t,eo]),ef=(0,u.useMemo)(()=>eo&&ei?Object.values(em).sort((e,t)=>t.timestamp-e.timestamp):ex,[ex,eo,ei,em]),ep=(0,u.useCallback)((e,t)=>(0,r.jsx)(m.fI,{...t,isRowSelected:!1,selectedCellIdx:void 0,onContextMenu:e=>{eu.length>0&&X({row:t.row,column:eu[0]}),Y(e,{id:ed})}},e),[eu,Y]),ey=e=>e&&"object"==typeof e?JSON.stringify(e):null===e?"NULL":String(e);function ej(e){er(e),null==G||G(e)}let ew=(0,u.useCallback)(e=>{if(!ef.length||!es)return;let t=ef.findIndex(e=>n()(e,es));-1!==t&&("ArrowUp"===e.key&&t>0?ej(ef[t-1]):"ArrowDown"===e.key&&t<ef.length-1&&ej(ef[t+1]))},[ef,es,ej]);return((0,u.useEffect)(()=>{(J||H)&&et(!0),H||J||er(null)},[J,H]),(0,u.useEffect)(()=>(window.addEventListener("keydown",ew),()=>{window.removeEventListener("keydown",ew)}),[ew]),(0,u.useEffect)(()=>{if(!E&&!es){let e=t.find(e=>e.id===Z);e&&er(e)}},[E]),t)?(0,r.jsxs)("section",{className:"h-full flex w-full flex-col flex-1","data-sentry-component":"LogTable","data-sentry-source-file":"LogTable.tsx",children:[!s&&(0,r.jsx)(()=>(0,r.jsxs)("div",{className:(0,b.cn)("flex w-full items-center justify-between border-t bg-surface-100 px-5 py-2",M,{hidden:!U}),"data-sentry-component":"LogsExplorerTableHeader","data-sentry-source-file":"LogTable.tsx",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(y.b,{type:"text",text:"Results ".concat(t&&t.length?"(".concat(t.length,")"):""),results:t,fileName:"supabase-logs-".concat(Q,".csv"),"data-sentry-element":"DownloadResultsButton","data-sentry-source-file":"LogTable.tsx"})}),$&&(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(S.$,{type:"default",icon:R?(0,r.jsx)(o.A,{}):(0,r.jsx)(i.A,{}),onClick:a,children:"Histogram"})}),(0,r.jsxs)("div",{className:"space-x-2",children:[h.pe&&(0,r.jsx)(g.G,{type:"default",onClick:B,loading:_,disabled:!el||!F,tooltip:{content:{side:"bottom",text:el?void 0:"You need additional permissions to save your query"}},children:"Save query"}),(0,r.jsx)(S.$,{title:"run-logs-query",type:F?"primary":"alternative",disabled:!F,onClick:z,iconRight:(0,r.jsx)(d.A,{size:12}),loading:E,"data-sentry-element":"Button","data-sentry-source-file":"LogTable.tsx",children:"Run"})]})]}),{}),(0,r.jsxs)(C.HK,{direction:"horizontal","data-sentry-element":"ResizablePanelGroup","data-sentry-source-file":"LogTable.tsx",children:[(0,r.jsxs)(C.wV,{defaultSize:J?60:100,"data-sentry-element":"ResizablePanel","data-sentry-source-file":"LogTable.tsx",children:[(0,r.jsx)(m.Ay,{role:"table",style:{height:"100%"},className:(0,b.cn)("flex-1 flex-grow h-full border-0",{"data-grid--simple-logs":s,"data-grid--logs-explorer":!s}),rowHeight:40,headerRowHeight:28*!s,onSelectedCellChange:e=>{X(e)},onCellClick:e=>{ej(e.row)},columns:eu,rowClass:e=>(0,b.cn)("font-mono tracking-tight !bg-studio hover:!bg-surface-100 cursor-pointer",{"!bg-surface-200 rdg-row--focused":n()(e,es)}),rows:ef,rowKeyGetter:e=>eo?e.id:JSON.stringify(e),renderers:{renderRow:ep,noRowsFallback:E?null:(0,r.jsxs)(r.Fragment,{children:[0===ef.length&&!I&&(0,r.jsx)(()=>q||(0,r.jsx)(e_.y,{}),{}),I&&(0,r.jsx)(()=>{var e;if(!I)return null;let t={isCustomQuery:!s,error:I};return"object"==typeof I&&(null==(e=I.error)?void 0:e.errors.find(e=>"resourcesExceeded"===e.reason))?(0,r.jsx)(eE,{...t}):(0,r.jsx)("div",{className:"text-foreground flex gap-2 font-mono p-4","data-sentry-component":"RenderErrorAlert","data-sentry-source-file":"LogTable.tsx",children:(0,r.jsx)(ev,{...t,"data-sentry-element":"DefaultErrorRenderer","data-sentry-source-file":"LogTable.tsx"})})},{})]})},"data-sentry-element":"DataGrid","data-sentry-source-file":"LogTable.tsx"}),(0,f.createPortal)((0,r.jsx)(x.W1,{id:ed,animation:!1,children:(0,r.jsxs)(x.q7,{onClick:()=>{if(!K)return;let e=K.row.event_message;(0,N.l)(e,()=>{p.oR.success("Copied to clipboard")})},children:[(0,r.jsx)(c.A,{size:14}),(0,r.jsx)("span",{className:"ml-2 text-xs",children:"Copy event message"})]})}),document.body)]}),(0,r.jsx)(C.WM,{withHandle:!0,"data-sentry-element":"ResizableHandle","data-sentry-source-file":"LogTable.tsx"}),ee&&(0,r.jsx)(C.wV,{minSize:40,defaultSize:50,children:(0,r.jsx)(eg,{isLoading:H||!1,projectRef:O,onClose:()=>{null==G||G(null),et(!1)},log:J,error:W,queryType:s})})]})]}):null}},75024:(e,t,s)=>{s.d(t,{T5:()=>o,YN:()=>c,_2:()=>u,gl:()=>i,vm:()=>d});var r=s(80263);s(27519),s(53239),s(75187);var l=s(12123),a=s(80356);s(53434);var n=s(80100);let o=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"flex h-full w-full items-center gap-4","data-sentry-component":"RowLayout","data-sentry-source-file":"LogsFormatters.tsx",children:t})},i=e=>{let{value:t,className:s}=e;return(0,r.jsx)("span",{className:(0,n.cn)("font-mono text-xs truncate select-text cursor-text",s),"data-sentry-component":"TextFormatter","data-sentry-source-file":"LogsFormatters.tsx",children:t})},d=e=>{let{value:t}=e;if(!t)return(0,r.jsx)("div",{children:(0,r.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});let s=e=>{let{children:t,className:s}=e;return(0,r.jsx)("div",{className:"flex h-full items-center","data-sentry-component":"ResponseCodeItem","data-sentry-source-file":"LogsFormatters.tsx",children:(0,r.jsx)("div",{className:(0,n.cn)("relative flex h-6 items-center rounded-md justify-center px-2 py-1 text-center",s),children:(0,r.jsx)("label",{className:"block font-mono text-sm",children:t})})})};switch(t.toString().split("")[0]){case"1":return(0,r.jsx)(s,{children:t});case"2":return(0,r.jsx)(s,{className:"bg-surface-100 text-brand",children:t});case"5":return(0,r.jsx)(s,{className:"bg-red-300 text-red-1100",children:t});case"4":case"3":return(0,r.jsx)(s,{className:"bg-amber-300 text-amber-1100",children:t});default:return(0,r.jsx)(s,{className:"bg-surface-100 text-foreground-lighter",children:t})}},c=e=>{let{value:t,uppercase:s=!0}=e;if(!t)return(0,r.jsx)("div",{children:(0,r.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});let n=t.toUpperCase(),o=s?n:t,i=e=>{let{className:t,children:s}=e;return(0,r.jsx)("div",{className:"w-24 flex items-center h-full ".concat(t),"data-sentry-component":"Layout","data-sentry-source-file":"LogsFormatters.tsx",children:s})};switch(n){case"UNCAUGHTEXCEPTION":case"PANIC":case"FATAL":case"ERROR":return(0,r.jsxs)(i,{className:"gap-1",children:[(0,r.jsx)("div",{className:" p-0.5 rounded !text-red-900",children:(0,r.jsx)(l.A,{size:14,strokeWidth:2})}),(0,r.jsx)("span",{className:"!text-red-900 !block titlecase",children:o})]});case"INFO":case"DEBUG":return(0,r.jsxs)(i,{className:"gap-1",children:[(0,r.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,r.jsx)(l.A,{size:14,strokeWidth:2})}),(0,r.jsx)("span",{className:"!text-blue-900 !block titlecase",children:o})]});case"LOG":return(0,r.jsxs)(i,{className:"gap-1",children:[(0,r.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,r.jsx)(a.A,{size:14,strokeWidth:2})}),(0,r.jsx)("span",{className:"!text-blue-900 !block titlecase",children:o})]});case"WARNING":return(0,r.jsxs)(i,{className:"gap-1",children:[(0,r.jsx)("div",{className:" p-0.5 rounded !text-amber-900",children:(0,r.jsx)(l.A,{size:14,strokeWidth:2})}),(0,r.jsx)("span",{className:"!text-amber-900 !block titlecase",children:o})]});default:return(0,r.jsx)(i,{children:(0,r.jsx)("div",{className:"relative rounded px-2 py-1 text-center h-6 flex justify-center items-center bg-surface-100",children:(0,r.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:o})})})}};function u(e){let t=JSON.stringify(e,null,2);return(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-foreground":"string text-brand-600":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"}).split("\n").map(e=>'<span class="line text-xs">'.concat(e,"</span>")).join("\n")}},76935:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(80263);let l=e=>{let{children:t,active:s,className:l}=e;return(0,r.jsx)("div",{className:[l,"flex h-full flex-grow transition-opacity ",s?"opacity-30":"opacity-100"].join(" "),"data-sentry-component":"LoadingOpacity","data-sentry-source-file":"LoadingOpacity.tsx",children:t})}},88419:(e,t,s)=>{s.d(t,{B:()=>n});var r=s(23850);let l={search:"",timestampStart:"",timestampEnd:"",filters:{}},a=e=>(0,r.Cp)({parse:t=>null!=t?t:e,serialize:e=>e||""});function n(){let e,[t,s]=(0,r.ZA)("s",a(l.search)),[n,o]=(0,r.ZA)("its",a(l.timestampStart)),[i,d]=(0,r.ZA)("ite",a(l.timestampEnd)),[c,u]=(0,r.ZA)("log",a("")),[x,m]=(0,r.ZA)("f",(e=l.filters,(0,r.Cp)({parse:t=>{if(!t)return e;try{return JSON.parse(t)}catch(t){return e}},serialize:e=>{if(!e)return"";try{return JSON.stringify(e)}catch(e){return""}}}))),f=t||l.search,p=n||l.timestampStart,h=i||l.timestampEnd,g=x||l.filters,y=e=>{s(e||l.search)},j=e=>{m(e||l.filters)};return{search:f,timestampStart:p,timestampEnd:h,selectedLogId:c||null,filters:g,setSearch:y,setTimeRange:(e,t)=>{o(e||l.timestampStart),d(t||l.timestampEnd)},setSelectedLogId:e=>{u(e||"")},setFilters:j,updateFilter:(e,t)=>{j({...g,[e]:t})},reset:()=>{y(l.search),o(l.timestampStart),d(l.timestampEnd),u(""),m(l.filters)}}}}}]);