try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="6a365503-d519-4acf-b071-3ca75db40246",e._sentryDebugIdIdentifier="sentry-dbid-6a365503-d519-4acf-b071-3ca75db40246")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9505],{3209:(e,r,t)=>{t.d(r,{X:()=>n});var i=t(75211),a=t(5652);let n=(e,r)=>!(r instanceof a.o&&503===r.code&&r.message.includes("feature flag is required"))&&e<i.de},15833:(e,r,t)=>{t.d(r,{$m:()=>u,As:()=>c,nD:()=>l,ub:()=>d});var i=t(80263),a=t(50286),n=t(76174),o=t(53239),s=t(80100);let l=a.bL,c=o.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,i.jsx)(a.q7,{ref:r,className:(0,s.cn)("border-b",t),...n})});c.displayName="AccordionItem";let u=o.forwardRef((e,r)=>{let{className:t,children:o,hideIcon:l,...c}=e;return(0,i.jsx)(a.Y9,{className:"flex",children:(0,i.jsxs)(a.l9,{ref:r,className:(0,s.cn)("flex flex-1 gap-2 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180 text-left",t),...c,children:[o,!l&&(0,i.jsx)(n.A,{className:"h-4 w-4 transition-transform duration-200 shrink-0"})]})})});u.displayName=a.l9.displayName;let d=o.forwardRef((e,r)=>{let{className:t,children:n,...o}=e;return(0,i.jsx)(a.UC,{ref:r,className:(0,s.cn)("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",t),...o,children:(0,i.jsx)("div",{className:"pb-4 pt-0",children:n})})});d.displayName=a.UC.displayName},35238:(e,r,t)=>{t.d(r,{x:()=>c});var i=t(51355),a=t(80210),n=t(73969),o=t(24523),s=t(26004);async function l(e,r){let t,{projectRef:i,destinationName:a,destinationConfig:n,pipelineConfig:{publicationName:s,batch:l},sourceId:c}=e;if(!i)throw Error("projectRef is required");if("bigQuery"in n){let{projectId:e,datasetId:r,serviceAccountKey:i,maxStalenessMins:a}=n.bigQuery;t={big_query:{project_id:e,dataset_id:r,service_account_key:i,...null!==a?{max_staleness_mins:a}:{}}}}else if("iceberg"in n){let{projectRef:e,namespace:r,warehouseName:i,catalogToken:a,s3AccessKeyId:o,s3SecretAccessKey:s,s3Region:l}=n.iceberg;t={iceberg:{supabase:{namespace:r,project_ref:e,warehouse_name:i,catalog_token:a,s3_access_key_id:o,s3_secret_access_key:s,s3_region:l}}}}else throw Error("Invalid destination config: must specify either bigQuery or iceberg");let{data:u,error:d}=await (0,o.bE)("/platform/replication/{ref}/destinations-pipelines",{params:{path:{ref:i}},body:{source_id:c,destination_name:a,destination_config:t,pipeline_config:{publication_name:s,...l?{batch:{max_fill_ms:l.maxFillMs}}:{}}},signal:r});return d&&(0,o.H4)(d),u}let c=function(){let{onSuccess:e,onError:r,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,i.jE)();return(0,a.n)({mutationFn:e=>l(e),async onSuccess(r,t,i){let{projectRef:a}=t;await Promise.all([o.invalidateQueries({queryKey:s.l.destinations(a)}),o.invalidateQueries({queryKey:s.l.pipelines(a)})]),await (null==e?void 0:e(r,t,i))},async onError(e,t,i){void 0===r?n.oR.error("Failed to create destination or pipeline: ".concat(e.message)):r(e,t,i)},...t})}},58801:(e,r,t)=>{t.d(r,{e:()=>c});var i=t(51355),a=t(80210),n=t(73969),o=t(24523),s=t(26004);async function l(e,r){let{projectRef:t,destinationId:i,pipelineId:a}=e;if(!t)throw Error("projectRef is required");let{data:n,error:s}=await (0,o.yH)("/platform/replication/{ref}/destinations-pipelines/{destination_id}/{pipeline_id}",{params:{path:{ref:t,destination_id:i,pipeline_id:a}},signal:r});return s&&(0,o.H4)(s),n}let c=function(){let{onSuccess:e,onError:r,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,i.jE)();return(0,a.n)({mutationFn:e=>l(e),async onSuccess(r,t,i){let{projectRef:a,destinationId:n,pipelineId:l}=t;await Promise.all([o.invalidateQueries({queryKey:s.l.destinations(a)}),o.invalidateQueries({queryKey:s.l.pipelines(a)}),o.invalidateQueries({queryKey:s.l.pipelineById(a,l)}),o.invalidateQueries({queryKey:s.l.pipelinesStatus(a,l)}),o.invalidateQueries({queryKey:s.l.pipelinesReplicationStatus(a,l)}),o.invalidateQueries({queryKey:s.l.destinationById(a,n)})]),await (null==e?void 0:e(r,t,i))},async onError(e,t,i){void 0===r?n.oR.error("Failed to delete destination and pipeline: ".concat(e.message)):r(e,t,i)},...t})}},63417:(e,r,t)=>{t.d(r,{y:()=>c});var i=t(51355),a=t(80210),n=t(73969),o=t(24523),s=t(26004);async function l(e,r){let{projectRef:t}=e;if(!t)throw Error("projectRef is required");let{data:i,error:a}=await (0,o.bE)("/platform/replication/{ref}/tenants-sources",{params:{path:{ref:t}},signal:r});return a&&(0,o.H4)(a),i}let c=function(){let{onSuccess:e,onError:r,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,i.jE)();return(0,a.n)({mutationFn:e=>l(e),async onSuccess(r,t,i){let{projectRef:a}=t;await o.invalidateQueries({queryKey:s.l.sources(a)}),await (null==e?void 0:e(r,t,i))},async onError(e,t,i){void 0===r?n.oR.error("Failed to create tenant or source: ".concat(e.message)):r(e,t,i)},...t})}},65084:(e,r,t)=>{t.d(r,{b:()=>s});var i=t(67850),a=t(24523),n=t(26004);async function o(e,r){let{projectRef:t,sourceId:i}=e;if(!t)throw Error("projectRef is required");if(!i)throw Error("sourceId is required");let{data:n,error:o}=await (0,a.Jt)("/platform/replication/{ref}/sources/{source_id}/tables",{params:{path:{ref:t,source_id:i}},signal:r});return o&&(0,a.H4)(o),n.tables}let s=function(e){let{projectRef:r,sourceId:t}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.I)({queryKey:n.l.tables(r,t),queryFn:e=>{let{signal:i}=e;return o({projectRef:r,sourceId:t},i)},enabled:a&&void 0!==r&&void 0!==t,...s})}},73731:(e,r,t)=>{t.d(r,{J:()=>c});var i=t(67850),a=t(90702),n=t(24523),o=t(80658);let s="Failed to retrieve Iceberg namespaces";async function l(e){let{projectRef:r,catalogUri:t,warehouse:i}=e;try{if(!r)throw Error("".concat(s,": projectRef is required"));let e=(await (0,a.z4)(r)).apiKey,o=new Headers;(o=await (0,n.We)({"Content-Type":"application/json",apikey:e})).delete("Authorization");let l="".concat(t,"/v1/").concat(i,"/namespaces").replaceAll(RegExp("(?<!:)\\/\\/","g"),"/"),c=await (0,n.x8)(l,{headers:o,method:"GET"}),u=await c.json();if(u.error)if(u.error.message)throw Error("".concat(s,": ").concat(u.error.message));else throw Error(s);return u.namespaces.flat()}catch(e){(0,n.H4)(e)}}let c=function(e){let{enabled:r=!0,...t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{projectRef:a,catalogUri:n,warehouse:s}=e;return(0,i.I)({queryKey:o.w.icebergNamespaces({projectRef:a,warehouse:s,catalog:n}),queryFn:()=>l({...e}),enabled:t&&void 0!==a&&void 0!==n&&n.length>0&&void 0!==s&&s.length>0,...t})}},85694:(e,r,t)=>{t.d(r,{b:()=>l});var i=t(67850),a=t(24523),n=t(26004),o=t(3209);async function s(e,r){let{projectRef:t}=e;if(!t)throw Error("projectRef is required");let{data:i,error:n}=await (0,a.Jt)("/platform/replication/{ref}/pipelines",{params:{path:{ref:t}},signal:r});return n&&(0,a.H4)(n),i}let l=function(e){let{projectRef:r}=e,{enabled:t=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.I)({queryKey:n.l.pipelines(r),queryFn:e=>{let{signal:t}=e;return s({projectRef:r},t)},enabled:t&&void 0!==r,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:o.X,...a})}},93824:(e,r,t)=>{t.d(r,{V:()=>l});var i=t(67850),a=t(24523),n=t(26004),o=t(3209);async function s(e,r){let{projectRef:t}=e;if(!t)throw Error("projectRef is required");let{data:i,error:n}=await (0,a.Jt)("/platform/replication/{ref}/destinations",{params:{path:{ref:t}},signal:r});return n&&(0,a.H4)(n),i}let l=function(e){let{projectRef:r}=e,{enabled:t=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.I)({queryKey:n.l.destinations(r),queryFn:e=>{let{signal:t}=e;return s({projectRef:r},t)},enabled:t&&void 0!==r,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:o.X,...a})}},96078:(e,r,t)=>{t.d(r,{r:()=>l});var i=t(67850),a=t(24523),n=t(85039),o=t(52366);async function s(e,r){let{projectRef:t}=e;if(!t)throw Error("projectRef is required");let{data:i,error:n}=await (0,a.Jt)("/platform/storage/{ref}/credentials",{params:{path:{ref:t}},signal:r});return n&&(0,a.H4)(n),i}let l=function(e){let{projectRef:r}=e,{enabled:t=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.I)({queryKey:o.A.credentials(r),queryFn:e=>{let{signal:t}=e;return s({projectRef:r},t)},enabled:t&&n.pe&&void 0!==r,...a})}},97003:(e,r,t)=>{t.d(r,{Y:()=>l});var i=t(67850),a=t(24523),n=t(26004),o=t(3209);async function s(e,r){let{projectRef:t}=e;if(!t)throw Error("projectRef is required");let{data:i,error:n}=await (0,a.Jt)("/platform/replication/{ref}/sources",{params:{path:{ref:t}},signal:r});return n&&(0,a.H4)(n),i}let l=function(e){let{projectRef:r}=e,{enabled:t=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.I)({queryKey:n.l.sources(r),queryFn:e=>{let{signal:t}=e;return s({projectRef:r},t)},enabled:t&&void 0!==r,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:o.X,...a})}},99269:(e,r,t)=>{t.d(r,{Z:()=>s});var i=t(67850),a=t(24523),n=t(26004);async function o(e,r){let{projectRef:t,sourceId:i}=e;if(!t)throw Error("projectRef is required");if(!i)throw Error("sourceId is required");let{data:n,error:o}=await (0,a.Jt)("/platform/replication/{ref}/sources/{source_id}/publications",{params:{path:{ref:t,source_id:i}},signal:r});return o&&(0,a.H4)(o),n.publications.filter(e=>"supabase_realtime"!==e.name)}let s=function(e){let{projectRef:r,sourceId:t}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.I)({queryKey:n.l.publications(r,t),queryFn:e=>{let{signal:i}=e;return o({projectRef:r,sourceId:t},i)},enabled:a&&void 0!==r&&void 0!==t,...s})}},99487:(e,r,t)=>{t.d(r,{F:()=>c});var i=t(51355),a=t(80210),n=t(73969),o=t(24523),s=t(26004);async function l(e,r){let{projectRef:t,sourceId:i,name:a,tables:n}=e;if(!t)throw Error("projectRef is required");let{data:s,error:l}=await (0,o.bE)("/platform/replication/{ref}/sources/{source_id}/publications",{params:{path:{ref:t,source_id:i}},body:{name:a,tables:n},signal:r});return l&&(0,o.H4)(l),s}let c=function(){let{onSuccess:e,onError:r,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,i.jE)();return(0,a.n)({mutationFn:e=>l(e),async onSuccess(r,t,i){let{projectRef:a,sourceId:n}=t;await o.invalidateQueries({queryKey:s.l.publications(a,n)}),await (null==e?void 0:e(r,t,i))},async onError(e,t,i){void 0===r?n.oR.error("Failed to create publication: ".concat(e.message)):r(e,t,i)},...t})}}}]);